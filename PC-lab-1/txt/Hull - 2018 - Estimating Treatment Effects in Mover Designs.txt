arXiv:1804.06721v1 [econ.EM] 18 Apr 2018

Estimating Treatment Effects in Mover Designs‚àó
Peter Hull‚Ä†
April 2018

Abstract

Researchers increasingly leverage movement across multiple treatments to estimate causal effects. While these ‚Äúmover regressions‚Äù are often motivated by a
linear constant-effects model, it is not clear what they capture under weaker quasiexperimental assumptions. I show that binary treatment mover regressions recover
a convex average of four difference-in-difference comparisons and are thus causally
interpretable under a standard parallel trends assumption. Estimates from multipletreatment models, however, need not be causal without stronger restrictions on the
heterogeneity of treatment effects and time-varying shocks. I propose a class of
two-step estimators to isolate and combine the large set of difference-in-difference
quasi-experiments generated by a mover design, identifying mover average treatment effects under conditional-on-covariate parallel trends and effect homogeneity
restrictions. I characterize the efficient estimators in this class and derive specification tests based on the model‚Äôs overidentifying restrictions. Future drafts will
apply the theory to the Finkelstein et al. (2016) movers design, analyzing the causal
effects of geography on healthcare utilization.

‚àó I thank Sarah Abraham, Alberto Abadie, Isaiah Andrews, Josh Angrist, Amy Finkelstein, Matt Gentzkow,
Paul Goldsmith-Pinkham, Sida Peng, Nathan Hendren, Liyang Sun, Chris Walters, and Heidi Williams for valuable
feedback. This draft is a work in progress and should not be cited without prior notification.
‚Ä† University of Chicago and Microsoft Research. Email: hull@uchicago.edu; website: http://peterhull.net

1

Introduction

The rise of rich longitudinal data has broadened the scope for causal inference in economics. Rather
than estimating a single cross-sectional treatment effect, researchers increasingly exploit variation
in an individual‚Äôs treatment choices over time ‚Äì such as the firm they work for, the city they live
in, the teacher they learn from, or the doctor they are treated by ‚Äì in order to estimate a large
number of causal effects simultaneously.1 Often these effects are obtained from a linear two-way
fixed effects regression, motivated by a static, additive, and constant-effect model (e.g. Abowd et al.
(1999)). It is usually not clear, however, what these sorts of ‚Äúmover regressions‚Äù capture under
misspecifications of the model, including heterogeneous treatment effects, outcome persistence, and
time-varying shocks.
This paper explores the causal content of mover designs in a treatment effects framework, relaxing
the canonical regression model with familiar quasi-experimental restrictions. In the simplest case of
a binary treatment, two time periods, and no additional controls, I show that a mover regression
identifies a weighted average of four difference-in-difference comparisons, and is therefore causally
interpretable under a restriction on outcome persistance and a standard parallel trends assumption.
This result links mover analyses to simpler quasi-experimental designs, but does not easily extend
to settings with multiple unordered treatments. I show that, in general, mover regressions need not
identify weighted averages of heterogeneous causal effects under parallel trends alone; rather they
require additional restrictions on potential outcome heterogeneity across both treatments and time.
Motivated by these results, I develop a class of two-step mover average treatment effect (MATE)
estimators for quasi-experimental mover designs. The estimators can be thought to extend the semiparametric difference-in-difference approach of Abadie (2005) to settings where individuals move
both into and out of multiple treatments over time. Identification follows from conditional-oncovariate restrictions on trends and treatment effect heterogeneity, which are satisfied by a partiallyseparable model of dynamic potential outcomes. Certain MATEs are identified without direct restrictions on potential outcome persistence. The key effect homogeneity assumption permits extrapolation across observably-similar individuals from the many difference-in-difference comparisons
embeded in mover designs and generates a large set of overidentifying restrictions. I characterize
efficient MATE estimators and omnibus specification tests of these restrictions, both of which are
straightforward to compute given a set of first-step propensity score estimates.

1 Recent

examples include Bronnenberg et al. (2012), Card et al. (2013), Jackson (2013), Chetty et al. (2014),
Bloom et al. (2015), Finkelstein et al. (2016), Sacarny (2016), Finkelstein et al. (2017), Molitor (2017), Allcott et al.
(2017), and Chetty and Hendren (Forthcoming).

1

This analysis contributes to a small but growing econometric literature relaxing the canonical
assumptions of two-way fixed effect regressions, typically as applied to matched worker-firm panels.
Abowd et al. (2015), for example, propose tests of the additivity restriction and develop a latent class
model of non-random worker movement, while Hagedorn et al. (2017) leverage structural assumptions
and long-run time series variation to estimate worker and firm effect ranks. Most recently, Bonhomme
et al. (2017) show how to accommodate discrete heterogeneity and Markovian job search patterns
with certain forms of endogeneity. To my knowledge no paper has yet to study mover designs in a
treatment effects framework, though in applications researchers sometimes appeal to the essential
logic of parallel trends.2
This paper can also be thought to generalize classical and recent approaches to difference-indifferences estimation ‚Äì including Ashenfelter and Card (1985), Heckman et al. (1997, 1998), Abadie
(2005), and Athey and Imbens (2006) ‚Äì to settings with multiple non-absorbing treatment states.
A related recent literature considers the treatment effect interpretations of so-called ‚Äúevent study‚Äù
designs, in which individuals select into a binary treatment over multiple time periods (Imai and
Kim, 2016; Borusyak and Jaravel, 2016; Abraham and Sun, 2018; Callaway and Sant‚ÄôAnna, 2018;
De Chaisemartin and D‚ÄôHaultfoeuille, 2018). Here I focus on issues raised by selection into and out
of multiple treatments over two periods, though an appendix section extends the theory to multipleperiod mover designs. Further afield, the conditional homogeneity restriction I propose is similar
to those used by Angrist and Fernandez-Val (2013), Angrist and Rokkanen (2015), and Hull (2018)
for extrapolating treatment effects within and across quasi-experimental instrumental variable and
regression discontinuity designs.
More generally, this paper builds on the long and rich panel data literature (Chamberlain, 1980,
1982, 1984; Manski, 1987; Honore, 1992; Arellano, 2003) by allowing for certain forms of nonlinearity,
non-additivity, and heterogeneity in causal response over time. Notably, the parallel trends assumptions I develop here are weaker than the ‚Äútime ignorability‚Äù restrictions underlying recent approaches
to non-separable panel identification (Hahn, 2001; Wooldridge, 2005; Chernozhukov et al., 2013),
as the special structure of mover designs permits particular types of heterogeneous time-varying
shocks.3 As mentioned above some of my proposed estimators also allow for persistent effects of
treatment ‚Äì a feature that, as Imai and Kim (2016) point out, is typically ruled out in panel data
frameworks.

2 For example, Finkelstein et al. (2016)) state their identifying assumption as the restriction that ‚Äútrends do not
vary systematically with the migrant‚Äôs origin and destination.‚Äù
3 Graham and Powell (2012) consider an alternative panel approach with continuous treatment variables, this theory
is less relevant for mover selection among discrete unordered alternatives.

2

The remainder of this paper is organized as follows. The next section develops the dynamic
treatment effects framework, characterizes the causal content of conventional mover regressions,
and builds intuition for the main identification result. Section 3 then develops the class of two-step
estimators for mover average treatment effects and discusses both specification testing and efficiency.
Section 4 concludes. Future drafts of this paper will illustrate the theory using the the Medicare
patient mover design of Finkelstein et al. (2016). All proofs, along with the extension of the theory
to multiple time periods, are contained in the appendix.

2

Interpreting Mover Regressions

Suppose we observe a panel of individuals i over time periods t = 0, . . . , T ‚àí 1, including an outcome
Yit , a vector of covariates Xit , and an individual‚Äôs repeated selection Jit ‚àà {0, . . . , J ‚àí 1} among J
possible treatments. Let Dijt = 1[Jit = j] be an indicator for individual i choosing treatment j in
time t. A typical mover analysis estimates the regression
Yit = Œ±i + œÑt +

X

0
Œ≤j Dijt + Xit
Œ≥ + it .

(1)

j6=0

Here Œ±i and œÑt denote individual and time fixed effects, while the coefficient Œ≤j is meant to capture
the effect of treatment j relative to the omitted treatment 0. This mover regression may be estimated
just on the set of individuals with Jis 6= Jit for some s 6= t (who I refer to as movers) or include other
stayers with Jit = J¬Øi for all t. In practice researchers often exclude stayers or include mover-specific
fixed effects in (1) in order to weaken the identifying assumptions (Finkelstein et al., 2016; Chetty
and Hendren, Forthcoming).4
I use a dynamic potential outcomes framework (Robins, 1986, 1997) to characterize the causal
interpretation of equation (1). Let Yitk‚Üíj denote the outcome of individual i in time t if she were to
select treatment j in that period after previously following the treatment path of k = (k0 , . . . , kt‚àí1 )0 .
These are well-defined random variables under the usual stable unit treatment value assumption
(Ji0 ,...,Ji,t‚àí1 )0 ‚Üíj

(Rubin, 1980), which I maintain throughout. When not ambiguous I write Yitj ‚â° Yit

as the time-t potential outcome of individual i given her treatment choices Jis for s < t: that is, Yitj
implicitly conditions on choices made in past periods. Point-in-time treatment effects relative to the

4 Mover regressions are often written Y = Œ± + œÑ + Œ≤
0
t
it
i
Jit + Xit Œ≥ + it . One treatment category is always omitted
from estimation, though sometimes the estimated Œ≤j are recentered to capture effects relative to the average j.

3

omitted treatment are written Yitj ‚àí Yit0 , and realized outcomes can be written
Yit =Yit0 +

X

(Yitj ‚àí Yit0 )Dijt

j6=0

=Yit0‚Üí0 +

X 0‚Üíj
(Yit ‚àí Yit0‚Üí0 )Dijt

(2)

j6=0

Ô£´
+

X

Ô£≠Yitk‚Üí0 ‚àí Yit0‚Üí0 +

Ô£∂
X

k6=0

(Yitk‚Üíj ‚àí Yit0‚Üíj ‚àí (Yitk‚Üí0 ‚àí Yit0‚Üí0 ))Dijt Ô£∏

Y

Diks s ,

s<t

j6=0

where 0 denotes a conforming vector of zeros. The first two terms of equation (2) reflect potential
outcomes at time t if an individual had stayed in treatment 0 in all previous periods s < t, while
the third term captures differences in outcomes at time t arising from different treatment histories.
A comparison of equations (1) and (2) suggests a set of sufficient conditions for mover regression
estimates to be causally interpretable:
Assumption IO (Impersistent outcomes): For all j, t, and k, P (Yitk‚Üíj = Yit0‚Üíj ) = 1
j

j

Assumption CE (Constant effects): For all j and t, there exists Œ≤ such that P (Yitj ‚àí Yit0 = Œ≤ ) = 1
Assumption CO (Conditional orthogonality): E[Dijt it ] = 0 for each j, where it denotes the
residual from the population projection of Yit0 on Xit and individual and time effects
Potential outcomes are impersistent under Assumption IO in that they only depend on the contemporaneous treatment status and not on previous treatment choices. When this is the case the last
term of equation (2) is ignorable. When furthermore each of the period-specific treatment effects are
P
j
constant across individuals (Assumption CE), we may write Yit = Yit0 + j6=0 Œ≤ Dijt . The regression
j

0
coefficients Œ≤j then coincide with the causal effects Œ≤ if we can decompose Yit0 = Œ±i + œÑt + Xit
Œ≥ + it ,

with it orthogonal to the vector of treatment choices (Assumption CO).5
Assumptions IO, CE, and CO are straightforward to state mathematically and may, as in Finkelstein et al. (2016), stem from an underlying economic model. Nevertheless, they may also prove
strong and difficult to evaluate in practice: researchers might be reluctant to rule out any forms
of outcome persistence or treatment effect heterogeneity, or find it challenging to assess the appropriateness of the conditional orthogonality restriction in different settings. Instead, researchers
often motivate mover regressions with claims on the comparability of outcome trends across different types of movers, and validate their estimates with the kinds of pre- and post-trend analyses
typically associated with difference-in-difference designs.6 I therefore next consider what mover re-

5 Sometimes mover regressions are motivated by a stronger conditional independence assumption, along with implicit impersistence and constant effects assumptions: see, e.g., equations (2) and (4) in Abowd et al. (2015).
6 See, e.g., Figure 5 in Card et al. (2013), Table 4 in Jackson (2013), and Figure 6 in Finkelstein et al. (2016).

4

gressions identify when Assumptions IO and CE are relaxed and when Assumption CO is replaced
with a quasi-experimental parallel trends assumption. To start simply and build intuition for later
identification results, I first consider mover regressions with only two treatment states.

2.1

Binary Treatment Mover Regressions

Suppose there are only time periods (T = 2). Then the mover treatment coefficients are equivalently
defined by a first-differenced regression,
‚àÜYi = œÑ +

X

Œ≤j ‚àÜDij + ‚àÜXi0 Œ≥ + ‚àÜi ,

(3)

j6=0

where ‚àÜVi = Vi1 ‚àí Vi0 denotes the first-difference operator applied to variable Vit and œÑ = œÑ1 ‚àí œÑ0 .
When furthermore treatment is binary (J = 2) and there are no added covariates (Xit = 0), we
have a simple algebraic expression for the single mover regression coefficient Œ≤1 :
Lemma 1: If T = J = 2 and Xit = 0, the mover regression coefficient equals
Œ≤1 =(E[‚àÜYi | ‚àÜDi1 = 1] ‚àí E[‚àÜYi | ‚àÜDi1 = 0])œâ

(4)

+ (E[‚àÜYi | ‚àÜDi1 = 0] ‚àí E[‚àÜYi | ‚àÜDi1 = ‚àí1])(1 ‚àí œâ),
where œâ ‚àà [0, 1] is a function of P (‚àÜDi1 = 1) and P (‚àÜDi1 = ‚àí1). When P (‚àÜDi1 = 0) = 0,
moreover, œâ = 1/2 and
Œ≤1 =(E[‚àÜYi | ‚àÜDi1 = 1] ‚àí E[‚àÜYi | ‚àÜDi1 = ‚àí1])œâ.

(5)

The proof of Lemma 1 uses omitted-variables bias algebra to write Œ≤1 as a linear combination of
the coefficients from a saturated model for E[‚àÜYi | ‚àÜDi1 ], identifying mean outcome growth among
stayers (with ‚àÜDi1 = 0), those who move out of treatment 1 (with ‚àÜDi1 = ‚àí1), and those who
move into treatment 1 (with ‚àÜDi1 = 1). Lemma 1 thus shows that the simplest mover regression
identifies a convex average of outcome growth comparisons between movers and stayers, across the
two mover types. In the special case of no stayers this expression simplifies to the single comparison
(5) across the two mover groups.
Using Lemma 1, it is straightforward to show that a restriction on average outcome persistence,
combined with a standard parallel trends assumption, renders binary treatment mover regressions
causally interpretable:
Proposition 1: If T = J = 2, Xit = 0, and for each j ‚àà {0, 1} potential outcomes satisfy
(1‚àíj)‚Üíj

E[Yi1

| ‚àÜDij = 1] = E[Yi1j‚Üíj | ‚àÜDij = 1]
5

(6)

and
E[Yi1j‚Üíj ‚àí Yi0j | Dij0 Dij1 = 1] = E[Yi1j‚Üíj ‚àí Yi0j | ‚àÜDij = 1]

(7)

= E[Yi1j‚Üíj ‚àí Yi0j | ‚àÜDij = ‚àí1],

(8)

then the mover regression coefficient identifies
Œ≤1 =

X

X

E[Yit1 ‚àí Yit0 | ‚àÜDi1 = d] œâtd ,

(9)

t‚àà{0,1} d‚àà{‚àí1,1}

where œâtd ‚â• 0 is a function of the distribution of (Di10 , Di11 )0 and

P

P

œâtd = 1.

t‚àà{0,1} d‚àà{‚àí1,1}

In words, Proposition 1 states that the binary treatment mover regression identifies a convex
combination of average treatment effects, across time and the two mover groups, under two assumptions. First, equation (6) requires individuals that move into each treatment to have, on average, the
same time-1 outcome as if they had always been there (an impersistence assumption, weakening Assumption IO). Second, equations (7)-(8) state that ‚Äì conditional on an individual being in treatment
j at any point ‚Äì the potential outcomes for different types of movers and stayers would have followed
the same average growth path in the absence of a move (a parallel trends assumption, weakening
Assumption CO). Note that Proposition 1 does not directly restrict treatment effect heterogeneity,
relaxing Assumption CE.
Intuition for the link between equation (4) and equation (9) comes from classic difference-indifferences logic. Under parallel trends, the difference in outcome growth rates between those moving
into treatment 1 at t = 1 (with ‚àÜDi1 = 1) and treatment 0 stayers (with Di00 = Di01 = 1) identifies
the average time-1 treatment effect of the former group,
E[‚àÜYi | ‚àÜDi1 = 1] ‚àí E[‚àÜYi | ‚àÜDi1 = 0, Di00 = 1] = E[Yi11 ‚àí Yi10 | ‚àÜDi1 = 1],

(10)

while the average time-1 treatment effect for the other mover group (with ‚àÜDi1 = ‚àí1) is identified
by subtracting their outcome growth from that of the other stayer group (with Di10 = Di11 = 1):
E[‚àÜYi | ‚àÜDi1 = 0, Di10 = 1] ‚àí E[‚àÜYi | ‚àÜDi1 = ‚àí1] = E[Yi11 ‚àí Yi10 | ‚àÜDi1 = ‚àí1].

(11)

Similarly, when the assumptions of Proposition 1 hold, comparisons of outcome growth among (i)
‚àÜDi1 = 1 movers and treatment 1 stayers and (ii) treatment 0 stayers and ‚àÜDi1 = ‚àí1 movers
identify average time-0 treatment effects. Thus each of the two terms in Lemma 1 can be written
as a weighted average of difference-in-difference comparisons identifying average causal effects under
the assumptions.
Figure 1(a) summarizes the four difference-in-difference comparisons combined in the simple

6

mover regression. Outcome growth contrasts within the dark- and light-colored groups identify average time-1 effects under the assumptions of Proposition 1, while comparisons within the dashedand solid-lines group identify average time-0 effects. Interestingly, only the parallel trends assumption is needed to identify the former, whereas the impersistence restriction is also used to ensure
the time-0 comparisons are causally interpretable. This is because time-0 outcomes can always be
‚Äúdifferenced off‚Äù when comparing within the light- dark-colored groups of Figure 1(a), as in standard difference-in-differences, but the time-1 outcomes in the ‚Äúreverse‚Äù difference-in-differences of
the dashed- and solid groups are not comparable when potential outcomes systematically persist.
The appendix proof to Proposition 1 shows that the weights aggregating these difference-indifference comparisons depend on the population shares of different mover and stayer types. Clearly
if there are no movers with ‚àÜDi1 = ‚àí1 then Œ≤1 represents a weighted average of causal effects for
movers with ‚àÜDi1 = 1, and vice-versa. How much weight is placed on effects from time 0 versus time
1 moreover depends on the proportion of stayers in each treatment: at the extremes if there are no
stayers at either d = 0 or d = 1, then the mover regression weights together time-d effects for movers
with ‚àÜDi1 = 1 and time-(1‚àíd) effects for movers with ‚àÜDi1 = ‚àí1. Thus when there are no initiallytreated individuals, the mover regression identifies E[Yi11 ‚àí Yi10 | ‚àÜDi1 = 1] = E[Yi11 ‚àí Yi10 | Di11 = 1],
the average treatment effect on the treated, as in a standard difference-in-difference design.
Finally, it is worth exploring the special situation in which there are no stayers of either type.
This follows from the second part of Lemma 1:
Corollary to Proposition 1: Suppose P (‚àÜDi1 = 0) = 0 and the assumptions of Proposition 1
hold. Then the mover regression coefficient identifies
1
(E[Yi11 ‚àí Yi10 | ‚àÜDi1 = 1] + E[Yi01 ‚àí Yi00 | ‚àÜDi1 = ‚àí1])
2
1
= (E[Yi01 ‚àí Yi00 | ‚àÜDi1 = 1] + E[Yi11 ‚àí Yi10 | ‚àÜDi1 = ‚àí1]).
2

Œ≤1 =

(12)
(13)

As mentioned, researchers may exclude stayers from a mover regression in order to weaken the
identifying assumptions: here note that whenever the parallel trends assumption in Proposition is
satisfied with stayers it is also satisfied when they are excluded. The corollary shows that without
stayers the simple mover regression identifies a simply-weighted average of mover treatment effects
across time. Interestingly, this estimand can be expressed in two ways: as the average of time-t
effects for movers into treatment 1 and time-(1 ‚àí t) effects for movers out of treatment 1, for either
t = 0 or t = 1. The equivalence of (12) and (13) is an algebraic consequence of imposing parallel
trends for both treatments.
A pessimistic interpretation of Proposition 1 and its corollary is that mover regression coefficients

7

may be difficult to interpret even in the binary treatment case. That is, two mover experiments with
the same joint distribution of causal effects and treatment choices (and thus the same average treatment effects for different types of movers and stayers) may produce different regression coefficients,
depending on the marginal distribution of initial treatment. Researchers interested in the external
validity of mover regression estimates, or in comparing estimates across different experiments, may
view this as an important limitation.7 Nevertheless, the above discussion suggests this limitation can
be easily overcome: when the assumptions of Proposition 1 hold, a researcher wishing to estimate a
time-specific average causal effect could construct the relevant difference-in-difference comparisons
in Figure 1(a) and weight them together as they please. This reweighted difference-in-difference
logic is at the core of the general strategy for identifying mover average treatment effects in Section
3. Before formalizing the strategy, however, we first consider additional complications arising from
mover designs with multiple unordered treatments.

2.2

Multiple-treatment Mover Regressions

In practice, mover regressions involve choices across many different treatments. Finkelstein et al.
(2016), for example, estimate models with 305 healthcare market treatments, while Card et al.
(2013) study worker movement across over a million German firms. It may be reasonable to expect
that the basic difference-in-difference logic extends to multiple-treatment regressions, so that they
again capture some weighted average of causal effects under weak quasi-experimental restrictions.
The following result, however, shows that this is not the case:
Proposition 2: Suppose T = 2, Xit = 0, and J > 2. Then even if both Assumption IO and the
parallel trends assumption in Proposition 1 hold for all treatments j, the mover regression
coefficients need not identify weighted averages of individual treatment effects.
The appendix proof of Proposition 2 shows that even with strongly impersistent outcomes and
conventionally parallel trends, the multiple treatment coefficients in equation (1) combine a set of
average treatment effects with a set of non-causal terms. The latter are of the form
E[Yi1j ‚àí Yi0j | Dij0 Dij1 = 1] ‚àí E[Yi1k ‚àí Yi0k | Dik0 Dik1 = 1]

(14)

and
k
0
E[Yitj ‚àí Yit0 | Di00 Dij1 = 1] + E[Yisk ‚àí Yisj | Dij0 Dik1 = 1] ‚àí E[Yiu
‚àí Yiu
| Di00 Dik1 = 1],

(15)

7 Yitzhaki (1996) argues this point for regression-weighted averages of causal parameters in general; see also Angrist
(1998) and, more recently, Gibbons et al. (2018).

8

for treatments j > 0 and k 6= j and for time periods t, s, and u. These capture, respectively,
differences in trends among stayers in different treatment states and combinations of causal effects
for movers across different treatments and times. Although each of these comparisons are ignorable
in the canonical additively-separable and constant-effects model (or imposed directly by Assumption
CO and CE), in general they are non-zero under the parallel trends assumption, rendering the mover
coefficients causally uninterpretable.
At first this shortcoming of multi-treatment mover regressions may appear a puzzle. After all
additional treatment choices simply yield more difference-in-difference comparisons, each of which
are causally interpretable under parallel trends and Assumption IO. The issue, as with the weighting
scheme of Proposition 1, is that the mover regression combines the set of quasi-experiments in a way
that is sensible when the canonical mover model is correctly specified, but need not be when there
are heterogeneous treatment effects or time-varying shocks.
As a simple example of the issue, consider a three-treatment design with the two mover and
stayer groups illustrated in Figure 1(b). Following the logic of the previous subsection, there are
two time-1 average causal effects identified under parallel trends: the effect of treatment 1 relative
to treatment 0 for movers from 0 to 1 and the effect of treatment 2 relative to treatment 1 for
movers from 1 to 2. The average time-0 effect of treatment 1 relative to treatment 0 is moreover
identified for movers from 0 to 1 if we add an outcome impersistence condition. As in Figure 1(a),
the difference-in-difference comparisons identifying each of these effects are given by contrasts within
similarly-colored and similarly-patterned line groups.
How does the mover regression combine these effects? Using formulas from the proof to Proposition 2, we can show that the treatment coefficients satisfy
Œ≤1 =E[Yi11 ‚àí Yi10 | ‚àÜDi1 = 1]p0 + E[Yi01 ‚àí Yi00 | ‚àÜDi1 = 1](1 ‚àí p0 )

(16)

Œ≤2 =E[Yi01 ‚àí Yi00 | ‚àÜDi1 = 1] + E[Yi12 ‚àí Yi11 | ‚àÜDi2 = 1]

(17)


+ 2p0 E[Yi11 ‚àí Yi01 | Di10 Di11 = 1] ‚àí E[Yi10 ‚àí Yi00 | Di00 Di01 = 1] ,
where p0 denotes the proportion of stayers in treatment 0. Thus, while the treatment-1 mover
regression coefficient continues to identify a convex average of time-0 and time-1 treatment effects, the
coefficient on treatment 2 is not causal. Lacking any difference-in-difference comparison identifying
the effect of treatment 2 relative to treatment 0, the mover regression sums the first two causal
effects in equation (17). Under a constant effects assumption this is sensible, since then
1

2

1

E[Yi01 ‚àí Yi00 | ‚àÜDi1 = 1] + E[Yi12 ‚àí Yi11 | ‚àÜDi2 = 1] = Œ≤ + (Œ≤ ‚àí Œ≤ ) = Œ≤

2

= E[Yi12 ‚àí Yi10 | ‚àÜDi2 = 1],

9

(18)

though with meaningful treatment effect heterogeneity this sum need not be causally interpretable.
Equation (17) moreover includes a term capturing the difference in outcome growth rates for the
two stayer groups. This is again sensible under Assumptions CE and CO, since then
1

1

E[Yi11 ‚àí Yi01 | Di10 Di11 = 1] ‚àí E[Yi10 ‚àí Yi00 | Di00 Di01 = 1] =E[Œ≤ + Yi10 ‚àí Œ≤ + Yi00 | Di10 Di11 = 1]
‚àí E[Yi10 ‚àí Yi00 | Di00 Di01 = 1]
= 0,

(19)

though in general this term need not be zero. Note that the left-hand side of equation (18) is
an example of equation (15), where the third undefined term is arbitrarily set to zero, while the
left-hand side of equation (19) is an example of equation (14).
A researcher pessimistic about the weighting scheme in Proposition 1 may therefore have even
more cause for pessimism with multiple-treatment mover regressions. Despite the availability of multiple difference-in-difference comparisons, conventional mover analyses need not even have a weighted
causal effect interpretation when J > 2. Nevertheless, as with the binary treatment case, one could
imagine individually extracting and more sensibly combining the component difference-in-difference
quasi-experiments to overcome the limitations of mover regressions. This combination may involve
extrapolating some causal effects from others, just as the above regression example does in order
to identify the average effect of treatment 2 relative to treatment 0 under constant effects. Weaker
extrapolations, however, may only combine difference-in-difference experiments capturing treatment
effects from the same time period and for observably-similar movers, weakening the constant effects
assumption. I next develop a class of two-step estimators that enact this logic.

3

Estimating Mover Average Treatment Effects

In general there may be many combinations of heterogeneous treatment effects that are of interest
in a mover design. To discipline the initial theoretical approach I focus on mover average treatment
effects, defined for each treatment j > 0 as
M AT Ejt = E[Yitj ‚àí Yit0 | ‚àÜDi 6= 0],

(20)

where ‚àÜDi is a vector collecting the set of ‚àÜDij . Here M AT Ejt captures the average time-t effect of
treatment j relative to treatment 0, among individuals that change treatment status.8 That mover

8 Recall that while for simplicity we restrict attention here to two periods, the appendix generalizes what follows
to the multiple period case. For this I define ‚àÜDi as a vector collecting the set of Dijt ‚àí Dijs for all t 6= s, so that
M AT Ejt captures the average effect for individuals moving at any point.

10

designs tend to reveal effects on mobile individuals is often implicit in applications, just as is that
standard difference-in-difference estimation tends to capture average effects for those who become
treated (Abadie, 2005). Of course, if there are no stayers in the study population the MATEs become
average treatment effects (ATEs).

3.1

Identifying Assumptions

The key quasi-experimental assumption I leverage is that of conditional parallel trends, which generalizes the trend restrictions in Proposition 1. Formally, with Xi denoting a vector of controls
(including, perhaps, some elements of the Xi0 and Xi1 from the mover regression and other timeinvariant observables), consider
Assumption CPT (Conditional parallel trends): For each treatment j and x in the support of Xi ,
E[Yi1j‚Üíj ‚àí Yi0j | Dij0 Dij1 = 1, Xi = x] = E[Yi1j‚Üíj ‚àí Yi0j | ‚àÜDij = 1, Xi = x]
= E[Yi1j‚Üíj ‚àí Yi0j | ‚àÜDij = ‚àí1, Xi = x].

(21)
(22)

Under Assumption CPT, the average treatment-j outcomes for different types of movers into or
out of j and stayers at j would have followed parallel paths if not for the move, conditional on the
controls in Xi . In many settings it may be plausible that an individual‚Äôs treatment selection is only
driven by potential outcome dynamics through a set of contemporaneous or lagged observables, as
with the famous ‚ÄúAshenfelter dip‚Äù of pre-treatment income for those entering job training programs
(Ashenfelter, 1978; Ashenfelter and Card, 1985). Clearly, the parallel trends assumption in Proposition 1 is a special case of Assumption CPT, for which Xi = 0. It is also straightforward to verify that
the ‚Äútime ignorability‚Äù identifying assumptions developed in the recent literature on non-separable
panel models (e.g. Chernozhukov et al. (2013)) imply Assumption CPT, but are not implied by it.9
As with multiple-treatment mover regressions, combining causal effects across many difference-indifference experiments requires further homogeneity restrictions. Here I adopt a weaker assumption
than the canonical model: that mover treatment effects are on average comparable, conditional on
observables:
Assumption CEH (Conditional effect homogeneity): For each period t, treatments j and k, and x
in the support of Xi , E[Yitj ‚àí Yitk | ‚àÜDi = d, Xi = x] does not depend on d 6= 0.

et al. (2013) consider models of the form Yitk‚Üíj = g(j, Xi , Œ±i , it ), where the distribution of it
j‚Üíj
j
does not depend on t given (Œ±i , Ji0 , Ji1 , Xi ). Then E[Yi1
‚àí Yi0
| Ji0 , Ji1 , Xi ] = 0, satisfying Assumption CPT.
Identification here allows for heterogeneous time-varying shocks by leveraging the particular structure of mover designs.
9 Chernozhukov

11

Restrictions on the conditional heterogeneity of average causal effects have been previously used in
the treatment effects literature to extrapolate within and across different quasi-experiments (Angrist
and Fernandez-Val, 2013; Angrist and Rokkanen, 2015; Hull, 2018). Here Assumption CEH states
that differences in average causal effects for movers with different origins-destination pairs are driven
only by the set of observed contemporaneous or lagged controls in Xi . In applications researchers
sometimes gauge mover effect homogeneity by tests of outcome trend symmetry (e.g. Card et al.
(2013)); Assumption CEH can thus be thought to relax the assumptions motivating such tests.
Finally, as in the previous section, I use a restriction on average potential outcome persistence
to identify time-0 causal effects from ‚Äúreverse‚Äù difference-in-difference quasi experiments. Again this
can be made conditional on observables:
Assumption COI (Conditional outcome impersistence): For all treatments (j, k) and x ‚àà Supp(Xi ),
E[Yi1k‚Üíj | Dik0 Dij1 = 1, Xi = x] =E[Yi1j‚Üíj | Dik0 Dij1 = 1, Xi = x].

(23)

Under Assumption COI, the mean outcome for movers into each treatment j from each treatment
k is the same as it would be if the movers had always chosen j, conditional on the controls in Xi .
Thus any potential for persistence in average outcomes for movers must be driven by time-varying
or invariant observables, relaxing the usual panel data restriction of complete outcome impersistence
(Imai and Kim, 2016).
Together, these three assumptions relax those of standard mover regressions. In particular Assumptions CPT and CEH are implied by a partially-separable model of dynamic potential outcomes,
Yi0j = Œ±i + Œ≤j0 (Xi ) + i0

(24)

Yi1k‚Üíj = Œ±i + Œ≤j1 (Xi ) + ik1 ,

(25)

where ij1 ‚àí i0 is mean-independent of treatment choices conditional on the controls and on i being
a j-mover or j-stayer (that is, of (Ji0 , Ji1 ) conditional on Xi and Dij0 + Dij1 6= 0). As shown below,
with enough stayers this model permits identification of time-1 MATEs, here taking the form
M AT Ejt = E[Œ≤jt (Xi ) ‚àí Œ≤0t (Xi ) | ‚àÜDi 6= 0].

(26)

Estimating time-0 MATEs or omitting stayers will additionally require Assumption COI, which
here restricts E[ik1 | Ji0 , Ji1 , Xi ] = E[im1 | Ji0 , Ji1 , Xi ] for all k, m. In contrast, the mover
regression assumptions IO, CE, and CO are satisfied when the ikt do not depend on k and are
mean-independent of (Ji0 , Ji1 ), and when Œ≤jt (Xi ) is additively-separable in treatment, time, and
a fixed linear combination of the controls. The following identification results thus allow for both
time-varying shocks and treatment effect heterogeneity to vary flexibly with observables.
12

3.2

Identification with and without Stayers

With the three key assumptions in hand, I next establish MATE identification in two salient cases.
First, I suppose a researcher is willing to assume potential outcome trends are conditionally comparable between movers and stayers, and that stayers are sufficiently dispersed to make feasible
a set of conditional difference-in-difference comparisons linking treatments j and 0. Enumerating
this set requires some additional notation; I let Cj denote the set of all variable-length n-tuples
Cj` = (cj`0 , . . . , cj`Mj` ), where Mj` + 1 denotes the length of Cj` and where cj`m ‚àà {0, . . . , J ‚àí 1},
cj`0 = 0, cj`Mj` = j, and cj`m 6= cj`n for all m 6= n. Thus Cj collects all of the ` possible paths (or
chains) from treatment 0 to treatment j via other treatment states, where no intermediate treatment
is included as a link in the chain more than once. We then have the following result:
Proposition 3: Suppose T = 2, Assumptions CPT and CEH hold, and that for treatment j and
period t there exists a chain Cj` such that, for each m = 1, . . . , Mj` and all x in the support of
Xi either (i) P (Di,m‚àí1,1‚àít Dimt = 1 | Xi = x) > 0 and P (Di,m‚àí1,0 Di,m‚àí1,1 = 1 | Xi = x) > 0
or (ii) P (Dim,1‚àít Di,m‚àí1,t = 1 | Xi = x) > 0 and P (Dim0 Dim1 = 1 | Xi = x) > 0. Then, for
t = 1,
Ô£Æ

Ô£´

M AT Ejt = E Ô£∞‚àÜYi Ô£≠

Mj`
X

Ô£∂Ô£π
c

(wj`m œÅitj`,m‚àí1

,cj`m

c

+ (1 ‚àí wj`m )(‚àíœÅitj`m

,cj`,m‚àí1

))Ô£∏Ô£ª ,

(27)

m=1

where the wj`m are constants such that wj`m = 0 if (i) fails for m and wj`m = 1 if (ii) fails for
m, and where
t
œÅc,d
it = (‚àí1) Dic,1‚àít

Dict E[Didt Dic,1‚àít | Xi ] ‚àí Didt E[Dict Dic,1‚àít | Xi ] P (‚àÜDi 6= 0 | Xi )
. (28)
E[Dict Dic,1‚àít | Xi ]E[Didt Dic,1‚àít | Xi ]
P (‚àÜDi 6= 0)

If moreover Assumption COI holds, equations (27) and (28) also hold for t = 0.
In words, Proposition 3 states that the time-1 mover average treatment effect for treatment
j is identified by a particular weighted average of outcome growth ‚àÜYi under conditional parallel trends and effect homogeneity, and when there exists a set of difference-in-difference comparisons linking treatment j to the reference treatment 0. This set is given by the chain Cj` =
(0, cj`1 , . . . , cj`,Mj` ‚àí1 , j), where between any two links cj`,m‚àí1 and cj`m there exist either (i) movers
from treatment cj`,m‚àí1 into treatment cj`m and stayers at treatment cj`,m‚àí1 or (ii) movers from
treatment cj`m into treatment cj`,m‚àí1 and stayers at treatment cj`m , conditional on the controls.
The proof to Proposition 3 shows that under these assumptions the m-specific terms in the weighting
c

c

scheme (27) identify E[Yi1j`,m ‚àí Yi1j`,m‚àí1 | ‚àÜDi 6= 0], so that summing over the links of the chain
identifies E[Yi1j ‚àí Yi10 | ‚àÜDi 6= 0] = M AT Ej1 . An analogous result follows for t = 0 effects when
potential outcomes are conditionally impersistent.
13

Unpacking this result further, note that each summand of the weighting scheme (27) is in turn a
linear combination of two terms given by equation (28). The œÅc,d
it depend on the conditional frequency
of different groups of movers and stayers given the controls, as summarized by the propensity scores
E[Didt Dics | Xi ] and P (‚àÜDi | Xi ). The appendix proof shows that weighting ‚àÜYi by œÅc,d
it and
‚àíœÅd,c
it replicates and averages together conditional difference-in-difference comparisons between the
different mover and stayer groups illustrated in Figure 1(a). For example,
E[‚àÜYi œÅc,d
i1 | Xi ] = (E[‚àÜYi | Dic0 Did1 = 1, Xi ] ‚àí E[‚àÜYi | Dic0 Dic1 = 1, Xi ])

P (‚àÜDi 6= 0 | Xi )
, (29)
P (‚àÜDi 6= 0)

which is a weighted comparison of the conditional difference in outcome growth between movers from
treatments c to d and stayers at treatment c. Similarly, E[‚àÜYi (‚àíœÅd,c
i1 ) | Xi ] identifies a weighted
conditional contrast of outcome growth between stayers at treatment d and movers from treatments
d to c. As before when the conditional parallel trends assumption holds these identify conditional
weighted average treatment effects of the respective mover groups, which are assumed to both be
representative of all movers under conditional effect homogeneity. Thus any weighted average of
c

c

d,c
j`,m
i 6=0|Xi )
E[‚àÜYi œÅc,d
‚àí Yi1j`,m‚àí1 | ‚àÜDi 6= 0, Xi ] P P(‚àÜD
i1 | Xi ] and E[‚àÜYi (‚àíœÅi1 ) | Xi ] identifies E[Yi1
(‚àÜDi 6=0)

under the assumptions; averaging these averages over the marginal distribution of the controls then
c

c

identifies E[Yi1j`,m ‚àí Yi1j`,m‚àí1 | ‚àÜDi 6= 0].
Proposition 3 can be thought to generalize Abadie (2005)‚Äôs approach to identification in differencein-difference designs. Specifically, suppose J = 2 and there are no movers from treatment 1 to
treatment 0. Then there is only one chain C = (0, 1) satisfying (i), with w1 = 1 and Assumption
CEH satisfied trivially, and the weighting scheme identifying M AT E11 = E[Yi11 ‚àí Yi00 | Di1 = 1]
coincides with that of Abadie (2005).
It is also worth noting that the logic of Proposition 3 implies a weaker approach to MATE identification in binary treatment mover designs, using particular data-driven weights to avoid restricting
treatment effect heterogeneity:
Corollary to Proposition 3: Suppose J = T = 2, Assumption CPT holds, and for period t
and the chain C = (0, 1) either condition (i) or (ii) from Proposition 3 holds. Then without
imposing Assumption CEH we have, for t = 1,
h

i
‚àó 0,1
‚àó
M AT E1t = E ‚àÜYi wit
œÅit + (1 ‚àí wit
)(‚àíœÅ1,0
)
,
it

(30)

where
‚àó
wit
=

P (Di1t Di0,1‚àít = 1 | Xi )
P (‚àÜDi1 6= 0 | Xi )

If moreover Assumption COI holds, equations (30) and (31) also hold for t = 0.
14

(31)

As in Proposition 3, the weighting scheme in equation (30) combines two sets of conditional
1,0
difference-in-difference experiments via the œÅ0,1
it and (‚àíœÅit ) terms. Here however these terms are

combined via weights (31) that are proportional to the share of movers of each type ‚Äì either out of or
into treatment 1 ‚Äì in order to avoid mixing effects across the two groups. This corollary thus gives
a flexible way to estimate pairwise average treatment effects in a mover design for movers across
two treatments, though such effects need not be comparable across different treatments without an
effect homogeneity assumption.
To apply Proposition 3 or its corollary, a researcher must be willing to assume that any systematic
differences in the potential outcome trends of movers and stayers arise from a set of observable
controls. As in the previous section, we may also consider identification under a weaker parallel
trends assumption in which the trends of stayers are unrestricted. The following result shows that
in such cases one may still identify the average of M AT Ejt across time t:
Proposition 4: Suppose T = 2, Assumptions CPT, CEH, and COI hold, and for treatment j
there exists a chain Cj` such that, for each m = 1, . . . , Mj` and all x in the support of Xi ,
P (Di,m‚àí1,0 Dim1 = 1 | Xi = x) > 0 and P (Dim0 Di,m‚àí1,1 = 1 | Xi = x) > 0. Then
Ô£Æ
Ô£´
Ô£∂Ô£π
Mj`
X
1
c
,c
(M AT Ej0 + M AT Ej1 ) = E Ô£∞‚àÜYi Ô£≠
Œ∫i j`,m‚àí1 j`m Ô£∏Ô£ª ,
2
m=1

(32)

where
Œ∫c,d
=
i

1 Dic0 Did1 E[Did0 Dic1 | Xi ] ‚àí Did0 Dic1 E[Dic0 Did1 | Xi ] P (‚àÜDi 6= 0 | Xi )
.
2
E[Did0 Dic1 | Xi ]E[Dic0 Did1 | Xi ]
P (‚àÜDi 6= 0)

(33)

Proposition 4 generalizes the basic logic of the corollary to Proposition 1, along the lines of
Proposition 3. Here each summand in equation (32) identifies a weighted difference-in-difference
comparison between movers from treatment c to treatment d and movers from treatment d to
treatment c, such that, under the assumptions,
1
P (‚àÜDi 6= 0 | Xi )
(E[‚àÜYi | Dic0 Did1 = 1, Xi ] ‚àí E[‚àÜYi | Did0 Dic1 = 1, Xi ])
2
P (‚àÜDi 6= 0)
P
(‚àÜDi 6= 0 | Xi )
1
= (E[Yi0d ‚àí Yi0c | ‚àÜDi 6= 0, Xi ] + E[Yi1d ‚àí Yi1c | ‚àÜDi 6= 0, Xi ])
.
2
P (‚àÜDi 6= 0)

E[‚àÜYi Œ∫c,d
| Xi ] =
i

(34)
Similar to before, weighting and adding together these comparisons along the links of any chain Cj
from treatment 0 to treatment j thus identifies

1
2 (M AT Ej0

+ M AT Ej1 ). For this to be feasible

there must exist both types of movers at each link, conditional on the controls, as no stayer variation
is used. The cost of the weaker parallel trends assumption is a somewhat less informative estimand:
the weighting scheme (32) is not able to separately identify time-0 and time-1 effects.
15

3.3

Estimation and Testing

As in Abadie (2005), Propositions 3 and 4 suggest a straightforward two-step approach to estimating
mover average treatment effects from an i.i.d. sample of size N . In a first step, a researcher computes
b id0 Dic1 | Xi ], along with the sample proportion of movers
a set of propensity score estimates E[D
Pb(‚àÜDi 6= 0). For a given chain Cj` , she then forms the sample analogue of either equation (27)
or equation (32), with the former also requiring specification of a vector of weights wj` . When
the first-step estimates are consistent, so too will be the second-step weighting estimator under
the assumptions of Proposition 3 or 4. The asymptotic behavior of this estimator depends on
the properties of the data-generating process and whether or not the first-step propensity score
estimates are parametric. Future drafts will establish this behavior formally using standard first‚àö
order asymptotic theory (as in Abadie (2005)); for now I take the N -consistency and asymptotic
normality of the described two-step estimators as given, in order to focus on additional conceptual
issues arising from overidentification in mover designs.
When both conditions (i) and (ii) of Proposition 3 hold for some of the links of a chain Cj` ,
one faces the choice of which set of weights wj`m to use for estimating M AT Ejt . Further degrees
of overidentification arise when multiple Cj` satisfy the assumptions of either Propositions 3 or 4:
in general the number of possible chains grows rapidly with the number of institutions, though in
practice the graph connecting any two institutions by difference-in-difference experiments may be
sparse.10 Testing the equality of two estimates formed by different chains or weights constitutes an
omnibus specification test of the identifying assumptions which may be used to gauge the plausibility
of the quasi-experimental framework.
A potentially more powerful test of this joint null hypothesis uses a conditionally-efficient estimator, optimally combining different quasi-experiments to minimize the asymptotic estimator variance.
c,d
c,d
c
To characterize this procedure, let œÅbc,d
bc,d
it and Œ∫
it be consistent estimates of œÅit and Œ∫it , and let M

b
denote a K √ó 1 vector collecting the set of either all positive and negative E[‚àÜY
bc,d
iœÅ
it ] or of all
b
b
E[‚àÜY
bc,d
iŒ∫
it ] that are well-defined for treatments (c, d), where E[Vit ] denotes the sample average of
a variable Vit . Next, let Sj be a P √ó K matrix with elements Sjpk ‚àà {0, 1}, such that, for all p,
P
1
c
k Sjpk Mk is consistent for M AT Ejt under Proposition 3 or identifies 2 (M AT Ej0 + M AT Ej1 )
under Proposition 4. Then a general method of moments estimator for the target causal parameter

10 To

be precise, there are

PJ‚àí2
k=0

k!

J‚àí2 2
k



possible chains given J institutions.

16

Œ≤j , which combines mover variation across all available chains, is given by
c)0 W (Œ≤j ‚àí Sj M
c),
Œ≤bj = arg min(Œ≤j ‚àí Sj M
Œ≤j

(35)

where W is some P √ó P positive-definite weighting matrix. Given the first-step propensity scores
b 0 )‚àí1 , where
c, a conditionally-efficient estimator Œ≤b‚àó is obtained by setting W = (Sj ‚Ñ¶S
underlying M
j
j
b consistently estimates the asymptotic variance of M
c. Solving (35), we then have
‚Ñ¶
Œ≤bj‚àó =

b 0 )‚àí1 Sj
Œπ0 (Sj ‚Ñ¶S
j
c,
M
b 0 )‚àí1 Œπ
Œπ0 (Sj ‚Ñ¶S

(36)

j

where Œπ denotes a P √ó 1 vector of ones.
c collects moments involving
This estimate of the target causal parameter (either M AT Ejt if M
œÅbc,d
it or

1
2 (M AT Ej0

c collects moments involving Œ∫
+ M AT Ej1 ) if M
bc,d
it ) is an optimally-weighted

combination of all relevant difference-in-difference quasi-experiments, with weights proportional to
b 0 )‚àí1 Sj . In particular, it satisfies
the elements of Œπ0 (Sj ‚Ñ¶S
j
‚àö

N (Œ≤ÃÇj‚àó ‚àí Œ≤) ‚áí N (0, (Œπ0 (Sj ‚Ñ¶Sj0 )‚àí1 Œπ)‚àí1 ),

(37)

p
b‚àí
where ‚Ñ¶
‚Üí ‚Ñ¶. As usual, an omnibus specification test based on (36) is given by

b 0 )‚àí1 (Œ≤ ‚àó ‚àí Sj M
c)0 (Sj ‚Ñ¶S
c),
Tbj = (Œ≤j‚àó ‚àí Sj M
j
j

(38)

which has an asymptotic œá2P ‚àí1 distribution under the joint null of the identifying assumptions.
Implicitly, (38) checks whether the same estimate of Œ≤j is obtained from any two difference-indifference chains, weighting pairwise comparisons by the efficient weights.
It appears relatively straightforward to compute equations (36) and (38) in practice. Estimation
of the large set of mover propensity scores can be distributed over multiple computational resources,
c and the second-step
while the second-step calculation of the estimated asymptotic variance of M
estimator (36) is likely to be quite simple. Future drafts of this paper will include simulations of the
computational demands and finite-sample performance of these estimators, as well as an application
to a real-world movers design.

4

Conclusions

Although retaining the flavor of simpler difference-in-differences designs, quasi-experimental mover
designs require additional restrictions. Mover regression estimates, while causally interpretable in
the binary treatment case, fail in general to recover weighted averages of heterogeneous treatment
effects under a parallel trends assumption alone. In contrast, the two-step estimators developed

17

here accommodate heterogeneous treatment effects and time-varying shocks, provided they are not
correlated with individual movement conditional on controls. Certain mover average treatment
effects are moreover identified without a direct restriction on potential outcome persistence, provided
the potential trends of movers and stayers are conditionally comparable. As argued above, the
computation of conditionally-efficient treatment effect estimates is likely to be light in practice,
even relative to recent advances in traditional two-way fixed effect regressions (Abowd et al., 2002;
Guimaraes and Portugal, 2010; Gaure, 2013; Correia, 2016).
As always, whether the assumptions considered here are more plausible than other approaches
to mover designs , such as Hagedorn et al. (2017) and Bonhomme et al. (2017), will be a matter of
context. The restrictions of conditional parallel trends and conditional effect homogeneity are likely
to have the advantage of both being familiar to applied researchers and relatively straightforward
to consider in applications. At a minimum, the quasi-experimental approach may allow researchers
to verify the robustness of substantive conclusions drawn from conventional mover regressions and
more recent variations.

18

Figures and Tables

t = 0 (-)

t = 1 (+)

2

Treatment

Treatment

1

0

t = 0 (+)

t = 1 (-)

Time

1

1

0

(a) Binary treatment

t = 1 (-)
t = 0 (-)

t = 1 (-)

Time

1

(b) Multiple treatments

Figure 1: Example difference-in-difference comparisons in mover designs
Notes: This figure illustrates groups of movers and stayers identifying time-t causal effects when outcomes
are impersistent and parallel trends holds. In each panel, time-0 effects are identified by outcome growth
contrasts within the dashed- and (in Figure 1(a)) solid-line groups, while time-1 effects are identified by
outcome growth contrasts within the light- and dark-colored groups. The time-specific notes on each line
indicate whether the outcome growth for that subgroup is to be added or subtracted. Panel (a) shows the
full set of difference-in-difference comparisons with binary treatments, while panel (b) shows the comparisons
for the multiple treatment example discussed in the text.

19

References
Abadie, A. (2005): ‚ÄúSemiparametric Difference-in-Differences Estimators,‚Äù Review of Economic
Studies, 72, 1‚Äì19.
Abowd, J., R. Creecy, and F. Kramarz (2002): ‚ÄúComputing Person and Firm Effects Using
Linked Longitudinal Employer-Employee Data,‚Äù Cornell University Department of Economics
Unpublished Working Paper.
Abowd, J. M., F. Kramarz, and D. Margolis (1999): ‚ÄúHigh Wage Workers and High Wage
Firms,‚Äù Econometrica, 67, 251‚Äì333.
Abowd, J. M., K. L. McKinney, and I. M. Schmutte (2015): ‚ÄúModeling Endogenous Mobility
in Wage Determination,‚Äù Working Paper.
Abraham, S. and L. Sun (2018): ‚ÄúEstimating Dynamic Treatment Effects in Event Studies,‚Äù
Working Paper.
Allcott, H., R. Diamond, and J.-P. Dub√© (2017): ‚ÄúThe Geography of Poverty and Nutrition:
Food Deserts and Food Choices Across the United States,‚Äù Working Paper.
Angrist, J. and I. Fernandez-Val (2013): ‚ÄúExtrapoLATE-ing: External Validity and Overidentification in the LATE Framework,‚Äù Advances in Economics and Econometrics: Theory and
Applications, Tenth World Congress, 3, 401‚Äì433.
Angrist, J. and M. Rokkanen (2015): ‚ÄúWanna Get Away? Regression DIscontinuity Estimation
of Exam School Effects Away from the Cutoff,‚Äù Journal of the American Statistical Association,
110, 1331‚Äì1344.
Angrist, J. D. (1998): ‚ÄúEstimating the Labor Market Impact of Voluntary Military Service Using
Social Security Data on Military Applicants,‚Äù Econometrica, 66, 249‚Äì288.
Arellano, M. (2003): Panel Data Econometrics, Oxford University Press.
Ashenfelter, O. (1978): ‚ÄúEstimating the Effect of Training Programs on Earnings,‚Äù Review of
Economics and Statistics, 60, 47‚Äì57.
Ashenfelter, O. and D. Card (1985): ‚ÄúUsing the Longitudinal Structure of Earnings to Estimate
the Effect of Training Programs,‚Äù Review of Economics and Statistics, 67, 648‚Äì660.
Athey, S. and G. W. Imbens (2006): ‚ÄúIdentification and Inference in Nonlinear Difference-inDifferences Models,‚Äù Econometrica, 74, 431‚Äì497.
Bloom, N., J. Song, D. Price, F. Guvenen, and T. von Wachter (2015): ‚ÄúFirming up
Inequality,‚Äù NBER Working Paper. 21199.
Bonhomme, S., T. Lamadon, and E. Manresa (2017): ‚ÄúA Distributional Framework for
Matched Employer Employee Data,‚Äù Working Paper.
Borusyak, K. and X. Jaravel (2016): ‚ÄúRevisiting Event Study Designs, with an Application to
the Estimation of the Marginal Propensity to Consume,‚Äù Working Paper.

20

Bronnenberg, B. J., J.-P. Dub√©, and M. Gentzkow (2012): ‚ÄúThe Evolution of Brand Preferences: Evidence from Consumer Migration,‚Äù American Economic Review, 102, 2472‚Äì2508.
Callaway, B. and P. H. C. Sant‚ÄôAnna (2018): ‚ÄúDifference-in-Differences with Multiple Time
Periods and an Application on the Minimum Wage and Employment,‚Äù Working Paper.
Card, D., J. Heining, and P. Kline (2013): ‚ÄúWorkplace Heterogeneity and the Rise of West
German Wage Inequality,‚Äù Quarterly Journal of Economics, 128, 967‚Äì1015.
Chamberlain, G. (1980): ‚ÄúAnalysis of Covariance with Qualitative Data,‚Äù Review of Economic
Studies, 47, 225‚Äì238.
‚Äî‚Äî‚Äî (1982): ‚ÄúMultivariate Regression Models for Panel Data,‚Äù Journal of Econometrics, 18, 5‚Äì46.
‚Äî‚Äî‚Äî (1984): ‚ÄúPanel Data,‚Äù in Handbook of Econometrics, ed. by Z. Griliches and M. D. Intriligator, Elsevier, vol. 2, chap. 22, 1247‚Äì1318, 1 ed.
Chernozhukov, V., I. Fernandez-Val, J. Hahn, and W. Newey (2013): ‚ÄúAverage and Quantile Effects in Nonseparable Panel Models,‚Äù Econometrica, 81, 535‚Äì580.
Chetty, R., J. Friedman, and J. Rockoff (2014): ‚ÄúMeasuring the Impact of Teachers I:
Evaluating Bias in Teacher Value-Added Estimates,‚Äù American Economic Review, 104(9), 2593‚Äì
2632.
Chetty, R. and N. Hendren (Forthcoming): ‚ÄúThe Impacts of Neighborhoods on Intergenerational Mobility I: Childhood Exposure Effects,‚Äù Quarterly Journal of Economics.
Correia (2016): ‚ÄúA Feasible Estimator for Linear Models with Multi-way Fixed Effects,‚Äù Working
Paper.
de Chaisemartin, C. and X. D‚ÄôHaultfoeuille (2018): ‚ÄúTwo-way Fixed Effects Estimators with
Heterogeneous Treatment Effects,‚Äù Working Paper.
Finkelstein, A., M. Gentzkow, P. Hull, and H. Williams (2017): ‚ÄúAdjusting Risk Adjustment: Accounting for Variation in Diagnostic Intensity,‚Äù New England Journal of Medicine, 376,
608‚Äì610.
Finkelstein, A., M. Gentzkow, and H. Williams (2016): ‚ÄúSources of Geographic Variation in
Health Care: Evidence from Patient Migration,‚Äù Quarterly Journal of Economics, 131, 1681‚Äì1726.
Gaure, S. (2013): ‚ÄúOLS with Multiple High Dimensional Category Variables,‚Äù Computational
Statistics and Data Analysis, 66, 8‚Äì18.
Gibbons, C. E., J. C. S. Serrato, and M. B. Urbancic (2018): ‚ÄúBroken or Fixed Effects?‚Äù
Journal of Econometric Methods, 20170002.
Graham, B. S. and J. L. Powell (2012): ‚ÄúIdentification and Estimation of Average Partial Effects
in ‚ÄúIrregular‚Äù Correlated Random Coefficient Panel Data Models,‚Äù Econometrica, 80, 2105‚Äì2152.
Guimaraes, P. and P. Portugal (2010): ‚ÄúA Simple Feasible Procedure to Fit Models with
High-Dimensional Fixed Effects,‚Äù Stata Journal, 10, 628‚Äì649.

21

Hagedorn, M., T. H. Law, and I. Manovskii (2017): ‚ÄúIdentifying Equilibrium Models of Labor
Market Sorting,‚Äù Econometrica, 85, 29‚Äì65.
Hahn, J. (2001): ‚ÄúComment: Binary Regressors in Nonlinear Panel-Data Models with Fixed Effects,‚Äù Journal of Business and Economic Statistics, 19, 16‚Äì17.
Heckman, J. J., H. Ichimura, J. Smith, and P. Todd (1998): ‚ÄúCharacterizing Selection Bias
Using Expermental Data,‚Äù Econometrica, 66, 1017‚Äì1098.
Heckman, J. J., H. Ichimura, and P. E. Todd (1997): ‚ÄúMatching as an Evaluation Estimator:
Evidence from Evaluating a Job Training Programme,‚Äù Review of Economic Studies, 64, 605‚Äì654.
Honore, B. E. (1992): ‚ÄúTrimmed Lad and Least Squares Estimation of Truncated and Censored
Regression Models wth Fixed Effects,‚Äù Econometrica, 60, 533‚Äì565.
Hull, P. (2018): ‚ÄúIsoLATEing: Identifying Counterfactual-Specific Treatment Effects with CrossStratum Comparisons,‚Äù Working Paper.
Imai, K. and I. S. Kim (2016): ‚ÄúWhen Should We Use Linear Fixed Effects Regression Models for
Causal Inference with Longitudinal Data?‚Äù Working Paper.
Jackson, C. K. (2013): ‚ÄúMatch Quality, Worker Productivity, and Worker Mobility: Direct Evidence from Teachers,‚Äù The Review of Economics and Statistics, 95, 1096‚Äì1116.
Manski, C. (1987): ‚ÄúSemiparametric Analysis of Random Effects Linear Models from Binary Response Data,‚Äù Econometrica, 55, 357‚Äì362.
Molitor, D. (2017): ‚ÄúThe Evolution of Physician Practice Styles: Evidence from Cardiologist
Migration,‚Äù American Economic Journal: Economic Policy, 10, 326‚Äì356.
Robins, J. (1986): ‚ÄúA New Approach to Causal Inference in Mortality Studies with a Sustained
Exposure Period: Application to Control of the Healthy Worker Survivor Effect,‚Äù Mathematical
Modelling, 7, 1393‚Äì1512.
‚Äî‚Äî‚Äî (1997): ‚ÄúCausal Inference from Complex Longitudinal Data,‚Äù in Latent Variable Modeling
and Applications to Causality: Lecture Notes in Statistics, ed. by M. Berkane, Springer Verlag,
vol. 120, 69‚Äì117.
Rubin, D. B. (1980): ‚ÄúRandomization Analysis of Experimental Data: The Fisher Randomization
Test Comment,‚Äù Journal of the American Statistical Association, 75, 591‚Äì593.
Sacarny, A. (2016): ‚ÄúTechnological Diffusion Across Hospitals: The Case of a Revenue-Generating
Practice,‚Äù Working Paper.
Wooldridge, J. M. (2005): ‚ÄúFixed-Effects and Related Estimators for Correlated RandomCoefficient and Treatment-Effect Panel Data Models,‚Äù The Review of Economics and Statistics,
87, 385‚Äì390.
Yitzhaki, S. (1996): ‚ÄúOn Using Linear Regressions in Welfare Economics,‚Äù Journal of Business
and Economic Statistics, 14, 478‚Äì486.

22

Appendix
Proof of Lemma 1
With T = J = 2 and Xit = 0, the mover regression can be written
‚àÜYi = œÑ + Œ≤1 ‚àÜDi1 + ‚àÜi
= œÑ + Œ≤1 (1[‚àÜDi1 = 1] ‚àí 1[‚àÜDi1 = ‚àí1]) + ‚àÜi ,

(39)

which is nested by the regression
‚àÜYi = œÑe + Œ≤e1 (1[‚àÜDi1 = 1] ‚àí 1[‚àÜDi1 = ‚àí1]) + Œ±
e1 1[‚àÜDi1 = ‚àí1] + ‚àÜe
i
= œÑe + Œ≤e1 1[‚àÜDi1 = 1] + (e
Œ±1 ‚àí Œ≤e1 )1[‚àÜDit = ‚àí1] + ‚àÜe
i .

(40)

This is a saturated model for E[‚àÜYi | ‚àÜDi1 ], with
Œ≤e1 = E[‚àÜYi | ‚àÜDi1 = 1] ‚àí E[‚àÜYi | ‚àÜDi1 = 0]
and

Œ±
e1 ‚àí Œ≤e1 = E[‚àÜYi | ‚àÜDi1 = ‚àí1] ‚àí E[‚àÜYi | ‚àÜDi1 = 0].

(41)
(42)

Thus, by usual omitted-variables bias logic,
Œ≤1 = Œ≤e1 + Œ±
e1

Cov(1[‚àÜDi1 = ‚àí1]), ‚àÜDi1 )
.
V ar(‚àÜDi1 )

(43)

Define
Cov(1[‚àÜDi1 = ‚àí1]), ‚àÜDi1 )
V ar(‚àÜDi1 )
+
p (1 ‚àí p+ ) + p+ p‚àí
,
= +
p (1 ‚àí p+ ) + p‚àí (1 ‚àí p‚àí ) + 2p+ p‚àí

œâ =1+

(44)

where p+ = P (‚àÜDi1 = 1) and p‚àí = P (‚àÜDi1 = ‚àí1). Note that œâ ‚àà [0, 1] and œâ = 1/2 when
1 ‚àí p+ = p‚àí . Thus,
Œ≤1 = Œ≤e1 œâ + (Œ≤e1 ‚àí Œ±
e1 )(1 ‚àí œâ).
Combining equations (41), (42), and (45) completes the proof.

23

(45)


Proof of Proposition 1 and Corollary
First suppose P (‚àÜDi1 = 0) > 0. Under the impersistence and parallel trends assumptions,
E[‚àÜYi | ‚àÜDi1 = 1] ‚àí E[‚àÜYi | ‚àÜDi1 = 0]
= (E[Yi1 ‚àí Yi0 | ‚àÜDi1 = 1] ‚àí E[Yi1 ‚àí Yi0 | ‚àÜDi1 = 0, Di00 = 1]) p
+ (E[Yi1 ‚àí Yi0 | ‚àÜDi1 = 1] ‚àí E[Yi1 ‚àí Yi0 | ‚àÜDi1 = 0, Di10 = 1]) (1 ‚àí p)

= E[Yi10‚Üí1 ‚àí Yi00 | ‚àÜDi1 = 1] ‚àí E[Yi10‚Üí0 ‚àí Yi00 | ‚àÜDi1 = 0, Di00 = 1] p

+ E[Yi10‚Üí1 ‚àí Yi00 | ‚àÜDi1 = 1] ‚àí E[Yi11‚Üí1 ‚àí Yi01 | ‚àÜDi1 = 0, Di10 = 1] (1 ‚àí p)
= E[Yi11 ‚àí Yi10 | ‚àÜDi1 = 1]p + E[Yi01 ‚àí Yi00 | ‚àÜDi1 = 1](1 ‚àí p),

(46)

where p = P (Di00 = 1 | ‚àÜDi1 = 0). Similarly,
E[‚àÜYi | ‚àÜDi1 = 0] ‚àí E[‚àÜYi | ‚àÜDi1 = ‚àí1]
= (E[Yi1 ‚àí Yi0 | ‚àÜDi1 = 0, Di00 = 1] ‚àí E[Yi1 ‚àí Yi0 | ‚àÜDi1 = ‚àí1]) p
+ (E[Yi1 ‚àí Yi0 | ‚àÜDi1 = 0, Di10 = 1] ‚àí E[Yi1 ‚àí Yi0 | ‚àÜDi1 = ‚àí1]) (1 ‚àí p)

= E[Yi10‚Üí0 ‚àí Yi00 | ‚àÜDi1 = 0, Di00 = 1] ‚àí E[Yi11‚Üí0 ‚àí Yi01 | ‚àÜDi1 = ‚àí1] p

+ E[Yi11‚Üí1 ‚àí Yi01 | ‚àÜDi1 = 0, Di10 = 1] ‚àí E[Yi11‚Üí0 ‚àí Yi01 | ‚àÜDi1 = ‚àí1] (1 ‚àí p)
= E[Yi01 ‚àí Yi00 | ‚àÜDi1 = ‚àí1]p + E[Yi11 ‚àí Yi10 | ‚àÜDi1 = ‚àí1](1 ‚àí p).

(47)

Substituting these expressions in to the equation for the regression coefficient in Lemma 1 gives
Œ≤1 =E[Yi11 ‚àí Yi10 | ‚àÜDi1 = 1]pœâ + E[Yi11 ‚àí Yi10 | ‚àÜDi1 = ‚àí1](1 ‚àí p)(1 ‚àí œâ)

(48)

+ E[Yi01 ‚àí Yi00 | ‚àÜDi1 = 1](1 ‚àí p)œâ + E[Yi01 ‚àí Yi00 | ‚àÜDi1 = ‚àí1]p(1 ‚àí œâ).
Now consider the corollary case of P (‚àÜDi1 = 0) = 0. From Lemma 1,
Œ≤1 =(E[Yi11 ‚àí Yi00 | ‚àÜDi1 = 1] ‚àí E[Yi10 ‚àí Yi01 | ‚àÜDi1 = ‚àí1])/2
=(E[Yi10‚Üí1 ‚àí Yi00 | ‚àÜDi1 = 1] ‚àí E[Yi10‚Üí1 ‚àí Yi01 | ‚àÜDi1 = 1])/2
‚àí (E[Yi11‚Üí0 ‚àí Yi01 | ‚àÜDi1 = ‚àí1] ‚àí E[Yi11‚Üí1 ‚àí Yi01 | ‚àÜDi1 = ‚àí1])/2
=(E[Yi01 ‚àí Yi00 | ‚àÜDi1 = 1] + E[Yi11 ‚àí Yi10 | ‚àÜDi1 = ‚àí1])/2
=(E[Yi10‚Üí1 ‚àí Yi00 | ‚àÜDi1 = 1] ‚àí E[Yi10‚Üí0 ‚àí Yi00 | ‚àÜDi1 = 1])/2
‚àí (E[Yi11‚Üí0 ‚àí Yi01 | ‚àÜDi1 = ‚àí1] ‚àí E[Yi11‚Üí0 ‚àí Yi00 | ‚àÜDi1 = ‚àí1])/2
=(E[Yi11 ‚àí Yi10 | ‚àÜDi1 = 1] + E[Yi01 ‚àí Yi00 | ‚àÜDi1 = ‚àí1])/2,
where the second and fourth lines again follow from impersistence and parallel trends.

24

(49)


Proof of Proposition 2
The mover regression
‚àÜYi = œÑ +

X

Œ≤j (1[‚àÜDi1 = 1] ‚àí 1[‚àÜDi1 = ‚àí1]) + ‚àÜi .

(50)

Œ≤ej (1[‚àÜDij = 1] ‚àí 1[‚àÜDij = ‚àí1])

(51)

j6=0

is nested by the model
‚àÜYi =e
œÑ+

X
j6=0

+

X X

Œ¥ejk 1[‚àÜDik = 1]1[‚àÜDij = ‚àí1] + ‚àÜe
i ,

k j6=0,k

=e
œÑ+

X

Œ≤ej Di00 Dij1 +

j6=0

+

X X

X
(Œ¥ej0 ‚àí Œ≤ej )Dij0 Di01

(52)

j6=0

(Œ¥ejk + Œ≤ek ‚àí Œ≤ej )Dij0 Dik1 + ‚àÜe
i .

k j6=0,k

This is a saturated model for E[‚àÜYi | {Dij0 Dik1 }k6=j ], with
Œ≤ej = E[‚àÜYi | Di00 Dij1 = 1] ‚àí E[‚àÜYi | Di`0 Di`1 = 1, ‚àÄ`],

(53)

Œ¥ej0 ‚àí Œ≤ej = E[‚àÜYi | Dij0 Di01 = 1] ‚àí E[‚àÜYi | Di`0 Di`1 = 1, ‚àÄ`],

(54)

Œ¥ejk + Œ≤ek ‚àí Œ≤ej = E[‚àÜYi | Dij0 Dik1 = 1] ‚àí E[‚àÜYi | Di`0 Di`1 = 1, ‚àÄ`].

(55)

Under Assumption IO and the parallel trends condition, we can write
Œ≤ej =(E[Yi1j ‚àí Yi00 | Di00 Dij1 = 1] ‚àí E[Yi10 ‚àí Yi00 | Di00 Di01 = 1])p0
+ (E[Yi1j ‚àí Yi00 | Di00 Dij1 = 1] ‚àí E[Yi1j ‚àí Yi0j | Dij0 Dij1 = 1])pj
X
+
(E[Yi1j ‚àí Yi00 | Di00 Dij1 = 1] ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1])p`
`6=0,j

=E[Yi1j ‚àí Yi10 | Di00 Dij1 = 1]p0 + E[Yi0j ‚àí Yi00 | Di00 Dij1 = 1](1 ‚àí p0 )
X
+
(E[Yi1j ‚àí Yi0j | Dij0 Dij1 = 1] ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1])p` ,

(56)

`6=0,j

where pk = P (Dik0 = 1 | Di`0 = Di`1 , ‚àÄ`). Similarly, we have
Œ¥ej0 =Œ≤ej ‚àí (E[Yi1j ‚àí Yi10 | Dij0 Di01 = 1]p0 + E[Yi0j ‚àí Yi00 | Dij0 Di01 = 1](1 ‚àí p0 ))
X
‚àí
(E[Yi1j ‚àí Yi0j | Dij0 Dij1 = 1] ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1])p`
`6=0,j

=E[Yi1j ‚àí Yi10 | Di00 Dij1 = 1]p0 + E[Yi0j ‚àí Yi00 | Di00 Dij1 = 1](1 ‚àí p0 )


‚àí E[Yi1j ‚àí Yi10 | Dij0 Di01 = 1]p0 + E[Yi0j ‚àí Yi00 | Dij0 Di01 = 1])(1 ‚àí p0 )

25

(57)

and
Œ¥ejk =Œ≤ej ‚àí Œ≤ek + E[Yi1k ‚àí Yi1j | Dij0 Dik1 = 1]pj + E[Yi0k ‚àí Yi0j | Dij0 Dik1 = 1](1 ‚àí pj )
X
+
(E[Yi1k ‚àí Yi0k | Di`0 Di`1 = 1, ‚àÄ`]) ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1, ‚àÄ`])p`
`6=j,k

=E[Yi1j ‚àí Yi10 | Di00 Dij1 = 1]p0 + E[Yi0j ‚àí Yi00 | Di00 Dij1 = 1](1 ‚àí p0 )
X
+
(E[Yi1j ‚àí Yi0j | Dij0 Dij1 = 1] ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1])p`
`6=0,j

‚àí E[Yi1k ‚àí Yi10 | Di00 Dik1 = 1]p0 ‚àí E[Yi0k ‚àí Yi00 | Di00 Dik1 = 1](1 ‚àí p0 )
X
‚àí
(E[Yi1k ‚àí Yi0k | Dik0 Dik1 = 1] ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1])p` ,
`6=0,k

+ E[Yi1k ‚àí Yi1j | Dij0 Dik1 = 1]pj + E[Yi0k ‚àí Yi0j | Dij0 Dik1 = 1](1 ‚àí pj )
X
+
(E[Yi1k ‚àí Yi0k | Di`0 Di`1 = 1, ‚àÄ`]) ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1, ‚àÄ`])p`
`6=j,k

=(E[Yi1j ‚àí Yi10 | Di00 Dij1 = 1] + E[Yi0k ‚àí Yi0j | Dij0 Dik1 = 1])p0

(58)

‚àí E[Yi1k ‚àí Yi10 | Di00 Dik1 = 1]p0
+ (E[Yi0j ‚àí Yi00 | Di00 Dij1 = 1] + E[Yi1k ‚àí Yi1j | Dij0 Dik1 = 1])pj
‚àí E[Yi0k ‚àí Yi00 | Di00 Dik1 = 1])pj
+ (E[Yi0j ‚àí Yi00 | Di00 Dij1 = 1] + E[Yi0k ‚àí Yi0j | Dij0 Dik1 = 1])(1 ‚àí p0 ‚àí pj )
‚àí E[Yi0k ‚àí Yi00 | Di00 Dik1 = 1](1 ‚àí p0 ‚àí pj )
X
+
(E[Yi1j ‚àí Yi0j | Dij0 Dij1 = 1] ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1])p`
`6=0,j

‚àí

X

(E[Yi1k ‚àí Yi0k | Dik0 Dik1 = 1] ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 = 1])p` ,

`6=0,k

+

X

(E[Yi1k ‚àí Yi0k | Di`0 Di`1 = 1, ‚àÄ`]) ‚àí E[Yi1` ‚àí Yi0` | Di`0 Di`1 , ‚àÄ`])p`

`6=j,k

Finally, note that we can the standard omitted-variables bias formula to write the vector of mover
regression coefficients in terms of the saturated model‚Äôs coefficient vector:
Œ≤ = Œ≤e +

X X

Œ¥ejk Rjk ,

(59)

k j6=0,k

where Rjk denotes the coefficient vector from regressing each 1[‚àÜDik = 1]1[‚àÜDij = ‚àí1] on the set
of ‚àÜDi` for ` > 0. Substituting equations (56)-(58) in to this expression shows that Œ≤ will not in
general identify a weighted average of causal parameters.

26



Proof of Proposition 3 and Corollary
Let œài = P (‚àÜDi 6= 0)/P (‚àÜDi 6= 0 | Xi ). For any two treatments c and d we have


Dict E[Didt Dic,1‚àít | Xi ] ‚àí Didt E[Dict Dic,1‚àít | Xi ]
t
œà
|
X
]
=
(‚àí1)
E
‚àÜY
D
E[‚àÜYi œÅc,d
|
X
i
i
i
i ic,1‚àít
it
E[Dict Dic,1‚àít | Xi ]E[Didt Dic,1‚àít | Xi ]
= (‚àí1)t (E [‚àÜYi | Dic,1‚àít Dict = 1, Xi ] ‚àí E [‚àÜYi | Dic,1‚àít Didt = 1, Xi ])
c
c
= E[Yi,1‚àít
‚àí Yitc | Dic,1‚àít Dict = 1, Xi ] ‚àí E[Yi,1‚àít
‚àí Yitd | Dic,1‚àít Didt = 1, Xi ]

= E[Yitd ‚àí Yitc | Dic,1‚àít Didt = 1, Xi ]
= E[Yitd ‚àí Yitc | ‚àÜDi 6= 0, Xi ],

(60)

provided E[Dict Dic,1‚àít | Xi ]E[Didt Dic,1‚àít | Xi ] 6= 0. Here the second-to-last line follows from
Assumption CPT and, for t = 0, Assumption COI, while the last line follows by Assumption CEH.
The same steps and assumptions show that
d
c
E[‚àÜYi (‚àíœÅd,c
it )œài | Xi ] = E[Yit ‚àí Yit | Did,1‚àít Dict = 1, Xi ]

= E[Yitd ‚àí Yitc | ‚àÜDi 6= 0, Xi ].

(61)

Given the chain C` and set of constants wm , we therefore have the main result.
Z
M AT Ejt = E[Yitj ‚àí Yit0 | ‚àÜDi 6= 0, Xi ]dP (Xi | ‚àÜDi 6= 0)
Ô£´
Ô£∂
Mj`
Z
X
c
c
= Ô£≠
E[Yitj`m ‚àí Yitj`m‚àí1 | ‚àÜDi 6= 0, Xi ]Ô£∏ dP (Xi | ‚àÜDi 6= 0)
m=1

Ô£ÆÔ£´
= E Ô£∞Ô£≠

Mj`
X

Ô£∂
c

(wm ‚àÜYi œÅitj`,m‚àí1

,cj`m

c

œài + (1 ‚àí wm )‚àÜYi (‚àíœÅitj`m

,cj`,m‚àí1

)œài )Ô£∏

m=1

Ô£Æ

Ô£´

= E Ô£∞‚àÜYi Ô£≠

Mj`
X

Ô£π

P (‚àÜDi 6= 0 | Xi ) Ô£ª
P (‚àÜDi 6= 0)

Ô£∂Ô£π
c

(wm œÅitj`,m‚àí1

,cj`m

c

+ (1 ‚àí wm )(‚àíœÅitj`m

,cj`,m‚àí1

))Ô£∏Ô£ª .

(62)

m=1

The J = 2 corollary follows from the second-to-last lines of equations (60) and (61) by noting that
Z
M AT E1t = E[Yit1 ‚àí Yit0 | ‚àÜDi1 6= 0, Xi ]dP (Xi | ‚àÜDi1 6= 0)
Z
E[Di1t Di0,1‚àít | Xi ]
dP (Xi | ‚àÜDi1 6= 0)
= E[‚àÜYi œÅ0,1
it œài | Xi ]
P (‚àÜDi1 6= 0 | Xi )
Z
E[Di0t Di1,1‚àít | Xi ]
+ E[‚àÜYi (‚àíœÅ1,0
dP (Xi | ‚àÜDi1 6= 0)
it )œài | Xi ]
P (‚àÜDi1 6= 0 | Xi )


E[Di1t Di0,1‚àít | Xi ]
E[Di0t Di1,1‚àít | Xi ]
1,0
=E ‚àÜYi œÅ0,1
œà
+
‚àÜY
(‚àíœÅ
)œâ
i
i
i
it
it
P (‚àÜDi1 6= 0)
P (‚àÜDi1 6= 0)
h

i
‚àó 0,1
‚àó
=E ‚àÜYi wit
œÅit + (1 ‚àí wit
)œÅ1,0
.
 (63)
it

27

Proof of Proposition 4
Let œài = P (‚àÜDi 6= 0)/P (‚àÜDi 6= 0 | Xi ). For any two treatments c and d we have


1 Dic0 Did1 E[Did0 Dic1 | Xi ] ‚àí Did0 Dic1 E[Dic0 Did1 | Xi ]
œà
|
X
]
=E
‚àÜY
E[‚àÜYi Œ∫c,d
|
X
i
i
i
i
i
2
E[Did0 Dic1 | Xi ]E[Dic0 Did1 | Xi ]
1
= (E[‚àÜYi | Dic0 Did1 = 1, Xi ] ‚àí E[‚àÜYi | Did0 Dic1 = 1, Xi ])
2

1
= E[Yi1d ‚àí Yi0c | Dic0 Did1 = 1, Xi ] ‚àí E[Yi1c ‚àí Yi0c | Dic0 Did1 = 1, Xi ]
2

1
‚àí
E[Yi1c ‚àí Yi0d | Did0 Dic1 = 1, Xi ] ‚àí E[Yi1c ‚àí Yi0c | Did0 Dic1 = 1, Xi ]
2

1
= E[Yi1d ‚àí Yi1c | Dic0 Did1 = 1, Xi ] + E[Yi0d ‚àí Yi0c | Did0 Dic1 = 1, Xi ]
2

1
= E[Yi1d ‚àí Yi1c | ‚àÜDi 6= 0, Xi ] + E[Yi0d ‚àí Yi0c | ‚àÜDi 6= 0, Xi ] ,
(64)
2
provided E[Did0 Dic1 | Xi ]E[Dic0 Did1 | Xi ] 6= 0. Here the third equality follows from Assumptions
CPT and COI, while the last line follows by Assumption CEH. Given the chain C` we thus have
!
Z
1
1 X
1
j
0
(M AT Ej0 + M AT Ej1 ) =
E[Yit ‚àí Yit | ‚àÜDi 6= 0, Xi ] dP (Xi | ‚àÜDi 6= 0)
2
2 t=0
Ô£´
Ô£∂
Mj`
Z
1 X
X
1Ô£≠
c
c
E[Yitj`m ‚àí Yitj`m‚àí1 | ‚àÜDi 6= 0, Xi ]Ô£∏ dP (Xi | ‚àÜDi =
=
6 0)
2 t=0 m=1
Ô£π
Ô£ÆÔ£´
Ô£∂
Mj`
X
P (‚àÜDi 6= 0 | Xi ) Ô£ª
c
,c
= E Ô£∞Ô£≠
‚àÜYi Œ∫i j`,m‚àí1 j`m œài Ô£∏
P (‚àÜDi 6= 0)
m=1
Ô£Æ
Ô£´
Ô£∂Ô£π
Mj`
X
c
,c
= E Ô£∞‚àÜYi Ô£≠
Œ∫i j`,m‚àí1 j`m Ô£∏Ô£ª ,
(65)
m=1



completing the proof.

28

Extension to Many Time Periods
This appendix generalizes the MATE identification results to multi-period mover designs. Let
‚àÜsr Vi = Vis ‚àí Vir denote the difference operator applied to variable Vit over periods s > r, and let
‚àÜDi collect all ‚àÜsr Dij . The multi-period version of Assumptions CPT and COI are
Assumption CPT0 : For each treatment j, periods t > s, and x in the support of Xi ,
E[YitjÃÑt ‚Üíj ‚àí YisjÃÑs ‚Üíj | Dijs Dijt = 1, Xi = x] = E[YitjÃÑt ‚Üíj ‚àí YisjÃÑs ‚Üíj | ‚àÜts Dij = 1, Xi = x]

(66)

= E[YitjÃÑt ‚Üíj ‚àí YisjÃÑs ‚Üíj | ‚àÜts Dij = ‚àí1, Xi = x], (67)
where jÃÑr denotes a vector of j‚Äôs of length r.
Assumption COI0 : For all treatments (j, k), periods t > s, and x in the support of Xi ,
E[YitkÃÑt ‚Üíj | Diks Dijt = 1, Xi = x] =E[Yi1jÃÑt ‚Üíj | Diks Dijt = 1, Xi = x],

(68)

where kÃÑr denotes a vector of k‚Äôs of length r.
Here Assumption CPT0 states that movers into or out of each treatment j between periods s and
t would have, had they stayed at j, followed the same average outcome trends as each other and
as treatment j stayers, conditional on the controls. Similarly Assumption COI0 states that movers
into each treatment j from treatment k between periods s and t have the same time-t outcomes as if
they had stayed at j. Assumption CEH from the text remains unmodified in the multi-period case.
We then have the following result, the proof of which follows by the same steps as that of
Proposition 3:
Proposition 30 : Suppose Assumptions CPT0 and CEH hold, and for treatment j and periods t > s
there exists a chain Cj` such that, for each m = 1, . . . , Mj` and all x in the support of Xi
either (i) P (Di,m‚àí1,s Dimt = 1 | Xi = x) > 0 and P (Di,m‚àí1,s Di,m‚àí1,t = 1 | Xi = x) > 0 or (ii)
P (Dim,s Di,m‚àí1,t = 1 | Xi = x) > 0 and P (Dims Dimt = 1 | Xi = x) > 0. Then
Ô£Æ
Ô£´
Ô£∂Ô£π
Mj`
X
cj`,m‚àí1 ,cj`m
cj`m ,cj`,m‚àí1 Ô£∏Ô£ª
M AT Ejt = E Ô£∞‚àÜts Yi Ô£≠
(wm œÅist
+ (1 ‚àí wm )(‚àíœÅist
))
,

(69)

m=1

where the wm are constants such that wm = 0 if (i) fails for m and wm = 1 if (ii) fails for m,
and where
1[t>s]
œÅÃÉc,d
Dic,s
it = (‚àí1)

Dict E[Didt Dics | Xi ] ‚àí Didt E[Dict Dics | Xi ] P (‚àÜDi 6= 0 | Xi )
.
E[Dict Dics | Xi ]E[Didt Dics | Xi ]
P (‚àÜDi 6= 0)

(70)

If moreover Assumption COI holds, equations (27) and (28) also hold for periods t < s.
We also have the following generalization of Proposition 4, the proof of which follows similarly
29

Proposition 40 : Suppose Assumptions CPT0 , CEH, and COI0 hold, and for treatment j and periods
(t, s) there exists a chain Cj` such that, for each m = 1, . . . , Mj` and all x in the support of
Xi , P (Di,m‚àí1,s Dimt = 1 | Xi = x) > 0 and P (Dims Di,m‚àí1,t = 1 | Xi = x) > 0. Then
Ô£Æ
Ô£´
Ô£∂Ô£π
Mj`
X
1
c
,c
(M AT Ejs + M AT Ejt ) = E Ô£∞‚àÜYi Ô£≠
Œ∫i j`,m‚àí1 j`m Ô£∏Ô£ª ,
2
m=1

(71)

where
=
Œ∫ÃÉc,d
i

1 Dics Didt E[Dids Dict | Xi ] ‚àí Dids Dict E[Dics Didt | Xi ] P (‚àÜDi 6= 0 | Xi )
.
2
E[Dids Dict | Xi ]E[Dics Didt | Xi ]
P (‚àÜDi 6= 0)

(72)

Analogous results for the specification tests and efficient estimators derived in Section 3.3 would
again apply here, with overidentification resulting from either many chains or many time period
pairs satisfying Propositions 30 and 40 .

30

