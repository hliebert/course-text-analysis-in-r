SHIFT-SHARE DESIGNS: THEORY AND INFERENCE*

arXiv:1806.07928v5 [econ.EM] 9 Aug 2019

Rodrigo Adão
Michal Kolesár†
Eduardo Morales
August 13, 2019

Abstract
We study inference in shift-share regression designs, such as when a regional outcome is regressed on a weighted average of sectoral shocks, using regional sector shares as weights. We
conduct a placebo exercise in which we estimate the effect of a shift-share regressor constructed
with randomly generated sectoral shocks on actual labor market outcomes across U.S. Commuting
Zones. Tests based on commonly used standard errors with 5% nominal significance level reject the
null of no effect in up to 55% of the placebo samples. We use a stylized economic model to show
that this overrejection problem arises because regression residuals are correlated across regions
with similar sectoral shares, independently of their geographic location. We derive novel inference
methods that are valid under arbitrary cross-regional correlation in the regression residuals. We
show using popular applications of shift-share designs that our methods may lead to substantially
wider confidence intervals in practice.
JEL codes: C12, C21, C26, F16, F22

* We

thank the editor, four anonymous referees, Kirill Borusyak, Peter Egger, Gordon Hanson, Bo Honoré, seminar participants at Carleton University, CEMFI, Chicago Fed, EESP-FGV, Fed Board, GTDW, Johns Hopkins University, Princeton
University, PUC-Rio, Stanford University, UC Irvine, Unil, University of Michigan, University of Nottingham, University
of Virginia, University of Warwick, and Yale University, and conference participants at the CEPR-CURE conference, CEPRERWIT conference, EIIT-FREIT, Globalization & Inequality BFI conference, NBER-ITI winter meeting, Sciences Po Summer
Workshop, and Princeton-IES Workshop, for very useful comments and suggestions. We thank Juan Manuel Castro Vincenzi and Xiang Zhang for excellent research assistance. We thank David Autor, David Dorn and Gordon Hanson for
sharing their code and data. All errors are our own.
† Corresponding author. 287 Julis Romo Rabinowitz Building, Princeton University, Princeton NJ 08544. Phone: (609)
258-6726, Fax: (609) 258-6419. Email: mkolesar@princeton.edu

1

Introduction

We study how to perform inference in shift-share designs: regression specifications in which one
studies the impact of a set of shocks, or “shifters”, on units differentially exposed to them, with the
exposure measured by a set of weights, or “shares”. Specifically, shift-share regressions have the form
Yi = βXi + Zi0 δ + ei ,

where

Xi =

S

∑ wis Xs ,

s =1

wis ≥ 0 for all s,

and

S

∑ wis ≤ 1.

(1)

s =1

For example, in an investigation of the impact of sectoral demand shifters on regional employment
changes, Yi is the change in employment in region i, the shifter Xs is a measure of the change in
demand for the good produced by sector s, and the share wis may be measured as the initial share of
region i’s employment in sector s. Other observed characteristics of region i are captured by the vector
Zi , which includes the intercept, and ei is the regression residual. Shift-share specifications are increasingly common in many contexts (see, e.g., Bartik (1991), Blanchard and Katz (1992), Card (2001),
or Autor, Dorn and Hanson (2013)). However, their formal properties are relatively understudied.
Our starting point is the observation that usual standard error formulas may substantially understate the true variability of OLS estimators of β in eq. (1). We illustrate the importance of this issue
through a placebo exercise. As outcomes, we use 2000–2007 changes in employment rates and average
wages for 722 Commuting Zones in the United States. We build a shift-share regressor by combining
actual sectoral employment shares in 1990 with randomly drawn sector-level shifters for 396 4-digit
SIC manufacturing sectors. The placebo samples thus differ exclusively in the randomly drawn sectoral shifters. For each sample, we compute the OLS estimate of β in eq. (1) and test if its true value is
zero. Since the shifters are randomly generated, their true effect is indeed zero. Valid 5% significance
level tests should therefore reject the null of no effect in at most 5% of the placebo samples. We find,
however, that usual standard errors—clustering on state as well as heteroskedasticity-robust errors—
are much smaller than the standard deviation of the OLS estimator and, as a result, lead to severe
overrejection. Depending on the labor market outcome used, the rejection rate for 5% level tests can
be as high as 55% for heteroskedasticity-robust standard errors and 45% for standard errors clustered
on state, and it is never below 16%.
To explain the source of this overrejection problem, we introduce a stylized economic model
featuring multiple regions, each of which produces output in multiple sectors. The key ingredients of
our model are a sector- and region-specific labor demand and a regional labor supply. We assume that
labor demand in each sector-region pair has a sector-specific elasticity with respect to wages and an
intercept that aggregates several sector-specific components (e.g. sectoral productivities and demand
shifters for the corresponding sectoral good). Labor supply in each region is upward-sloping and has
a region-specific intercept that may aggregate group-specific labor supply shifters (e.g. push factors
that raise immigration from different countries of origin). Up to a first-order approximation, the
impact of sector-level shocks on labor market outcomes takes the form of a shift-share specification
similar to that in eq. (1).
A key insight of our model is that the regression residual ei in eq. (1) will generally account
for shift-share components that aggregate all unobserved sector-level shocks using the same shares
1

wis that enter the construction of the regressor Xi , as well as shift-share components that aggregate
unobserved group-specific labor supply shifters using exposures w̃ig of region i to group-g specific
shocks. Thus, the residual may incorporate multiple shift-share terms with shares correlated with
those defining the shift-share regressor Xi . Consequently, whenever two regions have similar shares,
they will not only have similar exposure to the shifters Xs , but will also tend to have similar values
of the residuals ei . While traditional inference methods allow for some forms of dependence between
the residuals, such as spatial dependence within a state, they do not directly address the possible
dependence between residuals generated by unobserved shift-share components. This is why, in our
placebo exercise, traditional inference methods underestimate the variance of the OLS estimator of β,
creating the overrejection problem.
We then establish the large-sample properties of the OLS estimator of β in eq. (1) under repeated
sampling of the shifters Xs , conditioning on the realized shares wis , controls Zi , and residuals ei .
This sampling approach is motivated by our economic model: we are interested in what would have
happened to outcomes if the sector-level shocks Xs had taken different values, holding everything
else constant. Our framework allows for heterogeneous effects of the shifters: one unit increase in Xs
causes the outcome in region i to increase by wis β is , where β is is an unknown parameter.
Our key assumption is that, conditional on the controls and the shares, the shifters are as good
as randomly assigned and independent across sectors. An advantage of this assumption is that it
allows us to do inference conditionally on ei ; as a result, we can allow for any correlation structure
of the regression residuals across regions.1 In contrast, if, instead of assuming independence of
the shifters across sectors, we modeled the correlation structure in the residual, as in the spatial
econometrics literature (e.g. Conley, 1999) or in the interactive fixed effects literature (e.g. Bai, 2009;
Gobillon and Magnac, 2016), the resulting inference would be sensitive to the validity of the modeling
assumptions. We show that the regression estimand β in eq. (1) corresponds to a weighted average of
the heterogeneous parameters β is and derive novel confidence intervals that are valid in samples with
many regions and sectors. We also derive an analogous formula when Xi is used as an instrument
in an instrumental variables regression, which follows directly from the fact that the associated firststage and reduced-form regressions take the form in eq. (1).
To gain intuition for our formula, it is useful to consider the special case in which each region is
fully specialized in one sector (i.e. for every i, wis = 1 for some sector s). In this case, our procedure is
identical to using the usual clustered standard error formula, but with clusters defined as groups of
regions specialized in the same sector. This is in line with the rule of thumb that one should “cluster”
at the level of variation of the regressor of interest. In the general case, our standard error formula
essentially forms sectoral clusters, the variance of which depends on the variance of a weighted sum
of the regression residuals ei , with weights that correspond to the shares wis .
We extend our baseline results in three ways. We provide versions of our standard errors that only
require the shifters to be independent across “clusters” of sectors, allowing for arbitrary correlation
1 This

is similar to the insight in Barrios et al. (2012), who consider cross-section regressions estimated at an individual
level when the variable of interest varies only across groups of individuals. They show that, as long as the regressor of
interest is as good as randomly assigned and independent across the groups, standard errors clustered on groups are valid
under any correlation structure of the residuals.

2

among sectors belonging to the same “cluster.” We also show how to apply our framework to panel
data settings in which we have multiple observations of each region over time. Finally, we cover
applications in which the shifter is unobserved, but can be estimated using observable local shocks.
We illustrate the finite-sample properties of our novel inference procedure in the same placebo
exercise that we use to show the bias of the usual standard error formulas. Our new formulas give a
good approximation to the variability of the OLS estimator across the placebo samples; consequently,
they yield rejection rates that are close to the nominal significance level. As predicted by the theory,
our standard error formula remains accurate under alternative distributions of both the shifters and
the regression residuals. When the number of sectors is small or there is a sector that is significantly
larger than the rest, our method overrejects, although the overrejection is milder in comparison with
the usual standard error formulas. If the shifters are not independent across sectors, we show that it
is important to properly account for their correlation structure.
In the final part of the paper, we illustrate the implications of our new inference procedure for two
popular applications of shift-share regressions. First, we study the effect of changes in sector-level
Chinese import competition on labor market outcomes across U.S. Commuting Zones, as in Autor,
Dorn and Hanson (2013). Second, we use changes in sector-level national employment to estimate
the regional inverse labor supply elasticity, as in Bartik (1991).2 Our new confidence intervals for the
effects of Chinese competition on local labor markets increase by 23%–66% relative to those implied by
state-clustered or heteroskedasticity-robust standard errors, although these effects remain statistically
significant. In contrast, our confidence intervals for the inverse labor supply elasticity estimated using
the procedure in Bartik (1991) are very similar to those constructed using standard approaches.
Shift-share designs have been applied to estimate the effect of a wide range of shocks. For example, in seminal papers, Bartik (1991) and Blanchard and Katz (1992) use shift-share designs to analyze
the impact on local labor markets of shifters measured as changes in national sectoral employment.
More recently, shift-share strategies have been applied to investigate the local labor market impact
of various shocks, including international trade competition (Topalova, 2007, 2010; Kovak, 2013; Autor, Dorn and Hanson, 2013; Dix-Carneiro and Kovak, 2017; Pierce and Schott, 2018), credit supply
(Greenstone, Mas and Nguyen, 2015), technological change (Acemoglu and Restrepo, 2019, 2018), and
industry reallocation (Chodorow-Reich and Wieland, 2018). Shift-share regressors have been used as
well to estimate the impact of immigration on labor markets, as in Card (2001) and many other papers following his approach; see reviews in Lewis and Peri (2015) and Dustmann, Schönberg and
Stuhler (2016). Furthermore, recent papers use shift-share strategies to estimate how firms respond
to changes in outsourcing costs and foreign demand (Hummels et al., 2014; Aghion et al., 2018).3
Our paper is related to two other papers studying the statistical properties of shift-share instrumental variables. First, Goldsmith-Pinkham, Sorkin and Swift (2018) consider using the full vector of
2 Additionally, in Online Appendix F, we use changes in the stock of immigrants from various origin countries to
investigate the impact of immigration on employment and wages, following Altonji and Card (1991) and Card (2001).
3 Shift-share regressors have also been used to study the impact of sectoral shocks on political preferences (Autor et al.,
2017; Che et al., 2017; Colantone and Stanig, 2018), marriage patterns (Autor, Dorn and Hanson, 2018), crime levels (DixCarneiro, Soares and Ulyssea, 2018), and innovation (Acemoglu and Linn, 2004; Autor et al., 2019). In addition to using
shift-share designs to estimate the overall impact of a shifter of interest, other work has used them as part of a more general
structural estimation approach; see Diamond (2016), Adão (2016), Galle, Rodríguez-Clare and Yi (2018), Burstein et al.
(2018), Bartelme (2018). Baum-Snow and Ferreira (2015) review additional applications in the context of urban economics.

3

shares (wi1 , . . . , wiS ) as an instrument for endogenous treatment. They conclude that this approach
requires the entire vector of shares to be as good as randomly assigned conditional on the shifters.
Second, Borusyak, Hull and Jaravel (2018), focusing on the use of a shift-share regressor as an instrument, show it is a valid instrument if the set of shifters is as good as randomly assigned conditional on
the shares, and discuss consistency of the instrumental variables estimator in this context. We follow
Borusyak, Hull and Jaravel (2018) by modeling the shifters as randomly assigned, since this approach
follows naturally from our economic model. Using this assumption, we point out the potential bias
of standard inference procedures when applied to shift-share designs, and provide a novel inference
procedure that is valid in this context.
While our paper focuses on the statistical properties of the OLS estimator of β in eq. (1), there
exists a prior literature that has focused on studying the validity of different economic interpretations
that one may attach to the estimand β. For example, this prior literature has studied how this interpretation may be affected by the presence of cross-regional general equilibrium effects (Beraja, Hurst
and Ospina, 2019; Adão, Arkolakis and Esposito, 2019), slow adjustment of labor market outcomes
to the shifters Xs (Jaeger, Ruist and Stuhler, 2018), and heterogeneous effects of the shifters across
sectors and regions (Monte, Redding and Rossi-Hansberg, 2018).
The rest of this paper is organized as follows. Section 2 presents a placebo exercise illustrating
the properties of the usual inference procedures. Section 3 introduces a stylized economic model
and maps its implications into a potential outcome framework. Section 4 establishes the asymptotic
properties of the OLS estimator of β in eq. (1), as well as the properties of an instrumental variables
estimator that uses a shift-share variable as an instrument. Section 5 discusses extensions of our
baseline framework. Section 6 examines the performance of our novel inference procedures in a series
of placebo exercises. Section 7 revisits two prior applications of shift-share designs, and Section 8
concludes. Proofs and additional results are collected in an Online Appendix.

2

Overrejection of usual standard errors: placebo evidence

In this section, we implement a placebo exercise to evaluate the finite-sample performance of the
two inference methods most commonly applied in shift-share regression designs: (a) Eicker-HubertWhite—or heteroskedasticity-robust—standard errors, and (b) standard errors clustered on groups
of regions geographically close to each other. In our placebo, we regress observed changes in U.S.
regional labor market outcomes on a shift-share regressor that is constructed by combining actual data
on initial sectoral employment shares for each region with randomly generated sector-level shocks.
We describe the setup in Section 2.1 and discuss the results in Section 2.2.

2.1

Setup and Data

We generate 30, 000 placebo samples indexed by m. Each of them contains N = 722 regions and
S = 396 sectors. We identify each region i with a U.S. Commuting Zone (CZ) and each sector s with
a 4-digit SIC manufacturing industry.
N
Using the notation from eq. (1), the shares {wis }iN,S
=1,s=1 , and the outcomes {Yi }i =1 are identical

4

in each placebo sample. The shares correspond to employment shares in 1990, and the outcomes
correspond to changes in employment rates and average wages for different subsets of the population
between 2000 and 2007. Our source of data on employment shares is the County Business Patterns,
and our measures of changes in employment rates and average wages are based on data from the
Census Integrated Public Use Micro Samples in 2000 and the American Community Survey for 2006
through 2008. Given these data sources, we construct our variables following the procedure described
in the Online Appendix of Autor, Dorn and Hanson (2013).
The placebo samples differ exclusively in the shifters {Xsm }sN=1 , which are drawn i.i.d. from a

normal distribution with zero mean and variance equal to five in each placebo sample m. Since the

shifters are independent of both the outcomes and the shares, the parameter β is zero; this is true
irrespective of the dependence structure between the outcomes and the shares.
For each placebo sample m, given the observed outcome Yi , the generated shift-share regressor
Xim

and a vector of controls Zi including only an intercept, we compute the OLS estimate of β, the

heteroskedasticity-robust standard error (which we label Robust), and the standard error that clusters
CZs in the same state (labeled Cluster).

2.2

Results

Table 1 presents the median and standard deviation of the empirical distribution of the OLS estimates
of β across the 30,000 placebo samples, along with the median standard error estimates, and rejection
rates for 5% significance level tests of the null hypothesis H0 : β = 0. We present these statistics for
several outcome variables, which are listed in the leftmost column.
Column (1) of Table 1 shows that, up to simulation error, the average of the OLS estimates is
zero for all outcomes. Column (2) reports the standard deviation of the estimated coefficients. This
dispersion is the target of the estimators of the standard error of the OLS estimator.4 Columns (3) and
(4) report the median standard error estimates for the Robust and Cluster procedures, respectively,
and show that both standard error estimators are downward biased. On average across all outcomes,
the median magnitudes of the heteroskedasticity-robust and state-clustered standard errors are, respectively, 55% and 46% lower than the standard deviation.
The downward bias in the Robust and Cluster standard errors translates into a severe overrejection
of the null hypothesis H0 : β = 0. Since the true value of β equals 0 by construction, a correctly
behaved test with significance level 5% should have a 5% rejection rate. Columns (5) and (6) in Table 1
show that traditional standard error estimators yield much higher rejection rates. For example, when
the outcome variable is the CZ’s employment rate, the rejection rate is 48.5% and 38.1% when Robust
and Cluster standard errors are used, respectively. These rejection rates are very similar when the
dependent variable is instead the change in the average log weekly wage.
These results are quantitatively important. To see this, consider the following thought-experiment.
Suppose we were to provide the 30, 000 simulated samples to 30, 000 researchers without disclosing
the origin of the data to them. Instead, we would tell them that the shifters correspond to changes in a
4 Figure

D.1 in Online Appendix D.1 reports the empirical distribution of the OLS estimates when the dependent variable
is the change in each CZ’s employment rate. Its distribution resembles a normal distribution centered around β = 0.

5

Table 1: Standard errors and rejection rate of the hypothesis H0 : β = 0 at 5% significance level.
Estimate
Mean
(1)

Std. dev.
(2)

Median std. error
Robust
(3)

Panel A: Change in the share of working-age population
Employed
−0.01
2.00
0.73
Employed in manufacturing
−0.01
1.88
0.60
Employed in non-manufacturing
0.00
0.94
0.58
Panel B: Change in average log weekly wage
Employed
−0.03
2.66
Employed in manufacturing
−0.03
2.92
Employed in non-manufacturing −0.02
2.64

1.01
1.68
1.05

Rejection rate

Cluster
(4)

Robust
(5)

Cluster
(6)

0.92
0.76
0.67

48.5%
55.7%
23.2%

38.1%
44.8%
17.6%

1.33
2.11
1.33

47.3%
26.7%
45.4%

34.2%
16.8%
33.7%

Notes: For the outcome variable indicated in the leftmost column, this table indicates the mean and standard deviation of
the OLS estimates of β in eq. (1) across the placebo samples (columns (1) and (2)), the median standard error estimates
(columns (3) and (4)), and the percentage of placebo samples for which we reject the null hypothesis H0 : β = 0 using a 5%
significance level test (columns (5) and (6)). Robust is the Eicker-Huber-White standard error, and Cluster is the standard
error that clusters CZs in the same state. Results are based on 30,000 placebo samples.

sectoral shock of interest—for instance, trade flows, tariffs, or national employment. If the researchers
set out to test the null that the impact of this shock is zero using standard inference procedures at a
5% significance level, then over a third of them would conclude that our computer generated shocks
had a statistically significant effect on the evolution of employment rates between 2000 and 2007.
The following remark summarizes the results of our placebo exercise.
Remark 1. In shift-share regressions, traditional inference methods may suffer from a severe overrejection
problem, and yield confidence intervals that are too short.
To understand the source of this overrejection problem, note that the standard error estimators
reported in Table 1 assume that the regression residuals are either independent across all regions
(for Robust), or between geographically defined groups of regions (for Cluster). Given that shift-share
regressors are correlated across regions with similar employment shares {wis }Ss=1 , these methods
generally lead to a downward bias in the standard error estimate whenever regions with similar
employment shares {wis }Ss=1 also have similar regression residuals. In the next section, we show how
such correlations between regression residuals may arise.

3

Stylized economic model

This section presents a stylized economic model mapping labor demand and labor supply shocks
to labor market outcomes for a set of regional economies. The aim of the model is twofold. First,
it illustrates the economic mechanisms behind the overrejection problem documented in Section 2.2.
Second, it provides guidance on how to estimate: (i) the impact of sector-specific labor demand
shifters on regional labor market outcomes; and (ii) the regional inverse labor supply elasticity. We

6

describe the model fundamentals in Section 3.1, discuss its main implications in Section 3.2, and map
these implications to a potential outcome framework in Section 3.3.

3.1

Environment

We consider an economy with multiple sectors s = 1, . . . , S and multiple regions i = 1, . . . , N. We
assume that the labor demand in sector s and region i, Lis , is given by
log Lis = −σs log ωi + log Dis ,

σs > 0,

(2)

where ωi is the wage rate in region i, σs is the labor demand elasticity in sector s, and Dis is a regionand sector-specific labor demand shifter. This shifter may account for multiple sectoral components.
Specifically, we decompose Dis into a sectoral shifter of interest χs , other shifters that vary by sector
µs , and a residual region- and sector-specific shifter ηis :
log Dis = ρs log χs + log µs + log ηis .

(3)

We assume that the labor supply in region i is given by
log Li = φ log ωi + log vi ,

φ > 0,

(4)

where φ is the labor supply elasticity, and vi is a region-specific labor supply shifter. We allow this
shifter to have a shift-share structure that yields region-specific aggregates of group-specific labor
supply shocks. In particular, indexing labor groups by g = 1, . . . , G, we decompose
log vi =

G

∑ w̃ig log νg + log νi ,

(5)

g =1

where νg is a group-specific labor supply shifter, w̃ig measures the exposure of region i to group g
labor supply shifter, and νi captures region-specific factors affecting labor supply. The variable νg
captures factors that affect the supply of labor of group g in all regions in the population of interest.
Workers may be classified into groups according to their education level, gender, or country of origin.
We assume that workers cannot move across regions but are freely mobile across sectors. Thus,
labor markets clear if
Li =

3.2

S

∑ Lis ,

i = 1, . . . , N.

(6)

s =1

Labor market equilibrium

We assume that, in each period, the model described by eqs. (2) to (6) characterizes the labor market equilibrium in every region, and that, across periods, changes in the labor market outcomes

{ωi , Li }iN=1 are due to changes in either the labor demand shifters, {χs , µs }Ss=1 and {ηis }iN,S
=1,s=1 , or the
G
N
labor supply shifters, {νg } g=1 and {νi }i=1 .

7

We use ẑ = log(zt /z0 ) to denote log-changes in a variable z between a period t = 0 and some
other period t. We assume that the realized changes between any two periods in all labor demand
and supply shifters are draws from a joint distribution F (·):



G
N
{χ̂s , µ̂s }Ss=1 , {η̂is }iN,S
,
{
ν̂
}
{
ν̂
}
g g=1 i i =1 ∼ F (·).
=1,s=1

(7)

Up to a first-order approximation around the initial equilibrium, eqs. (2) to (6) imply that the
changes in employment and wages in region i are given by
L̂i =

S

G

s =1

g =1

∑ lis0 (θis χ̂s + λi µ̂s + λi η̂is ) + (1 − λi ) ( ∑ w̃ig ν̂g + ν̂i ),

ω̂i = φ−1

S

G

s =1

g =1

∑ lis0 (θis χ̂s + λi µ̂s + λi η̂is ) − φ−1 λi ( ∑ w̃ig ν̂g + ν̂i ),

(8)
(9)

h
i −1
where lis0 = L0is /L0i is the initial employment share of sector s in region i, λi = φ φ + ∑Ss=1 lis0 σs
,
and θis = ρs λi .

Consider first the model’s implications for the impact on regional labor market outcomes of
changes in sector-specific labor demand. We focus here on the impact of the demand shocks {χ̂s , µ̂s }Ss=1

on the change in the employment rate L̂i ; however, given the symmetry between eqs. (8) and (9), the
model’s implications for the impact of these shocks on the change in the wage level ω̂i are analogous.
According to eq. (8), the change in the employment rate in region i depends on two shift-share
components that aggregate the impact of the sector-specific labor demand shocks. In both compo-

nents, the “share” term is the initial employment share lis0 ; the “shift” term corresponds in each of
them to one of the two sector-specific labor demand shocks, χ̂s or µ̂s . Furthermore, L̂i also depends
on additional shift-share terms that aggregate the impact of group-specific labor supply shocks. In
this case, the “share” term is the region’s exposure to each group-specific shock, w̃ig . Conditional on
a sector s and a labor group g, the shares {lis0 }iN=1 and {w̃ig }iN=1 may be correlated. Settings in which
the outcome of interest depends on multiple shift-share terms with potentially correlated shares is
central to understanding the placebo results presented in Section 2.
Another implication of eq. (8) is that, even conditional on the initial employment share lis0 , the
impact of sectoral labor demand shocks on regional employment may be heterogeneous across sectors
and regions; e.g., the impact of χ̂s on L̂i depends not only on lis0 but also on θis , which may vary across
i and s. While datasets usually contain information on the initial employment shares for every sector
N,S
and region {lis0 }iN,S
=1,s=1 , the parameters { θis }i =1,s=1 are not generally known.

We summarize the discussion in the last two paragraphs in the following remark:

Remark 2. In our model, the equilibrium equations for the change in regional labor market outcomes combines
multiple shift-share terms, and the shifter effects depend on unknown parameters that may be heterogeneous.
Online Appendices B and C show that there are multiple microfoundations consistent with the
insights summarized in Remark 2. Alternative microfoundations may differ in the mapping between
the labor demand and supply elasticities, σs and φ, and structural parameters, or in the interpre8

tation of the different terms entering the labor demand shifter Dis in eq. (3).5 In addition, Online
Appendix C.3 shows that similar insights arise in a model that allows for migration across regions. In
this case, the change in regional employment depends not only on the region’s own shift-share terms
included in eq. (8), but also on a component, common to all regions, that combines the shift-share
terms corresponding to all N regions. In this environment, lis0 θis is the partial effect of the shifter χ̂s
on L̂i conditional on a fixed effect that absorbs cross-regional spillovers created by migration.
Turning to the estimation of the inverse labor supply elasticity, eqs. (4) and (5) imply that
G

ω̂i = φ̃ L̂i − φ̃( ∑ w̃ig ν̂g + ν̂i )

with

φ̃ = φ−1 .

(10)

g =1

It follows from eq. (8) that the change in region i’s employment rate, L̂i , also depends on the term
∑G
g=1 w̃ig ν̂g + ν̂i . Thus, the two terms on the right-hand side of eq. (10) are correlated with each other,
creating an endogeneity problem. The instrumental variables solution to this problem relies on the
observation that using eqs. (8) and (9), one can write the inverse labor supply elasticity as the ratio of
the impact of a sector-specific labor demand shock (e.g. χ̂s ) on wages to that on employment:
∂ω̂i
φ̃ =
∂χ̂s



∂ L̂i
.
∂χ̂s

In Sections 4 and 5, we use the model described here to provide an economic interpretation for
the econometric assumptions we impose when discussing identification and estimation in shift-share
designs. These assumptions imply restrictions on the distribution of labor supply and demand shocks
F (·) introduced in eq. (7). In Section 7, we return to this economic model when interpreting empirical
estimates of the impact of sector-specific labor demand shifters on regional labor market outcomes
(Section 7.1); and the regional inverse labor supply elasticity (Section 7.2).

3.3

From economic model’s equilibrium conditions to a potential outcome framework

We build on the results in Section 3.2 to propose a general framework for the estimation of the impact
of shifters on outcomes measured at a different unit of observation. For concreteness, we refer to the
level at which shifters vary as sectors and to the level at which the outcome varies as regions.
To make precise what we mean by “the effect of shifters on an outcome”, we use the potential
outcomes notation, writing Yi (x1 , . . . , xS ) to denote the potential (counterfactual) outcome that would
occur in region i if the shocks to the S sectors were exogenously set to {xs }Ss=1 . Consistently with

eqs. (8) and (9), we assume that the potential outcomes are linear in the shocks,
S

Yi (x1 , . . . , xS ) = Yi (0) + ∑ wis xs β is ,

where

i =1

wis ≥ 0 for all s,

S

∑ wis ≤ 1,

(11)

s =1

5 In Online Appendix B, we derive eqs. (8) and (9) from a multisector gravity model with endogenous labor supply that
follows closely that in Adão, Arkolakis and Esposito (2019). In Online Appendix C.1, we show that Remark 2 is consistent
with a Jones (1971) model featuring sector-specific production inputs, as in Kovak (2013). In Online Appendix C.2, we show
that it is also consistent with a Roy (1951) model featuring workers with heterogeneous preferences for employment across
sectors, as in Galle, Rodríguez-Clare and Yi (2018), Lee (2018) and Burstein, Morales and Vogel (2019).

9

and Yi (0) = Yi (0, . . . , 0) denotes the potential outcome in region i when all shocks {xs }Ss=1 are set to

zero. Thus, increasing xs by one unit, holding the shocks to the other sectors constant, leads to an
increase in region i’s outcome of wis β is units. This is the treatment effect of xs on Yi (x1 , . . . , xS ). The
actual (observed) outcome is given by Yi = Yi (X1 , . . . , XS ), which depends on the realization of the
shifters, (X1 , . . . , XS ).
If the shifters of interest are the sectoral labor demand shocks {χ̂s }Ss=1 , and the outcome of interest

is the employment change L̂i , we can map eq. (8) into eq. (11) by defining
Yi = L̂i , wis = lis0 , xs = χ̂s , β is = θis , Yi (0) = λi

S

G

s =1

g =1

∑ wis (µ̂s + η̂is ) + (1 − λi )( ∑ w̃ig ν̂g + υ̂i ).

(12)

Observe that Yi (0) aggregates all shifters other than the sectoral shocks of interest {χ̂s }Ss=1 .6

We are interested in the properties of the OLS estimator β̂ of the coefficient on the shift-share

regressor Xi = ∑Ss=1 wis Xs in a regression of Yi onto Xi .7 To focus on the key conceptual issues, we
abstract away from any additional covariates or controls for now, and assume that Xs and Yi have
been demeaned, so that we can omit the intercept in a regression of Yi on Xi (see Section 4.2 for the
case with controls). In this simplified setting, the OLS estimator of the coefficient on Xi is given by
β̂ =

∑iN=1 Xi Yi
,
∑iN=1 Xi2

(13)

and we can write the regression equation as
Yi = βXi + ei ,

where

Xi =

S

∑ wis Xs .

(14)

s =1

The definition of the estimand β in eq. (14) and the properties of the estimator β̂ will depend
on: (a) what is the population of interest; and (b) how we think about repeated sampling. For (a),
we define the population of interest to be the observed set of N regions, as opposed to focusing on a
large superpopulation of regions from which the N observed regions are drawn. Consequently, we are
N,S
interested in the parameters { β is }iN,S
=1,s=1 and the treatment effects { wis β is }i =1,s=1 themselves, rather

than the distributions from which they are drawn, which would be the case if we were interested in
a superpopulation of regions.8 For (b), given our interest on estimating the ceteris paribus impact of a
specific set of shocks (X1 , . . . , XS ), we consider repeated sampling of these shocks, while holding the
N,S
N
shares {wis }iN,S
=1,s=1 , the parameters { β is }i =1,s=1 , and the potential outcomes {Yi (0)}i =1 fixed.

6 Given the mapping in eq. (12), the expression in eq. (11) captures the first-order impact of the labor demand shocks
{χ̂s }Ss=1 on changes in the employment rate. We focus on this first-order impact because it helps connecting our analysis
to linear specifications used extensively in the shift-share literature. See Online Appendix D.5 for a discussion of the
approximation error arising from the linear specification imposed in eq. (8).
7 We assume for now that the shifters {X }S
s s=1 are directly observable. In Section 5.3, we consider the case in which we
only observe noisy estimates of these shifters.
8 Treating the set of observed regions as the population of interest is common in applications of the shift-share approach.
For example, the abstract of Autor, Dorn and Hanson (2013) reads: “We analyze the effect of rising Chinese import
competition between 1990 and 2007 on U.S. local labor markets”. Similarly, the abstract of Dix-Carneiro and Kovak (2017)
reads: “We study the evolution of trade liberalization’s effects on Brazilian local labor markets” (emphases added).

10

Given these assumptions, the estimand β is defined as the population analog of eq. (13) under
repeated sampling of the shocks Xs ,
β=

∑iN=1 E[ Xi Yi | F0 ]
,
∑iN=1 E[ Xi2 | F0 ]

with

F0 = {Yi (0), β is , wis }iN,S
=1,s=1 ,

(15)

and, given eqs. (11) and (14), the regression error ei is then defined as the residual
S

ei = Yi − Xi β = Yi (0) + ∑ wis Xs ( β is − β).

(16)

i =1

Thus, the statistical properties of the regression residual ei depend on the properties of the potential outcome Yi (0), the shifters {Xs }Ss=1 , the shares {wis }Ss=1 , and the difference between the pa-

rameters { β is }Ss=1 and the estimand β. Importantly, as illustrated in eq. (12), the potential outcome

Yi (0) will generally incorporate terms that have a shift-share structure with shares that are either
identical to (e.g. the term ∑Ss=1 wis µ̂s ) or different from but potentially correlated with (e.g. the term
S
∑G
g=1 w̃ig ν̂g ) the shares { wis }s=1 that define the shift-share regressor Xi . It then follows from eq. (16)
that the residuals ei and ei0 will generally be correlated for any pair of regions i and i0 with similar
values of the shift-share regressor.
We summarize this discussion in the following remark.
Remark 3. Correct inference for the coefficient on a shift-share regressor requires taking into account potential
cross-regional correlation in residuals across observations with similar values of the shift-share covariate of
interest. One possible source of such correlation is the presence in these residuals of shift-share components with
shares identical to or correlated with those entering the covariate of interest.
Remark 3 has important implications for estimating the sampling variability of β̂. In particular,
traditional inference procedures do not account for correlation in ei among regions with similar shares
and, therefore, tend to underestimate the variability of β̂. As we formalize in the next section, this is
the main reason for the overrejection problem described in Section 2.

4

Asymptotic properties of shift-share regressions

In this section, we formulate the statistical assumptions that we impose on the data generating process (DGP), use them to derive asymptotic results, and provide an economic interpretation of these
assumptions using the model introduced in Section 3. In Section 4.1, we consider the case in which
there is a single shift-share regressor and no controls. We account for controls in Section 4.2. In Section 4.3, we consider using the shift-share variable as an instrument for a regional treatment variable.
All proofs and technical details are collected in Online Appendix A.
We follow the notation from eq. (1) by writing sector-level variables (such as the shifter Xs ) in
script font style and region-level aggregates (such as Xi ) in normal style. We use standard matrix and
vector notation. In particular, for a (column) L-vector Ai that varies at the regional level, A denotes
the N × L matrix with the ith row given by Ai0 . For an L-vector As that varies at the sectoral level, A
11

denotes the S × L matrix with the sth row given by As0 . If L = 1, then A and A are an N-vector and

an S-vector, respectively. Let W denote the N × S matrix of shares, so that its (i, s) element is given

by wis , and let B denote the N × S matrix with (i, s) element given by β is .

4.1

Simple case without controls

We focus here on the statistical properties of the OLS estimator β̂ defined in eq. (13).
Assumptions
We consider large-sample properties of β̂ as the number sectors goes to infinity, S → ∞. The assumptions below imply that N → ∞ as S → ∞. To assess how large S needs to be in order that these

asymptotics provide a good approximation to the finite sample distribution of β̂, we conduct a series
of placebo simulations in Section 6. We describe here the main substantive assumptions, and collect
technical regularity conditions in Online Appendix A.1.1. As in eq. (15), let F0 = (Y (0), B, W ).
Assumption 1 (Identification). (i) The observed outcome is given by Yi = Yi (X1 , . . . , XS ), such that
eq. (11) holds; (ii) The shifters are as good as randomly assigned conditional on F0 in the sense that,
for all s = 1, . . . , S,
E[Xs | F0 ] = 0.

(17)

Assumption 1(i) requires that the potential outcomes are linear in the shifters {Xs }Ss=1 . As dis-

cussed in Section 3.3, one can generate such linear specification from a first-order approximation of
the impact of the shifters (X1 , . . . , XS ) on the outcome Yi . This approximation may be subject to
error. In Online Appendix A.1.1, we generalize eq. (11) to allow for a linearization error and derive
restrictions on this error under which our inference procedures remain valid.
Assumption 1(ii) imposes that the sectoral shifters X are mean independent of the shares W,
potential outcomes Y (0), and parameters B; the assumption that the shifters are mean zero is a
normalization to allow us to drop the intercept; we relax it in Section 4.2. This random assignment
assumption is a key assumption for identifying the causal impact of a shift-share covariate; a version
of this assumption has been previously proposed by Borusyak, Hull and Jaravel (2018).
If we are interested in studying the effect of labor demand shifters in the context of the model in

Section 3 (i.e. Xs = χ̂s ), Assumption 1(ii) will hold if the shifters {χ̂s }Ss=1 are mean independent of

G
the other labor demand shifters, {µ̂s }Ss=1 and {η̂is }iN,S
=1,s=1 , and of the labor supply shifters, { ν̂g } g=1

and {ν̂i }iN=1 . The plausibility of this restriction depends on the specific empirical application. For
example, if all N regions in the sample are regions within a small open economy, χ̂s denotes changes
in international prices in sector s, and µ̂s denotes changes in the tariffs that this small open economy
charges on its sector s imports; then, Assumption 1(ii) requires these changes in tariffs to be independent of the changes in tariffs in any country that is large enough for their tariff changes to affect
international prices (see Online Appendix B.4 for additional details).
Assumption 2 (Consistency and Inference). (i) The shifters (X1 , . . . , XS ) are independent conditional on F0 ; (ii) maxs ns / ∑St=1 nt → 0, where ns = ∑Ss=1 wis denotes the total share of sector s;
(iii) maxs n2s / ∑St=1 n2t → 0.
12

Assumption 2(i) requires the shifters to be independent. It adapts to our setting the assumption
underlying randomization-style inference in randomized controlled trials that the treatment assignment is independent across entities (see Imbens and Rubin, 2015, for a review). An independence
or a weak dependence assumption of this type is generally necessary in order to do inference.9 One
could alternatively impose assumptions on the correlation structure of the regression residuals, either by imposing a particular structure on them, as in the literature on interactive fixed effects (e.g.
Gobillon and Magnac, 2016), or by imposing a distance metric on the observations, as in the spatial
econometrics literature (e.g. Conley, 1999). However, as the economic model in Section 3 shows, the
structure of the residuals may be very complex. The residuals may include potentially correlated
region-specific terms as well as several shift-share terms, which may or may not use the same shares
as the covariate of interest Xi . It is thus difficult to conceptualize which exact restriction on their joint
distribution one should impose.
By instead imposing restrictions on the distribution of the vector of shifters (X1 , . . . , XS ) conditional on F0 = (Y (0), B, W ), Assumption 2(i) ensures that the standard errors we derive remain
valid under any dependence structure between the shares wis across sectors and regions, and under
any correlation structure of the potential outcomes Yi (0) or, equivalently, of the regression errors ei ,
across regions.10 We thus do not have to worry about correctly specifying this correlation structure,
as one would under the alternative approaches mentioned above. Our approach allows (but does
not require) the residual to have a shift-share structure; it similarly allows all {wis }iN,S
=1,s=1 to be equi-

librium objects responding to the same economic shocks, and thus be correlated across regions and
sectors.11 In Section 5.1, we relax Assumption 2(i) and allow for a non-zero correlation in the shifters

(X1 , . . . , XS ) within clusters of sectors; we only require that the shifters are independent across the
clusters. Additionally, in the context of the empirical application in Section 7.1, we discuss how to
perform inference in a setting in which all shifters of interest are generated by a common shock that
has heterogeneous effects across sectors.
In the economic model in Section 3, if Xs = χ̂s and we interpret these shocks as, for example,
sector-specific productivity shocks, Assumption 2(i) requires that there is no common component
driving the changes in sectoral productivities. Our approach does not require the shifters {Xs }Ss=1 to
be identically distributed; we allow, for example, the variance of the shock to differ across sectors.
Assumptions 2(ii) and 2(iii) are our main regularity conditions.12 Assumption 2(ii) is needed for
9 For

example, for inference on average treatment effects, which is commonly the goal when running a regression, one
typically assumes that the sample is a random sample from the population of interest and, thus, that the treatment variable
is independent across the individuals in the sample.
10 Since our inference is valid conditional on { e } N , it accounts for any correlation structure they may have, including
i i =1
spatial, or, in applications with multiple periods, temporal correlations. See Section 5.2 for settings with multiple periods.
11 This conceptualization of all the shares w as equilibrium objects that respond (at least partly) to the same set of shocks
is
is consistent with the model in Section 3. As shown in eq. (12), each share wis corresponds to the share of workers in
0 . Furthermore, each of these initial employment shares will be a
region i employed in sector s in an initial equilibrium, lis
0 will generally
function of the same sector-specific demand shocks and group-specific labor supply shocks; consequently lis
0
0
0
be correlated with li0 s0 even for i 6= i and s 6= s .
12 In the context of a shift-share instrumental variables regression, Goldsmith-Pinkham, Sorkin and Swift (2018) discuss
similar conditions stated in terms of Rotemberg weights. This is convenient under the baseline assumption considered in
Goldsmith-Pinkham, Sorkin and Swift (2018) that the vector of shares (wi1 , . . . , wiS ) is exogenous, because the Rotemberg
weights determine the asymptotic bias of the estimator under local failures of this exogeneity condition. Since we do not
assume exogeneity of the shares, this interpretation is not available under our setup.

13

consistency: it requires that the size of each sector, ns , is asymptotically negligible. This assumption
is analogous to the standard consistency condition in the clustering literature that the largest cluster
be asymptotically negligible. To see the connection, consider the special case with “concentrated
sectors”, in which each region i specializes in one sector s(i ); i.e. wis = 1 if s = s(i ) and wis = 0
otherwise, and ns is thus the number of regions that specialize in sector s. In this case, Xi = Xs(i) , so
that, if eq. (17) holds, β̂ is equivalent to an OLS estimator in a randomized controlled trial in which
the treatment varies at a cluster level; here the sth cluster consists of regions that specialize in sector
s. The condition maxs ns / ∑St=1 nt → 0 then reduces to the assumption that the largest cluster be

asymptotically negligible. Assumption 2(iii) is needed for asymptotic normality—it ensures that the
Lindeberg condition holds. It strengthens Assumption 2(ii) slightly by requiring that the contribution
of each sector to the asymptotic variance is asymptotically negligible; otherwise the estimator will
not generally be asymptotically normal, even if it is consistent.
In terms of the economic model introduced in Section 3, Assumptions 2(ii) and 2(iii) require that
no sector dominates the rest in terms of initial employment at the national level; i.e. ∑iN=1 lis0 is not too
large for any sector. Section 6.1 shows that this assumption is reasonable for the U.S. if the S sectors
used to construct the treatment of interest Xi correspond to the 396 4-digit manufacturing sectors (see
Section 2.1). In Section 6.2, we illustrate the consequences of the failure of this assumption due to the
inclusion of a large aggregate sector, the non-manufacturing sector, in Xi .
Asymptotic theory
We now establish that the OLS estimator in eq. (13) is consistent and asymptotically normal.
Proposition 1. Suppose Assumption 1, Assumptions 2(i) and 2(ii), and Assumptions A.1(i) to A.1(iii) in
Online Appendix A.1.1 hold. Then
β=

∑iN=1 ∑Ss=1 πis β is
,
∑iN=1 ∑Ss=1 πis

and

β̂ = β + o p (1),

(18)

2 var(X | F ).
where πis = wis
s
0

This proposition gives two results. First, it shows that the estimand β in eq. (15) can be expressed
as a weighted average of the region- and sector-specific parameters { β is }iN,S
=1,s=1 , with the weight πis

increasing in the share wis and in the conditional variance of the shifter var(Xs | F0 ). Second, it states

that the OLS estimator β̂ converges to this estimand as S → ∞. The special case with concentrated

sectors is again useful in interpreting Proposition 1. In this case, ∑Ss=1 πis β is = var(Xs(i) | F0 ) β is(i)
and, therefore, the first result in Proposition 1 reduces to the standard result from the randomized
controlled trials literature with cluster-level randomization (with each “cluster” defined as all regions
specialized in the same sector) that the weights are proportional to the variance of the shock.
The estimand β does not in general equal a weighted average of the heterogeneous treatment

effects. As discussed in Section 3.3, the effect on the outcome in region i of increasing the value
of the sector s shock in one unit is equal to wis β is ; weighting this effect using a set of region- and

14

sector-specific weights {ξ is }iN,S
=1,s=1 , yields the weighted average treatment effect
τξ =

∑iN=1 ∑Ss=1 ξ is wis β is
.
∑iN=1 ∑Ss=1 ξ is

Alternatively, the total effect of increasing the shifters simultaneously in every sector by one unit
is ∑Ss=1 wis β is ; weighting it using a set of region-specific weights {ζ i }iN=1 yields the weighted total treatment effect τζT = ∑iN=1 ζ i ∑Ss=1 wis β is / ∑iN=1 ζ i . If β is is constant across i and s, then β =

τζT , provided ∑Ss=1 wis = 1 in every region i; otherwise, we can consistently estimate τζT by β̂ ·
∑iN=1 ζ i ∑Ss=1 wis / ∑iN=1 ζ i . Similarly, if β is is constant across i and s, τξ is consistently estimated by

β̂ · ∑iN=1 ∑Ss=1 ξ is wis / ∑iN=1 ∑Ss=1 ξ is . On the other hand, if β is varies across regions and sectors, then

it is not clear in general how to exploit knowledge of the estimand β defined in eq. (18) to learn
something about τξ or τζT . A special case in which it is possible to consistently estimate τξ even if β is

varies across i or s arises when Xs is homoskedastic, var(Xs | F0 ) = σ2 , and ξ is = wis ; in this case, a
2/ N
consistent estimate of τξ is given by β̂ ∑iN=1 ∑Ss=1 wis
∑i=1 ∑Ss=1 wis .13

Proposition 2. Suppose Assumptions 1 and 2, and Assumption A.1 in Online Appendix A.1.1 hold. Suppose
also that
VN =

1
∑Ss=1 n2s

var

N

∑ Xi ei | F0

i =1

!

converges in probability to a non-random limit. Then

q

N
∑Ss=1

n2s




( β̂ − β) = N 0, 

VN
1
N

∑iN=1

Xi2




2  + o p (1).

This proposition shows that β̂ is asymptotically normal, with a rate of convergence equal to
√
N (∑Ss=1 n2s )−1/2 . If all sector sizes ns are of the order N/S, the rate of convergence equals S. However, if the sizes are unequal, the rate may be slower.
According to Proposition 2, the asymptotic variance formula has the usual “sandwich” form. Since
Xi is observed, to construct a consistent standard error estimate, it suffices to construct a consistent
estimate of VN , the middle part of the sandwich. To motivate our standard error formula, suppose
that β is is constant across i and s, β is = β. Then it follows from eq. (17) and Assumption 2(i) that
VN =

∑Ss=1 var(Xs | F0 ) R2s
,
∑Ss=1 n2s

13 In

Rs =

N

∑ wis ei .

(19)

i =1

general, one can consistently estimate τξ or τζT by imposing a mapping between β is and structural parameters, and
obtaining consistent estimates of these structural parameters. However, since this mapping will vary across models, the
consistency of such estimator will not be robust to alternative modeling assumptions, even if all these assumptions predict
an equilibrium relationship like that in eq. (8); e.g. see Online Appendix B and Online Appendices C.1 and C.2 for examples
of this mapping in different models.

15

Replacing var(Xs | F0 ) by Xs2 , and ei by the regression residual êi = Yi − Xi β̂, we obtain the estimate

)
bAKM ( β̂) = V̂AKM ( β̂
,
V
2
N
2
∑ i = 1 Xi

S

V̂AKM ( β̂) =

∑ Xs2 R̂2s ,

s =1

R̂s =

N

∑ wis êi .

(20)

i =1

When β is = β, we show formally that this variance estimate leads to valid inference under regularity
conditions in Section 4.2. In Online Appendix A.1.6 we show that this variance estimate remains valid
under heterogeneous β is under further regularity conditions.
To gain intuition for the variance estimate in eq. (20), consider the case with concentrated sectors.
Then the numerator in eq. (20) becomes ∑Ss=1 Xs2 R̂2s = ∑Ss=1 (∑iN=1 I{s(i ) = s} Xi êi )2 , so that eq. (20)
reduces to the cluster-robust variance estimate that clusters on the sector that each region is specialized. This is consistent with the rule of thumb that one should “cluster” at the level of variation of
the regressor of interest. More generally, the variance estimate essentially forms sectoral clusters with
variance that depends on the variance of R̂s , a weighted sum of the regression residuals {êi }iN=1 , with
bAKM ( β̂) is that it allows
weights that correspond to the shares {wis } N . An important advantage of V
i =1

for an arbitrary structure of cross-regional correlation in residuals:

Remark 4. In the expression for VN in eq. (19), the expectation is only taken over {Xs }Ss=1 —we do not take any
N
expectation over the shares {wis }iN,S
=1,s=1 or the residuals { ei }i =1 . This is because our inference is conditional on

the realized values of the shares and on the potential outcomes {Yi (0)}iN=1 . In terms of the regression in eq. (14),

this means that we consider properties of β̂ under repeated sampling of Xi = ∑Ss=1 wis Xs conditional on the
N
shares {wis }iN,S
=1,s=1 and on the residuals { ei }i =1 (as opposed to, say, considering properties of β̂ under repeated
sampling of the residuals conditional on { Xi }iN=1 ). As a result, our inference method allows for arbitrary
dependence between the residuals {ei }iN=1 .

To understand the source of the overrejection problem discussed in Section 2, let us compare the
bAKM ( β) with the cluster-robust variance estimate when the residuals êi are comvariance estimate V

puted at the true β (so that êi = ei ). These variance estimates differ in the middle sandwich, with the

cluster-robust estimate replacing V̂AKM ( β) in eq. (20) with V̂CL ( β) = ∑iN=1 ∑ N
j=1 I{ c (i ) = c ( j )} Xi X j ei e j ,
where c(i ) denotes the cluster that region i belongs to (the comparison with heteroskedasticity-robust
standard errors obtains as a special case if c(i ) = i, so that each region belongs to its own cluster).
Assuming for simplicity that the conditional variance of Xs does not depend on Y (0), it follows by
simple algebra that the expectation of the difference between these terms is given by
E[V̂AKM ( β) − V̂CL ( β) | W ] =

S

N

∑ var(Xs | W ) ∑

s =1

N

∑ I{c(i) 6= c( j)}wis w js E[ei ej | W ].

(21)

i =1 j =1

This expression is non-negative so long as the correlation between the residuals is non-negative. The
magnitude of the difference will be large if regions located in different clusters (so that c(i ) 6= c( j)) that
have similar shares (i.e. large values of ∑Ss=1 wis w js ) also tend to have similar residuals (i.e. large values

of E[ei e j | W ]). For illustration, consider a simplified version of the model described in Section 3 in

which: (a) σs ≥ 0 for all s and φ ≥ 0, so that 0 ≤ λi ≤ 1; (b) region-specific labor demand and supply

shocks {η̂is }Ss=1 and ν̂i are independent across regions; and (c) all labor demand and supply shocks
16

are independent of each other. Then, it follows from eqs. (12) and (16) that, for any i 6= j,
E[ei e j | W, W̃ ] = λi λ j

S

G

s =1

g =1

∑ wis w js E[µ̂2s | W, W̃ ] + (1 − λi )(1 − λ j ) ∑ w̃ jg w̃ig E[ν̂g2 | W, W̃ ] ≥ 0,

(22)

which by the law of iterated expectations implies that E[V̂AKM ( β) − V̂CL ( β) | W ] ≥ 0. This expression

illustrates that regions with similar shares will tend to have similar residuals in two cases. First, if the
variance of the unobserved shifter µ̂s is large, so that E[µ̂2s | W, W̃ ] is large. In other words, standard

inference methods lead to overrejection if the residual contains important shift-share terms that affect
the outcome of interest through the same shares {wis }Ss=1 as those defining the covariate of interest
Xi . Second, if the variance of the unobserved shifter ν̂g is large, so that E[ν̂g2 | W, W̃ ] is large, and the

shares w̃ig through which these shifters affect the outcome variable have a correlation structure that
S
is similar to that of wis (so that ∑G
g=1 w̃ig w̃ jg is large whenever ∑s=1 wis w js is large). Thus, standard
inference methods may overreject even when the unobserved shifters contained in the residual vary

along a different dimension than the shift-share covariate of interest.

4.2

General case with controls

We now study the properties of the OLS estimator β̂ of the coefficient on Xi in a regression of Yi onto
Xi and a K-vector of controls Zi . To this end, let Z denote the N × K matrix with i-th row given by
Zi0 = ( Zi1 , . . . , ZiK ), and let Ẍ = X − Z ( Z 0 Z )−1 Z 0 X denote an N-vector with i-th element equal to the

regressor Xi with the controls Zi partialled out (i.e. the residual from regressing Xi onto Zi ). Then, by
the Frisch–Waugh–Lovell theorem, β̂ can be written as
β̂ =

Ẍ 0 Y
∑iN=1 Ẍi Yi
=
.
Ẍ 0 Ẍ
∑iN=1 Ẍi2

(23)

The controls may play two roles. First, they may be included to increase the precision of β̂. Second,
and more importantly, they may be included because one may worry that the shifters {Xs }Ss=1 are

correlated with the potential outcomes {Yi (0)}iN=1 , violating Assumption 1(ii). To formalize how Zi , a

regional variable, may be a control variable for the shifters, which vary at a sectoral level, we project
Zi onto the sectoral space using the same shares as those defining the shift-share regressor Xi ,
Zi =

S

∑ wis Zs + Ui .

(24)

s =1

We think of {Zs }Ss=1 as latent sector-level shocks that may have an independent effect on the outcome

Y and may also be correlated with the shifters {Xs }Ss=1 , with Ui , the residual in this projection,
mean-independent of the shifters. If the kth control Zik is included for precision, then the sector-

level shocks {Zsk }Ss=1 and, thus, Zik , are uncorrelated with Xi . If Zik is included because one worries

that otherwise Xi may not be as good as randomly assigned, we interpret Zik as a proxy for the
confounding sector-level shocks {Zsk }Ss=1 , and think of Uik as a measurement error in this proxy.

To make this concrete, consider the model in Section 3, with the equivalences in eq. (12). Then
17

we may include Zik = ∑Ss=1 lis0 µ̂s as a control. Here the measurement error in eq. (24) is zero, and
Zsk = µ̂s . If the shifters {χ̂s }Ss=1 are correlated with the demand shocks {µ̂s }Ss=1 , then not including

this control will generate omitted variable bias. Alternatively, we may include Zik = ∑Ss=1 wis η̂is
as a control. Here Zsk = 0, and Uik = Zik is a regional aggregation of idiosyncratic region- and
sector-specific labor-demand shocks that are independent of Xs . In this case, if the shifters {χ̂s }Ss=1

are independent of the demand shocks {ηis }iN,S
=1,s=1 , then including the control will help increase the
precision of β̂, but it is not necessary for consistency.
Assumptions
For clarity of exposition, we focus here on the main substantive assumptions and relegate technical
regularity conditions to Online Appendix A.1.1. Let F0 = (Y (0), W, B, Z, U ); without controls, this
set of variables reduces to (Y (0), B, W ), as in Section 4.1. Here, Z denotes the S × K matrix with sth
row given by Zs0 , and U denotes the N × K matrix with i-th element given by Ui0 .

We maintain Assumption 2 with F0 = (Y (0), W, B, Z, U ). The inclusion of controls allows us to

weaken Assumption 1 and instead impose the following identification assumption:
Assumption 3 (Identification with controls). (i) The observed outcome satisfies Yi = Yi (X1 , . . . , XS ),
such that eq. (11) holds, and the controls Zi satisfy eq. (24); (ii) The shifters are as good as randomly
assigned in the sense that, for every s,
E[Xs | F0 ] = E[Xs | Zs ],

(25)

and the right-hand side is linear in Zs ,
E[Xs | Zs ] = Zs0 γ;

(26)

(iii) For elements k such that γk 6= 0, N −1 ∑iN=1 E[Uik2 ] → 0; (iv) For elements k such that γk 6= 0,

(∑Ss=1 n2s )−1/2 ∑iN=1 E[Uik2 ] → 0.

Assumption 3(ii) weakens Assumption 1(ii) by only requiring the shifters to be as good as randomly assigned conditional on Z, in the sense that eq. (25) holds. To interpret this restriction, consider
a projection of the regional potential outcomes onto the sectoral space. For simplicity, consider the
case with constant effects, β is = β for all i and s, and project Yi (0) onto the shares (wi1 , . . . , wiS ), so
that we may write Yi (0) = ∑Ss=1 wis Ys (0) + κi . Then, eq. (25) holds if (i) Ys (0) is spanned by the vector
of controls Zs ; and (ii) {Xs }Ss=1 is mean-independent of the projection residuals {κi }iN=1 .
As an example, consider again the model in Section 3, with the outcomes Yi generated by eq. (12).

Then eq. (25) holds, for example, if we set Zs = Ys (0) = µ̂s and if, conditional on the sector-specific
labor demand shocks {µ̂s }Ss=1 , the shifters of interest {χ̂s }Ss=1 are mean independent of the sector- and
G
N
region-specific labor demand shocks {η̂is }iN,S
=1,s=1 and of the labor supply shocks { ν̂g } g=1 and { ν̂i }i =1 .

Suppose, for instance, the shocks of interest {χ̂s }Ss=1 are changes in tariffs (e.g. Kovak, 2013) and that

other potential labor demand shocks are those induced by automation and robots (e.g Acemoglu and
Restrepo, 2019). Splitting the impact of automation into nationwide sector-specific effects, as captured
18

by {µ̂s }Ss=1 , and sector- and region-specific deviations from the nationwide effects, as captured by

{η̂is }iN,S
=1,s=1 , eq. (25) allows the political entity responsible for setting the tariffs to do so influenced
by the nationwide sector-specific effects of automation, but not by any region-specific deviation from
those national effects. In contrast, Assumption 1(ii) would require that the tariffs are also independent
of the nationwide effects of automation.
Under eq. (25), one generally needs to include the controls non-parametrically; by imposing
eq. (26), we ensure that it suffices to include the controls as additional covariates in a linear regression.
If the shifters Xs are not mean zero (in the sense that the regression intercept on the right-hand side
of eq. (26) is non-zero), eq. (26) requires that we include a constant Zsk = 1 as one of the controls.
If the shares sum to one, ∑Ss=1 wis = 1, this amounts to including an intercept Zik = 1 as a control
in the regression. Importantly, if the shares do not sum to one, this amounts to including ∑Ss=1 wis
as a control (see Borusyak, Hull and Jaravel, 2018, for a more extensive discussion of this point). For
instance, if the shares wis correspond to labor shares in different manufacturing sectors, one needs to
include the size of the manufacturing sector ∑Ss=1 wis in each region as a control.
Given Assumption 3(ii), if we observed {Zs }Ss=1 directly, we could include the vector Zi∗ =
∑Ss=1 wis Zs directly as control. However, the definition of each regional control Zi in eq. (24) allows for Zi∗ to be observed with measurement error Ui . If γk = 0, such as when Zik is included
∗ does not matter; if γ 6 = 0, this measurement erfor precision, then this measurement error in Zik
k
ror will in general induce a bias in β̂. This is analogous to the classic linear regression result that
measurement error in a control variable generally leads to a bias in the estimate of the coefficient on
the variable of interest. Assumption 3(iii) ensures that any such bias disappears in large samples by
imposing that the variance of the measurement error for controls that matter (i.e. those with γk 6= 0)
converges to zero as S → ∞. This ensures consistency of β̂. For asymptotic normality, we need
to strengthen this condition in Assumption 3(iv) by requiring that the variance of the measurement
error converges to zero sufficiently fast. Assumption 3(iv) holds, for instance, if Ui = S−1 ∑Ss=1 ψis ,
where ψis is an idiosyncratic measurement error that is independent across s. In intuitive terms, this
condition guarantees that Zi is a sufficiently good proxy for the confounding latent shocks {Zs }Ss=1 .
Asymptotic theory
The following result generalizes Proposition 1:
Proposition 3. Suppose Assumptions 2(i) and 2(ii) and Assumptions A.1(i) to A.1(iii) in Online Appendix A.1.1
hold with F0 = (Z, U, Y (0), B, W ). Suppose also that Assumptions 3(i) to 3(iii) and Assumptions A.2(i)
and A.2(ii) in Online Appendix A.1.1 hold. Then
β=

∑iN=1 ∑Ss=1 πis β is
,
∑iN=1 ∑Ss=1 πis

and

β̂ = β + o p (1),

(27)

2 var(X | F ).
where πis = wis
s
0

The only difference in the characterization of the probability limit relative to Proposition 1 is that
the weights πis now reflect the variance of Xs that also conditions on the controls.
19

To state the asymptotic normality result, define δ = E[ Z 0 Z ]−1 E[ Z 0 (Y − Xβ)], so that we can define

the regression residual in eq. (1) as ei = Yi − Xi β − Zi0 δ.

Proposition 4. Suppose Assumptions 2 and 3 and Assumptions A.1 and A.2 in Online Appendix A.1.1 hold
with F0 = (Z, U, Y (0), B, W ). Suppose, in addition, that
VN =

1
∑Ss=1 n2s

N

∑ ( Xi −

var

i =1

Zi0 γ)ei

| F0

!

converges in probability to a non-random limit. Then

q

N
∑Ss=1 n2s




( β̂ − β) = N 0, 

VN
1
N

∑iN=1 Ẍi2




2  + o p (1).

Relative to Proposition 2, the main difference is that Xi in the definition of VN is replaced by
Xi − Zi0 γ, and that Xi is replaced by Ẍi in the outer part of the “sandwich.” To motivate our standard

error formula, suppose that β is = β for all i and s. Under β is = β, it follows from eq. (25) and
Assumption 2(i) that
VN =

∑Ss=1 var(X̃s | F0 ) R2s
,
∑Ss=1 n2s

Rs =

N

∑ wis ei ,

X̃s = Xs − Zs0 γ.

i =1

A plug-in estimate of Rs can be constructed by replacing ei with the estimated regression residuals
êi = Yi − Xi β̂ − Zi δ̂, where δ̂ = ( Z 0 Z )−1 Z 0 (Y − X β̂) is an OLS estimate of δ. We can estimate the
b 2 , where
variance var(X̃s | F0 ) by X
b = (W 0 W )−1 W 0 Ẍ
X

(28)

projects the estimate Ẍ of X − Z 0 γ onto the sectoral space by regressing it onto the shares W. To carry
out the regression in eq. (28), W must be full rank; this requires that there are more regions than
sectors, N ≥ S. These steps lead to the standard error estimate
b ( β̂) =
se

q

b s2 R̂2s
∑Ss=1 X
∑iN=1 Ẍi2

,

R̂s =

N

∑ wis êi .

(29)

i =1

b ( β̂):
The next remark summarizes the steps needed for the construction of the standard error se

Remark 5. To construct the standard error estimate in eq. (29):

1. Obtain the estimates β̂ and δ̂ by regressing Yi onto Xi = ∑Ss=1 wis Xs and the controls Zi . The estimate
êi corresponds to the estimated regression residuals.
b s , the regression coefficients from
2. Construct Ẍi , the residuals from regressing Xi onto Zi . Compute X
regressing Ẍ onto W.

b s into the standard error formula in eq. (29).
3. Plug the estimates êi , Ẍi , and X
20

To gain intuition for the procedure in Remark 5, it is useful to consider again the case with
concentrated sectors. Suppose that Ui = 0 for all i, so that the regression of Yi onto Xi and Zi is
identical to the regression of Yi onto Xs(i) and Zs(i) . Then the standard error formula in eq. (29)
reduces to the usual cluster-robust standard error, with clustering on s(i ).
The cluster-robust standard error is generally biased due to estimation noise in estimating ei ,
which can lead to undercoverage, especially in cases with few clusters (see Cameron and Miller, 2014
for a survey). Since the standard error in eq. (29) can be viewed as generalizing the cluster-robust
b β0 ( β̂) of se
b ( β̂) that
formula, similar concerns arise in our setting. We thus consider a modification se

imposes the null hypothesis when estimating the regression residuals to reduce the estimation noise
b β0 ( β̂) for testing the hypothesis H0 : β = β 0 against
in estimating ei .14 To calculate the standard error se

a two-sided alternative at significance level α, one replaces êi with êβ0 ,i , the residual from regressing
Yi − Xi β 0 onto Zi (êβ0 ,i is an estimate of the residuals with the null imposed). The null is rejected if
b β0 ( β̂) exceeds z1−α/2 , the 1 − α/2 quantile of a standard
the absolute value of the t-statistic ( β̂ − β 0 )/se
normal distribution (1.96 for α = 0.05). To construct a confidence interval (CI) with coverage 1 − α,

one collects all hypotheses β 0 that are not rejected. The endpoints of this CI are a solution to a
quadratic equation, and are thus available in closed form—one does not have to numerically search
for all the hypotheses that are not rejected. The next remark summarizes this procedure.
Remark 6 (Confidence interval with null imposed). To test the hypothesis H0 : β = β 0 with significance
level α or, equivalently, to check whether β 0 lies in the confidence interval with confidence level 1 − α:
1. Obtain the estimate β̂ by regressing Yi onto Xi = ∑Ss=1 wis Xs and the controls Zi . Obtain the restricted
regression residuals êβ0 ,i as the residuals from regressing Yi − Xi β 0 onto Zi .
b s , the regression coefficients from
2. Construct Ẍi , the residuals from regressing Xi onto Zi . Compute X
regressing Ẍ onto W (this step is identical to step 2 in Remark 5).

3. Compute the standard error as

b β0 ( β̂) =
se

q

b s2 R̂2
∑Ss=1 X
β 0 ,s
∑iN=1 Ẍi2

,

R̂ β0 ,s =

N

∑ wis êβ ,i .

i =1

0

(30)

b β0 ( β̂)| > z1−α/2 . A confidence set with coverage 1 − α is given by all
4. Reject the null if |( β̂ − β 0 )/se
b β0 ( β̂)| < z1−α/2 }. This set is an interval with
nulls that are not rejected, CI1−α = { β 0 : |( β̂ − β 0 )/se
endpoints given by

β̂ − A ±

s

A2 +

b ( β̂)2
se
,
Q/( Ẍ 0 Ẍ )2

A=

b s2 R̂s ∑iN=1 wis Ẍi
∑Ss=1 X
,
Q

b s2 (∑i wis Ẍi )2 and se
b ( β̂) and R̂s are given in eq. (29).
where Q = ( Ẍ 0 Ẍ )2 /z21−α/2 − ∑Ss=1 X

(31)

14 Alternatively, one could construct a bias-corrected variance estimate; see, for example, Bell and McCaffrey (2002) for an
example of this approach in the context of cluster-robust inference.

21

Proposition 5. Suppose that the assumptions of Proposition 4 hold, and that β is = β. Suppose also that N ≥

S, W is full rank, and that either maxs ∑iN=1 |((W 0 W )−1 W 0 )si | is bounded and maxi E[(Ui0 γ)4 | W ] → 0, or
b as in eq. (28), and let R̂s = ∑iN=1 wis ẽi , where ẽi = Yi − Xi β̃ − Z 0 δ̃,
else that Ui = 0 for i = 1, . . . , N. Define X
i
and β̃ and δ̃ are consistent estimators of δ and β. Then
b s2 R̂2s
∑Ss=1 X
= VN + o p (1).
∑Ss=1 n2s

(32)

Since in both êi and êβ0 ,i are consistent estimates of the residuals, this proposition shows that the
procedures in Remarks 5 and 6 both yield asymptotically valid confidence intervals. The additional
b s that arises from having to back
assumptions of Proposition 5 ensure that the estimation error in X
out the sector-level shocks Zs from the controls Zi is not too large. If the sectors are concentrated,
then ((W 0 W )−1 W 0 )si = I{s(i ) = s}/ns , so that maxs ∑iN=1 |((W 0 W )−1 W 0 )si | = 1, and the assumption

always holds. We show in Online Appendix A.1.6 that the procedures in Remarks 5 and 6 continue
to yield valid inference if β is is heterogeneous across regions and sectors, as long as further regularity
conditions hold.
b β0 ( β̂) and se
b ( β̂) are consistent (and one could further show that
Although both standard errors se

the resulting confidence intervals are asymptotically equivalent), they will in general differ in finite
samples. In particular, it can be seen from eq. (31) that the confidence interval with the null imposed
is not symmetric around β̂, but its center is shifted by A.15 As we show in Section 6, this recentering
tends to improve the finite-sample coverage properties of the confidence interval. On the other hand,
the confidence interval described in Remark 6 tends to be longer on average than that in Remark 5.

4.3

Instrumental variables regression

We now turn to the problem of estimating the effect of a regional treatment variable Y2i on a regional
outcome Y1i using the shift-share variable Xi = ∑Ss=1 wis Xs as an instrumental variable (IV). To set up
the problem precisely, we again use the potential outcome framework. In particular, we assume that
Y1i (y2 ) = Y1i (0) + y2 α,

(33)

where α, our parameter of interest, measures the causal effect of Y2i onto Y1i . We assume for simplicity
that this causal effect is linear and constant across regions.16 In analogy with eq. (11), we denote the
region-i treatment level that would occur if the region received shocks (x1 , . . . , xS ) as
Y2i (x1 , . . . , xS ) = Y2i (0) +
15 This

S

∑ wis xs βis .

(34)

s =1

is analogous to the differences in likelihood models between confidence intervals based on the Lagrange multiplier
test (which imposes the null and is not symmetric around the maximum likelihood estimate) and the Wald test (which does
not impose the null and yields the usual confidence interval).
16 If we weaken the assumption of constant treatment effects and instead assume Y ( y ) = Y (0) + y α , then it follows
2 i
1i 2
1i
by a mild extension of the results in Online Appendix A.2 that our methods would deliver inference on the estimand
2 var(X | F ) β , where F = (Z, U, Y (0), Y (0), B, α, W ), and β is defined in
∑iN=1 πi αi / ∑iN=1 πi , with πi = ∑Ss=1 wis
s
0 is
0
2
1
is
eq. (34).

22

The observed outcome and treatment variables are given by Y1i = Y1i (Y2i ) and Y2i = Y2i (X1 , . . . , XS ),
respectively.
The framework in eqs. (33) and (34) maps directly to the problem of estimating the regional inverse
labor supply elasticity. In particular, in the context of the model in Section 3, eqs. (8) and (10) map
directly into eqs. (33) and (34) if we define
G

Y1i = ω̂i , Y2i = L̂i , α = φ̃, Y1i (0) = −φ̃( ∑ w̃ig ν̂g + ν̂i ), wis = lis0 , Xs = χ̂s , β is = θis ,

(35)

g =1

and Y2i (0) is given by the expression for Yi (0) in eq. (12).17 As this mapping illustrates, the potential outcome Y1i (0) will generally have a shift-share structure, with the shifters being group-specific
labor supply shocks (e.g. growth in the number of workers by education group). Consequently, the
regression residual in the structural equation will generally have a shift-share structure. Similarly, as
eq. (12) illustrates, the potential outcome Y2i (0) will also generally include several shift-share components, with the shifters being either sector-specific labor demand shocks or the same group-specific
labor supply shocks appearing in Y1i (0). Thus, the regression residual in the first-stage regression of
Y2i onto Xi will also generally have a shift-share structure.
Our estimate of α is given by an IV regression of Y1i onto Y2i and a K-vector of controls Zi , with
Xi used as an instrument for Y2i . This IV estimate can be written as
α̂ =

∑iN=1 Ẍi Y1i
,
∑iN=1 Ẍi Y2i

(36)

where, as in Section 4.2, Ẍi denotes the residual from regressing Xi onto Zi .
Assumptions
Assumption 4 is a generalization of Assumption 3. Let F0 = (Z, U, Y1 (0), Y2 (0), B, W ).
Assumption 4 (IV Identification). (i) The observed outcome and treatment variables satisfy Y1i =
Y1i (Y2i ) and Y2i = Y2i (X1 , . . . , Xs ) such that eqs. (33) and (34) hold, and the controls Zi satisfy eq. (24);
(ii) The shifters are exogenous in the sense that, for every s,
E[Xs | F0 ] = E[Xs | Zs ],

(37)

2 ·
and the right-hand side satisfies eq. (26); (iii) Assumptions 3(iii) and 3(iv) hold; (iv) ∑iN=1 ∑Ss=1 wis
var(Xs | F0 ) β is 6= 0.

Assumption 4(ii) adapts the standard instrument exogeneity condition (see, e.g., Condition 1 in
Imbens and Angrist, 1994) to our setting. Our approach follows Borusyak, Hull and Jaravel (2018),
who impose a similar identification condition. To illustrate the restrictions that Assumption 4(ii)
may impose, consider again the problem of estimating the inverse labor supply elasticity within the
17 In some applications of shift-share IVs, the shifters {X }S
s s=1 are unobserved and have to be estimated. We assume here
that Xs is directly measurable for every sector s, and study the case with estimated shifters in Section 5.3.

23

context of the model in Section 3, with the mapping between this model and the potential outcomes in
eqs. (33) and (34) given in eqs. (12) and (35). If the controls {Zs }Ss=1 correspond to the shocks {µ̂s }Ss=1 ,

then eq. (37) requires that, conditional on {µ̂s }Ss=1 , the labor demand shocks {χ̂s }Ss=1 used to construct

our IV are mean-independent of the idiosyncratic labor demand shocks {η̂is }iN,S
=1,s=1 and of the labor
18 For example, if { χ̂ }S
supply shifters {ν̂i }iN=1 and {ν̂g }G
s s=1 are sectoral productivity shocks, then
g =1 .

these productivity shocks need to be independent of shocks to individuals’ willingness to work in
different groups and regions. Assumption 4(iv) requires that the coefficient on the instrument in the
S
2 var(X | F ) β / N
2
first-stage equation, which can be written as β = ∑iN=1 ∑Ss=1 wis
s
0 is ∑i =1 ∑s=1 wis var(Xs |
F0 ), is non-zero—this is the standard IV relevance assumption. For consistency and inference, in an

analogy to the OLS case, we assume that Assumption 2 holds with F0 = (Z, U, Y1 (0), Y2 (0), B, W ).
In a recent paper, Goldsmith-Pinkham, Sorkin and Swift (2018) explore a different approach to
identification and inference on the treatment effect α. Focusing here for simplicity on the case without
controls, in place of Assumption 4(ii), they assume that the shares {wis }Ss=1 are as good as randomly

assigned conditional on the shifters {Xs }Ss=1 ; so that they are mean-independent of the potential

outcomes Y1 (0) and Y2 (0) conditional on X. As Goldsmith-Pinkham, Sorkin and Swift (2018) show,

under this alternative assumption, one can replace the shift-share instrument Xi = ∑Ss=1 wis Xs by
the full vector of shares (wi1 , . . . , wiS ) in the first-stage equation. For estimation and inference, this
alternative approach requires that, conditionally on the shifters, either the shares (wi1 , . . . , wiS ) or else
the structural residuals be independent across regions or clusters of regions.
For estimating the inverse labor supply elasticity in the context of the model in Section 3, eq. (35)
illustrates that this alternative identification assumption requires that, conditional on {χ̂s }Ss=1 , the

region-specific employment shares in the initial equilibrium {lis0 }Ss=1 are mean-independent of both

the region-specific exposure shares {w̃ig }G
g=1 , and the region-specific labor supply shock νi . This
assumption is violated if regions more exposed to labor demand shocks in a sector s (e.g. to changes

in tariffs in the food sector) are also more exposed to labor supply shocks affecting workers of a group
g (e.g. currency crisis in Mexico affecting the number of Mexican migrants; see Monras, 2018).19
In terms of inference, since the structural residuals will not be independent across regions unless
they contain no shift-share component (which, according to the economic model in Section 3, is
unlikely), the approach in Goldsmith-Pinkham, Sorkin and Swift (2018) generally requires that the
shares are independent across (clusters of) regions. This assumption is, from the perspective of the
model in Section 3, conceptually very different from assuming independence of the shifters Xs across
18 If,

instead of eq. (34), we defined the first stage as simply the projection of Y2i onto the shift-share instrument, we could
further relax this condition and only require {χ̂s }Ss=1 to be mean-independent of the labor supply shifters. An advantage
of the current setup is that it allows us to derive primitive conditions for the consistency of the estimates of the first-stage
regression and, thus, of the IV estimator.
19 To allow for a shift-share component in the structural residual, Goldsmith-Pinkham, Sorkin and Swift (2018) view the
shares (wi1 , . . . , wiS ) as “invalid” instruments, since, in this case, E[ei wis | X ] 6= 0, where ei denotes the structural error.
Goldsmith-Pinkham, Sorkin and Swift (2018) show that if these shares are used to construct a single shift-share instrument
Xi , the bias in the IV estimator coming from the correlation between any wis and the structural residual averages out under
certain conditions as S → ∞, as in the many invalid instrument setting studied in Kolesár et al. (2015). Under the current
setup, in contrast, eq. (37) implies that Xi is a valid instrument for any fixed S. Leveraging exogeneity of Xs is a key
difference between our approach and that in Kolesár et al. (2015) and Goldsmith-Pinkham, Sorkin and Swift (2018). It
allows us to do inference without imposing a particular correlation structure on the residuals ei , and it allows us to achieve
identification without requiring S → ∞; the latter is only needed for consistency and inference.

24

sectors. Since the shifters Xs = χ̂s are exogenous, the latter only involves assumptions on model
fundamentals by restricting the distribution in eq. (7). In contrast, each share wis = lis0 corresponds
to the employment allocation across sectors in a region i in an initial equilibrium, so that the former
involves imposing restrictions on an endogenous outcome of the model. Furthermore, since all the
S
shares {wis }iN,S
=1,s=1 depend on the same set of sector-specific labor demand shifters {( χs , µs )}s=1 , they

will generally be correlated across regions.20

Which identification and inference approach is more attractive depends on the context of each
particular empirical application. While the economic model in Section 3 motivates the approach we
pursue here, this does not mean that our approach is generally more attractive. In other empirical applications (e.g. when the shares are exogenous variables from the perspective of an economic
framework), the approach of Goldsmith-Pinkham, Sorkin and Swift (2018) may be more appropriate.
Asymptotic theory
It follows by adapting the arguments in the proof of Proposition 4 that, if Assumption 4 holds,
and Assumption 2 holds with F0 = (Z, U, Y1 (0), Y2 (0), B, W ), then, under mild technical regularity
conditions (see Online Appendix A.2 for details and proof),
q

N
∑Ss=1 n2s

(α̂ − α) = N 0,

( N1

VN
N
∑i=1 Ẍi Y2i )2

!

+ o p (1), VN =

N
∑Ss=1 var(X̃s | F0 ) R2s
,
R
=
s
∑ wis ei ,
∑Ss=1 n2s
i =1

(38)

where ei = Y1i − Y2i α −

Zi0 δ

is the residual in the structural equation, with δ =

Y2 α)]. This suggests the standard error estimate

b (α̂) =
se

q

b s2 R̂2s
∑Ss=1 X
|∑iN=1 Ẍi Y2i |

=

q

b s2 R̂2s
∑Ss=1 X

∑iN=1 Ẍi2 | β̂|

,

R̂s =

N

∑ wis êi ,

E[ Z 0 Z ]−1 E[ Z 0 (Y1

−

(39)

i =1

b s is constructed as in Remark 5, ê = Y1 − Y2 α̂ − Z 0 ( Z 0 Z )−1 Z 0 (Y1 − Y2 α̂) is the estimated
where X

residual of the structural equation, and β̂ = ∑iN=1 Ẍi Y2i / ∑iN=1 Ẍi2 is the first-stage coefficient.
The difference between the IV standard error formula in eq. (39) and the OLS version in eq. (29) is

analogous to the difference between IV standard errors and OLS heteroskedasticity-robust standard
errors for the corresponding reduced-form specification: the residual êi corresponds to the residual
in the structural equation, and the denominator is scaled by the first-stage coefficient. To obtain
the IV analog of the standard error estimator under the null H0 : α = α0 , we use the formula in
eq. (39) except that, instead of êi , we use the structural residual computed under the null, êα0 =

( I − Z 0 ( Z 0 Z )−1 Z 0 )(Y1 − Y2 α0 ). The resulting confidence interval is a generalization of the Anderson
and Rubin (1949) confidence interval (which assumes that the structural errors are independent). For
this reason, this confidence interval will remain valid even if the shift-share instrument is weak.
0 = D0 / ( S D0 ), where D0 is the labor demand shifter of sector s in region
instance, if σs = σ for all s, then lis
is ∑t=1 it
is
0 } N depend on the same sector-level demand
i in the initial equilibrium. According to eq. (3), for any s, all shifters { Dis
i =1
S
0
shocks, {(χs , µs )}s=1 and, thus, the labor shares lis will generally be correlated across all regions for any given sector.
20 For

25

5

Extensions

We now discuss three extensions to the basic setup. In Section 5.1, we relax the assumption that the
shifters {Xs }Ss=1 are independent, allowing them to be correlated within clusters of sectors. Section 5.2

generalizes our results to settings in which we have multiple observations for each region. Section 5.3
considers the case in which the shifters are not directly observed, and have to be estimated.

5.1

Clusters of sectors

Suppose that the sectors can be grouped into larger units, which we refer to as “clusters”, with
c(s) ∈ {1, . . . , C } denoting the cluster that sector s belongs to; e.g., if each s corresponds to a four-

digit industry code, c(s) may correspond to a three-digit code. With this structure, we replace Assumption 2(i) with the weaker assumption that, conditional on F0 , the shocks Xs and Xk are independent if c(s) 6= c(k ), and we replace Assumption 2(iii) with the assumption that, as C → ∞,

the largest cluster makes an asymptotically negligible contribution to the asymptotic variance; i.e.
maxc ñ2c / ∑Cd=1 ñ2d → 0, where ñc = ∑Ss=1 I{c(s) = c}ns is the total share of cluster c.
Under this setup, by generalizing the arguments in Section 4.2, one can show that, as C → ∞,
q

N
∑Cc=1 ñ2c




( β̂ − β) = N 0, 

VN
1
N

∑iN=1 Ẍi2




2  + o p (1),

and, assuming that β is = β for every region and sector, the term VN is now given by
VN =

S,S
∑Cc=1 ∑s=1,t=1 I{c(s) = c(t) = c} E[X̃s X̃t | W, Z ] Rs Rt

∑Cc=1 ñ2c

,

Rs =

N

∑ wis ei ,

i =1

X̃s = Xs − Zs0 γ.

b s R̂s ,
As a result, we replace the standard error estimate in eq. (29) with a version that clusters X
b ( β̂) =
se

q

b s R̂s X
b t R̂t
∑Cc=1 ∑s,t I{c(s) = c(t) = c}X
∑iN=1 Ẍi2

,

R̂s =

N

∑ wis êi ,

(40)

i =1

b s is defined as in Remark 5. Confidence intervals with the null imposed can be constructed as
where X

in Remark 6, replacing êi with êβ0 ,i in eq. (40). In the IV setting considered in Section 4.3, the standard

error for α̂ is analogous to that in eq. (40), except that êi denotes the residual in the structural equation,
and we divide the expression by the absolute value of the first-stage coefficient, ∑iN=1 Ẍi Y2i / ∑iN=1 Ẍi2 .

5.2

Panel data

Consider a setting with j = 1, . . . , J regions, k = 1, . . . , K sectors, and t = 1, . . . , T periods. For each
period t, we have data on shifters {Xkt }kK=1 , outcomes {Yjt } jJ=1 , and shares {w jkt } jJ,K
=1,k=1 . This setup
maps into the potential outcome framework in eq. (11) if we identify a “sector” with a sector-period

pair s = (k, t), and a “region” with a region-period pair i = ( j, t), so that we can index outcomes and

26

shifters as Yi = Yjt and Xs = Xkt , with the shares given by
wis =


w

jkt

0

if i = ( j, t) and s = (k, t),

(41)

if i = ( j, t), s = (k, t0 ), and t 6= t0 .

If the shifters Xkt are independent across time and sectors, Propositions 3 and 4 immediately give
the large-sample distribution of the OLS estimator. In general, however, it will be important to allow
the shifters Xkt to be correlated across time within each sector k. In this case, one can use the
clustered standard error derived in Section 5.1 by grouping observations over time for each sector
k into a common cluster, so that c(k, t) = c(k0 , t0 ) if k = k0 . We can then apply the formula in
eq. (40) to allow for any arbitrary time-series correlation in the sector-level shocks Xkt for any given
sector k. Regardless of whether the sector-period pairs (k, t) are clustered, as discussed in Remark 4,
our standard error formulas allow for arbitrary dependence patterns in the regression residuals—in
particular, they account for potential serial dependence in the regression residuals.
If the shift-share regressor is used as an IV in a regression of an outcome Y1jt onto a treatment
Y2jt , the mapping to eqs. (33) and (34) is analogous, and one can use an IV version of the formula in
eq. (40) for inference.

5.3

IV with estimated shifters

We now consider a setting in which the sectoral shifters {Xs }Ss=1 that define the shift-share IV studied

in Section 4.3 are not directly observed. We follow the setup in Section 4.3 but assume that, instead
of observing Xs directly, we only observe a noisy measure of it,
(42)

Xis = Xs + ψis

for each sector-region pair. We consider IV regressions that use two different estimates of Xi =
∑Ss=1 wis Xs . First, an estimate that replaces Xs with an estimate X̂s = ∑iN=1 w̌is Xis /ňs , where ňs =
∑iN=1 w̌is and the weights w̌is are not necessarily related to wis . The resulting estimate of Xi is
X̂i =

S

∑ wis X̂s =

s =1

S

∑ wis

s =1

1
ňs

N

∑ w̌ js Xjs ,

(43)

j =1

and it yields the IV estimate α̃ = X̂¨ 0 Y1 / X̂¨ 0 Y2 , where X̂¨ = X̂ − Z ( Z 0 Z )−1 Z 0 X̂ is the residual from
regressing X̂i onto Zi . Second, we consider the leave-one-out estimator
X̂i,− =

S

S

s =1

s =1

1

N

∑ wis X̂s,−i = ∑ wis ňs,−i ∑ I{ j 6= i}w̌ js Xjs ,

ňs,−i =

j =1

N

∑ I{ j 6= i}w̌ js ,

(44)

j =1

where X̂s,−i = ∑ N
j=1 I{ j 6 = i } w̌ js X js / ňs,−i is an estimate of Xs that excludes region i. A version of this
estimator has been used in Autor and Duggan (2003). This leave-one-out estimator of the shift-share
instrument X yields the IV estimate α̂ = X̂¨ 0 Y / X̂¨ 0 Y , where X̂¨ = X̂ − Z 0 ( Z 0 Z )−1 Z 0 X̂ .
i

−

− 1

− 2

−

−

−

While we assume that Xs satisfies the exogeneity restriction in Assumption 4(ii) for every s, we
27

allow the measurement errors ψi = (ψi1 , . . . , ψiS )0 to be potentially correlated with the potential outcomes Y1i (0) and Y2i (0) in the same region i. We assume, however, that ψi is independent of the errors
ψj and of the potential outcomes Y1j (0) and Y2j (0) for any region j 6= i (see Online Appendix A.2 for

a formal statement). In Online Appendix E.2.3, we use the model in Section 3 to discuss these assumptions in the context of estimating the inverse labor supply elasticity.21
The potential correlation between ψi and the potential outcomes in region i implies that the estimation error in X̂i , which is a function on ψi , may be correlated with the residual in the structural
equation. Thus, including the ith observation in the construction of X̂i induces an own-observation
bias in the IV estimator α̃ of α. See Goldsmith-Pinkham, Sorkin and Swift (2018) and Borusyak, Hull

and Jaravel (2018) for a discussion. This bias is analogous to the bias of the two-stage least squares
estimator in settings with many instruments (e.g. Bekker, 1994; Angrist, Imbens and Krueger, 1999),
such as when one uses group indicators as instruments.22 We show in Online Appendix A.2 that
w w̌
∑iN=1 ∑Ss=1 isňs is ≤ S/N, so that consistency of α̃ generally requires the number of sectors to grow more slowly than the number of regions. Furthermore,

the magnitude of the bias is of the order

1
N

to ensure that the asymptotic bias in α̃ does not induce undercoverage of the resulting confidence
intervals, one generally requires S3/2 /N → 0.

The estimator α̂− , which can be thought of as a shift-share analog of the jackknife IV estimator

studied in Angrist, Imbens and Krueger (1999), remains consistent, as shown in Borusyak, Hull and

Jaravel (2018) and in Online Appendix A.2. We also show in this appendix that, under regularity
conditions, its asymptotic distribution is given by

q



N



V + WN


(α̂− − α) = N 0,  N
2  + o p (1),
N
1
∑Ss=1 n2s
N ∑i =1 Ẍi Y2i

(45)

with VN defined as in eq. (38), and
WN =

N

1
∑Ss=1

n2s

N

N

N

( ∑ ( ∑ Sij )2 + ∑ ∑ Sij Sji ),
j =1 i =1

i =1 j =1

S

Sij =

∑ I{ i 6 = j }

s =1

wis w̌ js ψjs ei
.
ňs,−i

The term WN accounts for the additional uncertainty stemming from the fact that the shift-share IV
is estimated. It is analogous to the many-instrument term in the jackknife IV estimator under many
instrument asymptotics (see Chao et al., 2012). Using simulations, we show in Online Appendix E.2.4
several designs in which, while correcting for the own-observation bias by using α̂− instead of α̃ is

quantitatively important, accounting for the additional variance term WN is less important.
21 Specifically,

we show in Online Appendix E.2.3 that, if Xis corresponds to employment growth rates, then ψi will
generally not be independent of (ψj , Y1j (0), Y2j (0)) in others regions j 6= i, unless one makes restrictive assumptions about
the demand elasticities σs , such as σs = 0. We also construct alternative shift-share IVs that satisfy this independence
assumption under weaker restrictions on σs , but require adjusting the shifter used in estimation.
22 See, e.g., Maestas, Mullen and Strand (2013); Dobbie and Song (2015); Aizer and Doyle (2015), or Silver (2016).

28

6

Performance of new methods: placebo evidence

In Section 6.1, we revisit the placebo exercise in Section 2 to examine the finite-sample properties of
the inference procedures described in Remarks 5 and 6. In Section 6.2, we show that our baseline
placebo results are robust to several changes in the placebo design.

6.1

Baseline specification

We first consider the performance of the standard error estimator in eq. (29) (which we label AKM),
and the standard error and confidence interval in eqs. (30) and (31) (with label AKM0) in the baseline
placebo design described in Section 2.23,24
For the AKM and AKM0 inference procedures, Table 2 presents median standard error estimates
and rejection rates for 5% significance level tests of the null hypothesis H0 : β = 0. In the case
of AKM0, since the standard error depends on the null being tested, the table reports the median
“effective standard error”, defined as the length of the 95% confidence interval divided by 2 × 1.96.

The results in Table 2 show that the inference procedures introduced in Section 4 perform well.

The median AKM standard error is slightly lower than the standard deviation of β̂, by about 5% on
average across all outcomes. The median AKM0 effective standard error is slightly larger than the
standard deviation of β̂, by about 11% on average. The implied rejection rates are close to the 5%
nominal rate: the AKM procedure has rejection rates between 7.5% and 9.1% and the AKM0 rejection
rates are always between 4.3% and 4.5%. As discussed in Section 4.2, the AKM and AKM0 confidence
intervals are asymptotically equivalent. The differences in rejection rates between the AKM and
AKM0 inference procedures are thus due to differences in finite-sample performance. As noted in
other contexts (see, e.g., Lazarus et al., 2018), imposing the null can lead to improved finite-sample
size control. The better size control of the AKM0 procedure is consistent with these results.

6.2

Alternative placebo specifications

In Section 4, we show theoretically that the AKM and AKM0 inference procedures are valid in large
samples only if: (a) the number of sectors goes to infinity; (b) all sectors are asymptotically “small”; (c)
the sectoral shocks are independent across sectors. Given these conditions, these inference procedures
remain valid under (d) any distribution of the sectoral shifters; and (e) arbitrary correlation structure
of the regression residuals. In this section, we evaluate the sensitivity of these inference procedures
to requirements (a) to (c) above, and illustrate points (d) and (e) by documenting the robustness of
these procedures to alternative distributions of the shifters and the residuals. In all cases, we also
report Robust and Cluster standard errors estimates and rejection rates. We focus on the change in the
share of working-age population employed as the outcome variable of interest.
We first evaluate how the performance of different inference procedures depends on the number
of sectors. Panel A of Table 3 shows that the overrejection problem affecting standard inference
23 We

fix the matrix Z to be a column of ones when implementing the formulas in eqs. (29) and (31).
Online Appendix D.8, we explore the sensitivity of our results to using counties (instead of CZs) as the regional unit
of analysis, and occupations (instead of sectors) as the unit at which the shifter is defined.
24 In

29

Table 2: Median standard errors and rejection rates for H0 : β = 0 at 5% significance level.
Estimate
Mean
(1)

Std. dev
(2)

Median eff. s.e.
AKM
(3)

Panel A: Change in the share of working-age population
Employed
−0.01
2.00
1.90
Employed in manufacturing
−0.01
1.88
1.77
Employed in non-manufacturing
0.00
0.94
0.89
Panel B: Change in average log weekly wage
Employed
−0.03
2.66
Employed in manufacturing
−0.03
2.92
Employed in non-manufacturing −0.02
2.64

2.57
2.74
2.55

Rejection rate

AKM0
(4)

AKM
(5)

AKM0
(6)

2.21
2.06
1.04

7.8%
8.0%
8.2%

4.5%
4.3%
4.5%

2.99
3.18
2.96

7.5%
9.1%
7.8%

4.3%
4.5%
4.5%

Notes: For the outcome variable indicated in the leftmost column, this table indicates the mean and standard deviation
of the OLS estimates of β in eq. (1) across the placebo samples (columns (1) and (2)), the median effective standard
error estimates (columns (3) and (4)), and the percentage of placebo samples for which we reject the null hypothesis
H0 : β = 0 using a 5% significance level test (columns (5) and (6)). AKM is the standard error in Remark 5; and
AKM0 is the confidence interval in Remark 6. The median effective standard error is equal to the median length of the
corresponding 95% confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples.

procedures worsens when the number of sectors decreases: the rejection rates of 5% significance
level tests based on Robust and Cluster standard errors reach 70.6% and 56.1%, respectively, when we
construct the shift-share covariate using 20 2-digit SIC sectors (instead of the 396 4-digit SIC sectors
we use in the baseline placebo). In line with the findings of the literature on clustered standard errors
with few clusters, the rejection rates of hypothesis tests that rely on AKM standard errors also increase
to 12%, but rejection rates for hypothesis tests that apply the AKM0 inference procedure remain very
close to the nominal 5% significance level.
Panels B to D of Table 3 examine the robustness of the results in Tables 1 and 2 to alternative
distributions of the shifters. In Panel B, as in our baseline placebo exercise, the shifters are drawn
i.i.d. from a normal distribution, but we change the variance to both a lower (σ2 = 0.5) and a higher
value (σ2 = 10) than in the baseline (σ2 = 5). In Panel C, we draw the shifters from a log-normal
distribution re-centered to have mean zero and scaled to have the same variance as in the baseline.
Panel D investigates the robustness of our results to heteroskedasticity in the sector-level shocks. We
set variance of the shock in each sector s, to σs2 = 5 + λ(ns − S/N ). Thus, the cross-sectional average

of the variance of the sector-level shocks is the same as in the baseline (which corresponds to setting
λ = 0), but this variance now varies across sectors. Comparison of the results in Panels B to D of
Table 3 to those in Tables 1 and 2 suggests that our baseline results are not sensitive to specific details
of the distribution of sector-level shifters. This is consistent with the claim (d) above.
Panels E and F of Table 3 explore the robustness of our baseline results to different patterns of
correlation in the regression residuals. In the baseline placebo, since β = 0, the regression residuals
inherit the correlation patterns in the outcome variable. Here, we modify these patterns by adding
a random shock ηim in each placebo sample m to the outcome Yi . Panel E explores the impact of
increasing the correlation between the regression residuals of CZs that belong to the same state.

30

Table 3: Alternative number of sectors, shifter distributions and residuals’ correlation patterns
Estimate

Median eff. s.e.

Rejection rate

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
Panel A: Sensitivity to the number of sectors
2-digit (S = 20) −0.01
3.19
0.65
0.96
3-digit (S = 136)
0.00
2.25
0.73
0.94

2.84
2.18

6.06
2.72

70.6%
54.2%

56.1% 12.0%
42.5% 7.5%

5.8%
4.5%

Panel B: Sensitivity to the variance of the shifters
σ2 = 0.5
−0.04
6.33
2.33
2.91
2
σ = 10
0.00
1.41
0.52
0.65

6.04
1.35

7.02
1.57

48.5%
48.1%

38.0%
37.8%

7.9%
7.5%

4.5%
4.5%

Panel C: Log-normal shifters
σ2 = 5
0.27
2.26

0.86

1.05

2.17

3.7

44.6%

35.3%

7.7%

5.2%

Panel D: Heteroskedastic shifters
λ=3
−0.01
1.63
λ=7
0.01
1.38

0.55
0.44

0.72
0.58

1.51
1.23

2.14
2.01

52.1%
53.7%

40.1%
41.1%

8.7%
9.5%

4.0%
4.2%

Panel E: Simulated state-level shocks in regression residual
0.00
2.11
0.86
1.11
1.99
2.32

42.8%

30.4%

7.9%

4.6%

48.4%

37.8%

7.9%

4.6%

92.0%

89.6% 77.2%

76.3%

Panel F: Simulated ‘large’ sector shifter in regression residual
−0.01
2.01
0.74
0.92
1.90
2.21
Panel G: Including a ‘large’ sector in shift-share regressor
−0.02
4.25
0.59
0.76
1.18
1.34

Notes: All estimates in this table use the change in the share of the working-age population employed in each CZ as the outcome
variable Yi in eq. (1). This table indicates the mean and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples
(columns (1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo samples for
which we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). Robust is the Eicker-Huber-White
standard error; Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the
confidence interval in Remark 6. For each inference procedure, the median effective standard error is equal to the median length of the
corresponding 95% confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples. This table presents results
for placebo simulations that depart from the baseline; the results should thus be compared to those in Tables 1 and 2. In Panel A, we
reduce the number of sectors relative to the baseline. In Panel B, we change the variance of the distribution from which all shifters
are drawn. In Panel C, we assume that the distribution from which all shifters are drawn is log-normal (re-centered at zero) with
variance equal to five. In Panel D, we allow the variance of the shock in each sector to be heteroskedastic, σs2 = 5 + λ(ns − S/N ). In
Panel E, we simulate state-level shocks and include them in our regression residual. In Panels F and G, we simulate a shifter for the
non-manufacturing sector and include it in our regression residual and in our shift-share regressor, respectively.

Specifically, we generate a random variable η̃km for each state k and simulation m such that η̃km ∼

N (0, 6). We then set ηim = η̃km(i) where k (i ) is the state of CZ i. Since we have now increased the
relative importance of the correlation pattern accounted for by Cluster standard errors, the resulting

overrejection decreases from 38.3% to 30.4%. In line with claim (e) above, the rejection rates of the
AKM and AKM0 inference procedures are not affected. In Panel F, we evaluate the robustness of our
results to adding a shock to the non-manufacturing sector that is included in the regression residual.
Specifically, in each simulation m, we set ηim = (1 − ∑Ss=1 wis )η̂Sm with η̂Sm ∼ N (0, 5), where ∑Ss=1 wis
is the 1990 aggregate employment share of the 396 4-digit SIC manufacturing sectors included in the
definition of the shift-share regressor of interest. The results in Panel F of Table 3 show that adding

31

this component to the regression residual does not affect the rejection rates.
Lastly, Panel G in Table 3 explores the consequences of adding the non-manufacturing sector to
the shift-share regressor. In Panel F, the shock to the non-manufacturing sector is part of the regression residual; in Panel G, we use this shock, in combination with the shocks to all manufacturing
sectors, to construct the shift-share regressor. Across CZs, the average initial employment share in
the non-manufacturing sector is 77.5%; i.e. N −1 ∑iN=1 (1 − ∑Ss=1 wis ) = 77.5%. Including such a large

sector in the shift-share regressor violates Assumptions 2(ii) and 2(iii). As a result, the AKM and
AKM0 inference procedures overreject severely; standard inference procedures fare even worse, with
rejection rates reaching up to 92%. The results in Panels F and G suggest that, provided that the
shifters are independent across sectors, it is better to exclude large sectors from the shift-share regressor of interest, and thus let the shocks associated with them enter the regression residual. One
should, however, bear in mind that, if β is in eq. (11) varies across sectors, excluding large sectors from
the shift-share regressor will change the estimand β (see Proposition 3).
In the placebo simulations described in Tables 1 to 3, we have drawn the shifters independently
from a mean-zero distribution. In Table 4, we allow for non-zero correlation in the shifters within
“clusters” of sectors.25 Specifically, we report results from placebo exercises in which the shifters are
drawn from the joint distribution (X1m , . . . , XSm ) ∼ N (0, Σ), where Σ is an S × S covariance matrix

with elements Σsk = (1 − ρ)σ I{s = k } + ρσ I{c(s) = c(k )} and c(s) indicates the “cluster” that

industry s belongs to. In panels A, B, and C, these clusters correspond to the 3-, 2-, and 1-digit SIC
sector that the 4-digit SIC sector s belongs to, respectively.
Panel A of Table 4 shows that introducing correlation within 3-digit SIC sectors has a moderate
effect on the rejection rates of both the traditional methods and versions of the AKM and AKM0
methods that assume that the sectoral shocks are independent. Rejection rates close to 5% are obtained with versions of the AKM and AKM0 inference procedures that cluster the shifters at a 2-digit
SIC level (see Section 5.1). As shown in Panel B, the overrejection problem affecting both traditional
inference procedures and versions of the AKM and AKM0 procedures that assume independence of
shifters is more severe when the shifters are correlated at the 2-digit level. However, the last two
columns show that, in this case, the versions of AKM and AKM0 that cluster the sectoral shocks at
the 2-digit level achieve rejection rates close to the nominal level. Finally, Panel C shows that the
overrejection problem is much more severe in the presence of high correlation in shifters within the
two 1-digit aggregate sectors, and this problem is not solved by clustering at the 2-digit level.
The last panel in Table 4 illustrates the inferential problems that arise in empirical applications of
shift-share designs when all shifters are correlated with each other. Such correlations also arise, for
example, when all shifters are generated (at least in part) by a common shock with potentially heterogeneous effects across sectors.26 As simulations presented in Table E.2 in Online Appendix E.1.1
illustrate, if there is a common component affecting all shifters, it is important to first estimate this
common component and to control for it in the shift-share regression of interest. Otherwise, hy25 In

Online Appendix D.2, we study the impact of drawing the shifters from a distribution with non-zero mean. We
show that, in line with the discussion in Section 4.2, it is important to control for the region-specific sum of shares ∑Ss=1 wis .
26 There is an extensive empirical literature documenting the importance of common factors driving changes in sectorspecific variables such as sectoral industrial production, employment and value added (see, e.g., Altonji and Ham, 1990;
Shea, 2002; Foerster, Sarte and Watson, 2011).

32

Table 4: Correlation in sectoral shocks
Estimate

Median eff. s.e.
Independent

Mean
(1)

Std. dev
(2)

Robust
(3)

Cluster
(4)

AKM
(5)

AKM0
(6)

Rejection rate
2-digit SIC
AKM
(7)

Independent

2-digit SIC

33

AKM0
(8)

Robust
(9)

Cluster
(10)

AKM
(11)

AKM0
(12)

AKM
(13)

AKM0
(14)

Panel A: Simulated shifters with correlation within 3-digit SIC sectors
ρ = 0.00 −0.01
2.00
0.74
0.92
1.91
2.22
1.86
ρ = 0.50
0.02
2.14
0.77
1.07
2.03
2.16
2.24
ρ = 1.00
0.01
2.27
0.76
1.08
1.99
2.10
2.38

2.64
2.87
3.14

48.6%
49.2%
52.2%

37.8%
32.3%
35.0%

7.9%
6.4%
8.6%

4.6%
7.1%
9.7%

8.9%
4.4%
4.7%

4.7%
4.7%
4.8%

Panel B: Simulated shifters with correlation within 2-digit SIC sectors
ρ = 0.00 −0.01
1.99
0.73
0.92
1.90
2.22
1.86
ρ = 0.50 −0.01
2.73
0.73
1.13
1.82
1.89
2.92
ρ = 1.00
0.01
3.20
0.69
1.18
1.67
1.63
3.38

2.65
4.07
6.16

48.2%
62.3%
68.4%

37.7%
43.2%
48.1%

7.6%
20.5%
31.2%

4.5%
23.5%
35.7%

8.8%
5.8%
6.3%

4.5%
5.0%
5.2%

Panel C: Simulated shifters with correlation within 1-digit SIC sectors
ρ = 0.00
0.01
1.98
0.73
0.92
1.90
2.21
1.85
ρ = 0.50
0.02
4.95
0.74
1.41
1.88
1.59
2.42
ρ = 1.00
0.42
59.63
0.71
1.74
1.86
1.02
2.94

2.65
2.36
1.67

48.5%
84.2%
90.2%

37.7%
72.3%
78.3%

7.3%
58.3%
75.2%

4.4%
64.7%
82.7%

8.5%
42.7%
52.1%

4.4%
53.2%
65.6%

Notes: All estimates in this table use the change in the share of the working-age population employed in each CZ as the outcome variable Yi in eq. (1). This table indicates the
mean and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples (columns (1) and (2)), the median effective standard error estimates (columns (3) to (8)),
and the percentage of placebo samples for which we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (9) to (14)). Robust is the Eicker-Huber-White
standard error; Cluster is the standard error that clusters CZs in the same state; in columns (5) and (11), AKM is the standard error in Remark 5; in columns (7), and (13), AKM is the
standard error in eq. (40) for 2-digit SIC sector clusters; in columns (6) and (12), AKM0 is the confidence interval in Remark 6; in columns (8) and (14), AKM0 adjusts the confidence
interval in Remark 6 as indicated in Section 5.1. For each inference procedure, the median effective standard error is equal to the median length of the corresponding 95% confidence
interval divided by 2 × 1.96. Results are based on 30,000 placebo samples.

pothesis tests based on standard inference procedures as well as on the AKM and AKM0 inference
procedures may suffer from an overrejection problem.
We summarize the conclusions from Tables 3 and 4 in the following remark.
Remark 7. In shift-share regressions, overrejection of the usual inference procedures is more severe when there
is a small number sectors. In this case, the methods we provide attenuate the overrejection problem, but may still
overreject when the number of sectors is very small. Our methods perform well under different distributions
of shifters and regression residuals, but they lead to an overrejection problem when the shift-share covariate
aggregates over a large sector. Finally, when the shifters are not independent across sectors, it is important to
properly account for their correlation structure.
In Online Appendices D.3 to D.7 we present results from additional placebo simulations in which
we investigate the consequences of: (a) the violation of the assumption that the shifters of interest are
as good as randomly assigned; (b) the presence of serial correlation in both the shifters of interest and
the regression residuals, in panel data settings; (c) the true potential outcome function being nonlinear, implying that the linearly additive potential outcome framework in eq. (11) is misspecified; (d)
the presence in the regression residuals of shift-share components with shares correlated in different
degrees with those entering the shift-share covariate of interest; and, (e) the presence of treatment
heterogeneity across regions and sectors.

7

Empirical applications

We now apply the AKM and AKM0 inference procedures to two empirical applications. First, the
effect of Chinese competition on U.S. local labor markets, as in Autor, Dorn and Hanson (2013).
Second, the estimation of the local inverse elasticity of labor supply, as in Bartik (1991). Additionally,
in Online Appendix F, we apply the AKM and AKM0 inference procedures to the study of the impact
of immigration on labor market outcomes of U.S. natives.

7.1

Effect of Chinese exports on U.S. labor market outcomes

Autor, Dorn and Hanson (2013, henceforth ADH), explore the impact of exports from China on labor
market outcomes across U.S. CZs. Specifically, ADH present IV estimates for a specification that fits
within the panel data setting described in Section 5.2, with each region j = 1, . . . , 722 denoting a
CZ, each sector k = 1, . . . , 396 denoting a 4-digit SIC industry, and each period t = 1, 2 denoting
either 1990–2000 changes or 2000–2007 changes. As in Section 5.2, we index here the intersection of
a region j and a period t by i, and the intersection of a sector k and a period t by s. In ADH, the
outcome Y1i is a ten-year equivalent change in a labor-market outcome, the endogenous treatment is
Y2i = ∑Ss=1 w̄is XsUS , where XsUS is the change in U.S. imports from China normalized by the startof-period total U.S. employment in the sector, and w̄is is the start-of-period employment share of a
sector in a CZ. ADH use the shift-share IV Xi = ∑Ss=1 wis Xs , where Xs denotes imports from China
by high-income countries other than the U.S. normalized by a ten-year-lag of the start-of-period total
U.S. employment in the sector, and wis is the ten-year-lag of the employment share w̄is . To measure
34

these variables, we use the data sources described in Section 2.1. In all regression specifications, we
include a vector of controls Zi corresponding to the largest set of controls used in ADH.27
Table 5 reports 95% CIs computed using different methodologies for the specifications in Tables 5
to 7 in ADH. Panels A, B, and C present the IV, reduced-form and first-stage estimates, respectively.
Following Autor et al. (2014), the AKM and AKM0 CIs cluster the shifters {Xs }Ss=1 by 3-digit SIC

industry; thus, the AKM and AKM0 CIs we report are robust to serial correlation in the shifters as
well as to cross-sectoral correlation in the shifters within 3-digit SIC industries. Tables E.4 and E.5 in
Online Appendix E.1 report AKM and AKM0 CIs for alternative definitions of clusters.
In Online Appendix E.1, we present placebo simulations that depart from our baseline placebo
design in ways that explore specific features of the empirical setting studied in this section. In Table E.1, we draw the shifters from the empirical distribution of shifters used to construct the ADH
IV (instead of drawing them from a normal distribution); the resulting rejection rates are very similar
to those in the baseline simulation. In Table E.2, we draw shifters that have a common component
with factor structure; since the resulting correlation structure cannot be captured by clustering, we
show that it is important in this case to include an estimate of the common factor component as an
additional control.28
In Table 5, state-clustered CIs are very similar to the heteroskedasticity-robust ones. In contrast,
our proposed CIs are wider than those implied by state-clustered standard errors. For the IV estimates
reported in Panel A, the average increase across all outcomes in the length of the 95% CI is 24% with
the AKM procedure and 65% with the AKM0 procedure. When the outcome is the change in the
manufacturing employment rate, the length of the 95% CI increases by 26% with the AKM procedure
and by 65% with the AKM0 procedure. In light of the lack of impact of state-clustering on the 95% CI,
the wider intervals implied by our inference procedures indicate that cross-region residual correlation
is driven by similarity in sectoral compositions rather than by geographic proximity.
Panel B of Table 5 reports CIs for the reduced-form specification. In this case, the increase in
the CI length is slightly larger than for the IV estimates: across outcomes, it increases on average by
54% for AKM and 130% for AKM0. The smaller relative increase in the CI length for the IV estimate
relative to its increase for the reduced-form estimate is a consequence of the fact that all inference
procedures yield similar CIs for the first-stage estimate, as reported in Panel C.
As discussed in Section 6, the differences between AKM (or AKM0) CIs and state-clustered CIs are
related to the importance of shift-share components in the regression residual. The results in Panel
C suggest that, once we account for changes in sectoral imports from China to other high-income
countries, there is not much sectoral variation left in the first-stage regression residual; i.e., there are
no other sectoral variables that are important to explain changes in sectoral imports from China to the
27 See column (6) of Table 3 in ADH. The vector Z aims to control for labor supply shocks and labor demand shocks other
i
than the changes in imports from China, and it includes the start-of-period percentage of employment in manufacturing.
The discussion in Section 4.2 implies that one should instead control for the ten-year-lagged of the start-of-period employment share in manufacturing, to match the shares that enter the definition of the shift-share IV. However, to facilitate the
comparison with the original results in ADH, we use their vector of controls. As shown in Borusyak, Hull and Jaravel
(2018), controlling for the ten-year-lagged manufacturing employment shares does not substantively affect the estimates.
28 For placebo simulation evidence under our baseline assumption that the shifters are independent across 3-digit clusters,
using data for outcomes Y1i and shares wis identical to that used in this section, see Online Appendix D.4.

35

Table 5: Effect of Chinese exports on U.S. commuting zones—Autor, Dorn and Hanson (2013)
Change in the employment share
All
(1)

Manuf.
(2)

Panel A: 2SLS Regression
β̂
−0.77
−0.60
Robust [−1.10, −0.45] [−0.78, −0.41]
Cluster [−1.12, −0.42] [−0.79, −0.40]
AKM [−1.25, −0.30] [−0.84, −0.35]
AKM0 [−1.69, −0.39] [−1.01, −0.36]

Change in avg. log weekly wage

Non-Manuf.
(3)

All
(4)

Manuf.
(5)

Non-Manuf.
(6)

−0.18
[−0.47, 0.12]
[−0.45, 0.10]
[−0.54, 0.18]
[−0.84, 0.14]

−0.76
[−1.23, −0.29]
[−1.26, −0.26]
[−1.37, −0.15]
[−1.77, −0.17]

0.15
[−0.81, 1.11]
[−0.81, 1.11]
[−0.81, 1.11]
[−1.49, 1.05]

−0.76
[−1.27, −0.25]
[−1.28, −0.24]
[−1.42, −0.10]
[−1.97, −0.19]

−0.48
[−0.80, −0.16]
[−0.78, −0.18]
[−0.88, −0.07]
[−1.27, −0.10]

0.10
[−0.50, 0.69]
[−0.51, 0.70]
[−0.50, 0.69]
[−1.16, 0.61]

−0.48
[−0.83, −0.13]
[−0.81, −0.15]
[−0.93, −0.03]
[−1.47, −0.11]

Panel B: OLS Reduced-Form Regression
β̂
−0.49
−0.38
−0.11
Robust [−0.71, −0.27] [−0.48, −0.28] [−0.31, 0.08]
Cluster [−0.64, −0.34] [−0.45, −0.30] [−0.27, 0.05]
AKM [−0.81, −0.17] [−0.52, −0.23] [−0.35, 0.12]
AKM0 [−1.24, −0.24] [−0.67, −0.25] [−0.64, 0.08]
Panel C: 2SLS First-Stage
β̂
Robust
Cluster
AKM
AKM0

0.63
[0.46, 0.80]
[0.45, 0.81]
[0.53, 0.73]
[0.54, 0.84]

Notes: N = 1, 444 (722 CZs × 2 time periods). Observations are weighted by the start of period CZ share of national population. All
regressions include the full vector of baseline controls in ADH; i.e. those in column (6) of Table 3 in Autor, Dorn and Hanson (2013). 95%
confidence intervals are reported in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is the standard error that
clusters of CZs in the same state; AKM is the standard error in eq. (40) with 3-digit SIC clusters; AKM0 is the confidence interval with
3-digit SIC clusters described in the last sentence of Section 5.1.

U.S.29 To investigate this claim, Table E.3 in Online Appendix E.1 reports the rejection rates implied
by a placebo exercise designed to match the first-stage specification reported in Panel C of Table 5.
The placebo results show that, while traditional methods still suffer from severe overrejection when
no controls are included, the overrejection is attenuated once we include as controls the shift-share
IV and the control vector Zi we use in Table 5, indicating that these variables soak up much of the
cross-CZ correlation in the treatment variable used in ADH.
Overall, Table 5 shows that, despite the wider confidence intervals obtained with our procedures,
the qualitative conclusions in ADH remain valid at usual significance levels. However, the increased
width of the 95% CI shows that the uncertainty regarding the magnitude of the impact of Chinese
import exposure on U.S. labor markets is greater than that implied by usual inference procedures. In
particular, the AKM0 CI is much wider than that based on state-clustered standard errors; furthermore
due to its asymmetry around the point estimate, using the AKM0 CI, we cannot rule out impacts of
29 This is analogous to what we would observe in a regression in which the regressor of interest varies at the state level,
and we control for all state-specific covariates affecting the outcome variable: state-clustered standard errors would be
similar to heteroskedasticity-robust standard errors, since there is little within-state correlation left in the residuals.

36

the China shock that are two to three times larger than the point estimates of these effects.30

7.2

Estimation of inverse labor supply elasticity

In our second application, we estimate the inverse labor supply elasticity. Specifically, using the
notation of Section 3, we estimate the parameter φ̃ in the equation
ω̂i = φ̃ L̂i + δZi + ei ,

φ̃ = φ−1 ,

(46)

where L̂i denotes the log change in the employment rate in CZ i, ω̂i denotes the log change in wages,
Zi is a vector of controls, and ei is a regression residual. We use the same sample, data sources, and
vector of controls Zi as in Section 7.1.31
The model in Section 3 has implications for the properties of different strategies for estimating
the inverse labor supply elasticity φ̃. By eq. (10), the residual ei in eq. (46) accounts for changes in
labor supply shocks, ∑G
g=1 w̃ig ν̂g + ν̂i , not controlled for by the vector Zi . Second, it follows from eq. (8)
that, up to a first-order approximation around an initial equilibrium, changes in regional employment
rates, L̂i , can be written as a function of both shift-share aggregators of sectoral labor demand shocks
and the same labor supply shocks potentially entering ei in eq. (10), ∑G
g=1 w̃ig ν̂g + ν̂i . Thus, L̂i and
ei will generally be correlated and the OLS estimator of φ̃ in eq. (46) will be biased. However, as
discussed in Section 4.3, the model in Section 3 also implies that we can instrument for L̂i using shiftshare aggregators of sectoral labor demand shocks that are independent of the unobserved labor
supply shocks (see Online Appendix E.2 for more details).
In this section, we use three different shift-share IVs to estimate φ̃ in eq. (46). For each of them,
Table 6 presents the reduced-form, first-stage and 2SLS estimates. First, in Panel A, we use the instrumental variable in Bartik (1991); i.e. X̂i = ∑iN=1 wis L̂s , where L̂s denotes the nation-wide employment
growth in sector s. Second, in Panel B, we use the leave-one-out version of this instrument; i.e.
X̂i = ∑iN=1 wis L̂s,−i , where L̂s,−i denotes the employment growth in sector s over all CZs excluding CZ
i.32 Third, in Panel C, we use the IV used in Autor, Dorn and Hanson (2013), which we denote as
ADH IV and describe in detail in Section 7.1.33 As in Section 7.1, we report versions of the AKM and
AKM0 CIs with shifters clustered at the 3-digit SIC industry for all periods.
Column (3) of Table 6 shows that the estimates of the inverse labor supply elasticity are similar
no matter which IV we use: 0.80 when using the original Bartik IV, 0.82 when using the leave-one-out
30 It follows from Remark 6 (see the expression for the quantity A) that the asymmetry in the AKM0 CI comes from the
correlation between the regression residuals R̂s and the shifters cubed. In large samples, this correlation is zero and the
AKM and AM0 CIs are asymptotically equivalent. The differences between both CIs in Table 5 thus reflect differences in
their finite-sample properties. This notwithstanding, the placebo exercise presented in Online Appendix D.4 shows that
both inference procedures yield close to correct rejection rates in a sample analogous to that used in ADH.
31 Table E.7 in Online Appendix E.2 investigates the robustness of our results to alternative sets of controls.
32 The leave-one-out version of the instrument in Bartik (1991) was originally proposed by Autor and Duggan (2003). In
Online Appendix E.2.3, we clarify the assumptions under which the model in Section 3 is consistent with the validity of
the leave-one-version of the Bartik IV. Online Appendix E.2.4 presents placebo exercises attesting that the AKM and AKM0
CIs reported in this section have appropriate coverage in the context of this empirical application.
33 The effect of these IVs on the changes in the employment rate may be heterogeneous across regions and sectors
(see eq. (8)). This does not affect the validity of our inference procedures since, as discussed in Section 4.3, we allow for
heterogeneous effects in the first-stage regression.

37

Table 6: Estimation of inverse labor supply elasticity

Dependent variable:

First-Stage
L̂i
(1)

Reduced-Form
ω̂i
(2)

2SLS
ω̂i
(3)

Panel A: Bartik IV—Not leave-one-out estimator
β̂
0.90
0.73
Robust
[0.70, 1.10]
[0.54, 0.91]
Cluster
[0.64, 1.16]
[0.47, 0.98]
AKM
[0.65, 1.16]
[0.49, 0.96]
AKM0
[0.61, 1.17]
[0.44, 0.96]

0.80
[0.64, 0.97]
[0.60, 1.01]
[0.62, 0.98]
[0.59, 1.02]

Panel B: Bartik IV—Leave-one-out estimator
β̂
0.87
0.71
Robust
[0.68, 1.06]
[0.53, 0.89]
Cluster
[0.62, 1.12]
[0.46, 0.96]
AKM (leave-one-out)
[0.59, 1.15]
[0.47, 0.94]
AKM0 (leave-one-out)
[0.53, 1.15]
[0.42, 0.94]

0.82
[0.65, 0.98]
[0.60, 1.03]
[0.61, 1.02]
[0.59, 1.09]

Panel C: ADH IV
β̂
Robust
Cluster
AKM
AKM0

0.67
[0.36, 0.98]
[0.35, 0.99]
[0.27, 1.07]
[0.18, 1.14]

−0.72
[−1.04, −0.39]
[−0.93, −0.50]
[−1.19, −0.24]
[−1.83, −0.35]

−0.48
[−0.80, −0.16]
[−0.78, −0.18]
[−0.88, −0.07]
[−1.27, −0.10]

Notes: N = 1, 444 (722 CZs × 2 time periods). The variable L̂i denotes the log-change in the
employment rate in CZ i. The variable ω̂i denotes the log change in mean weekly earnings. Observations are weighted by the start of period CZ share of national population. All regressions
include the full vector of baseline controls in ADH; i.e. those in column (6) of Table 3 in Autor,
Dorn and Hanson (2013). 95% confidence intervals in square brackets. Robust is the EickerHuber-White standard error; Cluster is the standard error that clusters of CZs in the same state;
AKM is the standard error in eq. (40) with 3-digit SIC clusters; AKM0 is the confidence interval
with 3-digit SIC clusters described in the last sentence of Section 5.1; AKM (leave-one-out) is the
standard error in Section 5.3 with 3-digit SIC clusters; AKM0 (leave-one-out) is the confidence
interval with 3-digit SIC clusters described in Section 5.3.

version of this estimator, and 0.67 when using the ADH IV.34 In both Panel A and Panel B, the AKM
and AKM0 CIs are very similar to the state-clustered CI. In Panel C, the AKM and AKM0 CIs are only
moderately wider than those obtained with state-clustered standard errors.
Columns (1) and (2) of Table 6 show the first-stage and reduced-form estimates, respectively. In
Panel A and Panel B, the AKM0 CIs are similar to the state-clustered CIs; in contrast, in Panel C,
the first-stage and reduced-form AKM0 CIs more twice as wide, and more than three times as wide
as the state-clustered CI, respectively. Thus, the first-stage and reduced-form AKM and AKM0 CIs
differ more from the state-clustered CI when the ADH IV is used than when the Bartik IV is used. A
possible explanation for this finding is that the shift-share component of the first-stage and reducedform regression residuals is much smaller in the latter than in the former case. The Bartik IV absorbs
34 One

explanation for the similarity between the leave-one-out and the original Bartik IV is that, as discussed in Section 5.3, the bias of the original Bartik IV is of the order N1 ∑iN=1 ∑Ss=1 wisňw̌s is . This quantity equals 0.004 in this application,
indicating that the own-observation bias is likely to be small.

38

the bulk of the shift-share covariates that affect the change in the employment rate and wages across
CZs. In contrast, the ADH IV is just one of the possibly various shift-share terms affecting the change
in the outcome and endogenous treatment of interest. With the remaining shift-share entering the
regression residual, it becomes quantitatively important to use our inference procedures to obtain CIs
with the right coverage.

8

Concluding remarks

This paper studies inference in shift-share designs. We show that standard economic models predict
that changes in regional outcomes depend on observed and unobserved sector-level shocks through
several shift-share terms. Our model thus implies that the residual in shift-share regressions is likely
to be correlated across regions with similar sectoral composition, independently of their geographic
location, due to the presence of unobserved shift-share terms. Such correlations are not accounted for
by inference procedures typically used in shift-share regressions, such as when standard errors are
clustered on geographic units. To illustrate the importance of this shortcoming, we conduct a placebo
exercise in which we study the effect of randomly generated sector-level shocks on actual changes in
labor market outcomes across CZs in the United States. We find that traditional inference procedures
severely overreject the null hypothesis of no effect. We derive two novel inference procedures that
yield correct rejection rates.
It has become standard practice to report cluster-robust standard errors in regression analysis
whenever the variable of interest varies at a more aggregate level than the unit of observation. This
practice guards against potential correlation in the residuals that arises whenever these residuals
contain unobserved shocks that also vary at the same level as the variable of interest. In the same
way, we recommend that researchers report confidence intervals in shift-share designs that allow for
a shift-share structure in the residuals, such as one of the two confidence intervals that we propose.
University of Chicago Booth School of Business
Princeton University
Princeton University

References
Acemoglu, Daron and Joshua Linn, “Market Size in Innovation: Theory and Evidence from the
Pharmaceutical Industry,” Quarterly Journal of Economics, 2004, 119 (3), 1049–1090.
and Pascual Restrepo, “Demographics and Automation,” 2018. Unpublished manuscript, MIT.
and

, “Robots and Jobs: Evidence from US Labor Markets,” Journal of Political Economy, 2019,

forthcoming.
Adão, Rodrigo, “Worker Heterogeneity, Wage Inequality, and International Trade: Theory and Evidence from Brazil,” 2016. Unpublished manuscript, University of Chicago.
39

, Costas Arkolakis, and Federico Esposito, “Spatial linkages, Global Shocks, and Local Labor
Markets: Theory and Evidence,” 2019. Unpublished manuscript, University of Chicago.
Aghion, Philippe, Antonin Bergeaud, Matthieu Lequien, and Marc J. Melitz, “The Impact of Exports on Innovation: Theory and Evidence,” 2018. Unpublished manuscript, Harvard University.
Aizer, Anna and Jr Doyle Joseph J., “Juvenile Incarceration, Human Capital, and Future Crime:
Evidence from Randomly Assigned Judges,” The Quarterly Journal of Economics, 2015, 130 (2), 759–
803.
Altonji, Joseph G and David Card, “The Effects of Immigration on the Labor Market Outcomes of
Less-skilled Natives,” in John M. Abowd and Richard B. Freeman, eds., Immigration, Trade, and the
Labor Market, Chicago: University of Chicago Press, 1991, pp. 201–234.
Altonji, Joseph G. and John C. Ham, “Variation in Employment Growth in Canada: The Role of
External, National, Regional, and Industrial Factors,” Journal of Labor Economics, 1990, 8 (1), 198–
236.
Anderson, Theodore W. and Herman Rubin, “Estimation of the Parameters of a Single Equation in a
Complete System of Stochastic Equations,” The Annals of Mathematical Statistics, 1949, 20 (1), 46–63.
Angrist, Joshua D., Guido Wilhelmus Imbens, and Alan B. Krueger, “Jackknife Instrumental Variables Estimation,” Journal of Applied Econometrics, 1999, 14 (1), 57–67.
Autor, D. H. and M. G. Duggan, “The Rise in the Disability Rolls and the Decline in Unemployment,”
The Quarterly Journal of Economics, 2003, 118 (1), 157–206.
Autor, David H., David Dorn, and Gordon H. Hanson, “The China Syndrome: Local Labor Market
Effects of Import Competition in the United States,” American Economic Review, 2013, 103 (6), 2121–
2168.
,

, and

, “When Work Disappears: Manufacturing Decline and the Falling Marriage-Market

Value of Young Men,” American Economic Review: Insights, 2018, forthcoming.
,

,

, and Jae Song, “Trade adjustment: Worker-level evidence,” The Quarterly Journal of Eco-

nomics, 2014, 129 (4), 1799–1860.
,

,

, and Kaveh Majlesi, “Importing Political Polarization? The Electoral Consequences of

Rising Trade Exposure,” 2017. Unpublished manuscript, University of Zurich.
,

,

, Gary Pisano, and Pian Shu, “Foreign Competition and Domestic Innovation: Evidence

from U.S. Patents,” American Economic Review: Insights, 2019, forthcoming.
Bai, Jushan, “Panel Data Model with Interactive Fixed Effects,” Econometrica, 2009, 77 (4), 1229–1279.
Barrios, Thomas, Rebecca Diamond, Guido W. Imbens, and Michal Kolesár, “Clustering, Spatial
Correlation, and Randomization Inference,” Journal of the American Statistical Association, 2012, 107
(498), 578–591.
40

Bartelme, Dominick, “Trade Costs and Economic Geography: Evidence from the U.S.,” 2018. Unpublished manuscript, University of Michigan.
Bartik, Timothy J., Who Benefits from State and Local Economic Development Policies?, Kalamazoo, MI:
W.E. Upjohn Institute for Employment Research, 1991.
Baum-Snow, Nathaniel and Fernando Ferreira, “Causal inference in urban and regional economics,”
in Gilles Duranton, J. Vernon Henderson, and William C. Strange, eds., Handbook of Regional and
Urban Economics, Vol. 5, Elsevier, 2015, pp. 3–68.
Bekker, Paul A., “Alternative Approximations to the Distributions of Instrumental Variable Estimators,” Econometrica, 1994, 62 (3), 657–681.
Bell, Robert M. and Daniel F. McCaffrey, “Bias Reduction in Standard Errors for Linear Regression
with Multi-Stage Samples,” Survey Methodology, 2002, 28 (2), 169–181.
Beraja, Martin, Erik Hurst, and Juan Ospina, “The Aggregate Implications of Regional Business
Cycles,” Technical Report 21956, National Bureau of Economic Research February 2019.
Blanchard, Olivier Jean and Lawrence F. Katz, “Regional Evolutions,” Brookings Papers on Economic
Activity, 1992, 1992 (1), 1–75.
Borusyak, Kirill, Peter Hull, and Xavier Jaravel, “Quasi-experimental Shift-share Research Designs,”
September 2018. arXiv:1806.01221 [econ.EM].
Burstein, Ariel, Eduardo Morales, and Jonathan Vogel, “Changes in Between-Group Inequality:
Computers, Occupations, and International Trade,” American Economic Journal: Macroeconomics,
2019, 11 (2), 348–400.
, Gordon Hanson, Lin Tian, and Jonathan Vogel, “Tradability and the Labor-Market Impact of
Immigration: Theory and Evidence from the U.S.,” 2018. Unpublished manuscript, University of
California Los Angeles.
Cameron, Colin A. and Douglas L. Miller, “A Practitioner’s Guide to Cluster-Robust Inference,”
Journal of Human Resources, 2014, 50 (2), 317–372.
Card, David, “Immigrant Inflows, Native Outflows, and the Local Labor Market Impacts of Higher
Immigration,” Journal of Labor Economics, 2001, 19 (1), 22–64.
Chao, John C., Norman R. Swanson, Jerry A. Hausman, Whitney K. Newey, and Tiemen Woutersen,
“Asymptotic Distribution of JIVE in a Heteroskedastic IV Regression with Many Instruments,”
Econometric Theory, 2012, 12 (1), 42–86.
Che, Yi, Yi Lu, Justin R. Pierce, Peter K. Schott, and Tao Zhigang, “Did Trade Liberalization with
China Influence U.S. Elections?,” 2017. Unpublished manuscript, Yale University.
Chodorow-Reich, Gabriel and Johannes Wieland, “Secular Labor Reallocation and Business Cycles,”
Journal of Political Economy, 2018, forthcoming.
41

Colantone, Italo and Piero Stanig, “The Trade Origins of Economic Nationalism: Import Competition
and Voting Behavior in Western Europe,” American Journal of Political Science, October 2018, 62 (4),
936–953.
Conley, Timothy G., “GMM Estimation with Cross Sectional Dependence,” Journal of Econometrics,
September 1999, 92 (1), 1–45.
Diamond, Rebecca, “The Determinants and Welfare Implications of US Workers’ Diverging Location
Choices by Skill: 1980-2000,” American Economic Review, 2016, 106 (3), 479–524.
Dix-Carneiro, Rafael and Brian K. Kovak, “Trade Liberalization and Regional Dynamics,” American
Economic Review, October 2017, 107 (10), 2908–46.
, Rodrigo Soares, and Gabriel Ulyssea, “Economic Shocks and Crime: Evidence From The Brazilian Trade Liberalization,” American Economic Journal: Applied Economics, 2018, 10 (4), 158–195.
Dobbie, Will and Jae Song, “Debt relief and debtor outcomes: Measuring the effects of consumer
bankruptcy protection,” American Economic Review, 2015, 105 (3), 1272–1311.
Dustmann, Christian, Uta Schönberg, and Jan Stuhler, “The Impact of Immigration: Why Do Studies Reach Such Different Results?,” Journal of Economic Perspectives, 2016, 30 (4), 31–56.
Foerster, Andrew T., Pierre-Daniel G. Sarte, and Mark W. Watson, “Sectoral versus Aggregate
Shocks: A Structural Factor Analysis of Industrial Production,” Journal of Political Economy, 2011,
119 (1), 1–38.
Galle, Simon, Andrés Rodríguez-Clare, and Moises Yi, “Slicing the Pie: Quantifying the Aggregate and Distributional Effects of Trade,” October 2018. Unpublished manuscript, University of
California Berkeley.
Gobillon, Laurent and Thierry Magnac, “Regional Policy Evaluation: Interactive Fixed Effects and
Synthetic Controls,” Review of Economics and Statistics, July 2016, 98 (3), 535–551.
Goldsmith-Pinkham, Paul, Isaac Sorkin, and Henry Swift, “Bartik Instruments: What, When, Why,
and How,” Technical Report 24408, National Bureau of Economic Analysis, 2018.
Greenstone, Michael, Alex Mas, and Hoai-Luu Nguyen, “Do Credit Market Shocks Affect the Real
Economy? Quasi-Experimental Evidence from the Great Recession and ’Normal’ Economic Times,”
American Economic Journal: Economic Policy, 2015, forthcoming.
Hummels, David, Rasmus Jørgensen, Jakob Munch, and Chong Xiang, “The wage effects of offshoring: Evidence from Danish matched worker-firm data,” American Economic Review, 2014, 104
(6), 1597–1629.
Imbens, Guido W. and Donald B. Rubin, Causal Inference for Statistics, Social, and Biomedical Sciences:
an Introduction, New York, NY: Cambridge University Press, 2015.

42

Imbens, Guido Wilhelmus and Joshua D. Angrist, “Identification and Estimation of Local Average
Treatment Effects,” Econometrica, 1994, 62 (2), 467–475.
Jaeger, David A, Joakim Ruist, and Jan Stuhler, “Shift-share instruments and the impact of immigration,” Technical Report 24285, National Bureau of Economic Research February 2018.
Jones, Ronald W., “A Three-Factor Model in Theory, Trade and History,” in Jagdish Bhagwati, Ronald
Jones, Robert Mundell, and Jaroslav Vanek, eds., Trade, Balance of Payments and Growth, Amsterdam:
North-Holland, 1971.
Kolesár, Michal, Raj Chetty, John Friedman, Edward Glaeser, and Guido W. Imbens, “Identification
and Inference With Many Invalid Instruments,” Journal of Business & Economic Statistics, October
2015, 33 (4), 474–484.
Kovak, Brian K, “Regional effects of trade reform: What is the correct measure of liberalization?,”
American Economic Review, 2013, 103 (5), 1960–76.
Lazarus, Eben, Daniel J. Lewis, James H. Stock, and Mark W. Watson, “HAR Inference: Recommendations for Practice,” Journal of Business & Economic Statistics, October 2018, 36 (4), 541–559.
Lee, Eunhee, “Trade, Inequality, and the Endogenous Sorting ofHeterogeneous Workers,” 2018. Unpublished manuscript, University of Maryland.
Lewis, Ethan and Giovanni Peri, “Immigration and the Economy of Cities and Regions,” in Gilles
Duranton, J. Vernon Henderson, and William C. Strange, eds., Handbook of Regional and Urban
Economics, Vol. 5, Elsevier, 2015, pp. 625–685.
Maestas, Nicole, Kathleen J Mullen, and Alexander Strand, “Does Disability Insurance Receipt Discourage Work? Using Examiner Assignment to Estimate Causal Effects of SSDI Receipt,” American
Economic Review, August 2013, 103 (5), 1797–1829.
Monras, Joan, “Immigration and Wage Dynamics: Evidence from the Mexican Peso Crisis,” December 2018. Unpublished manuscript, CEMFI.
Monte, Ferdinando, Stephen J. Redding, and Esteban Rossi-Hansberg, “Commuting, Migration
and Local Employment Elasticities,” American Economic Review, 2018, 108 (12), 3855–3890.
Pierce, Justin R. and Peter K. Schott, “Trade Liberalization and Mortality: Evidence from US Counties,” American Economic Review: Insights, 2018, forthcoming.
Roy, Andrew D., “Some Thoughts on the Distribution of Earnings,” Oxford Economic Papers, 1951, 3
(2), 135–146.
Shea, John, “Complementarities and Comovements,” Journal of Money, Credit and Banking, 2002, 34
(2), 412–433.
Silver, David, “Haste or Waste? Peer Pressure and the Distribution of Marginal Returns to Health
Care,” 2016. Working Paper, Princeton University.
43

Topalova, Petia, “Trade Liberalization, Poverty and Inequality: Evidence from Indian Districts,” in
Ann Harrison, ed., Globalization and Poverty, University of Chicago Press, 2007, pp. 291–336.
, “Factor Immobility and Regional Impacts of Trade Liberalization: Evidence on Poverty from
India,” American Economic Journal: Applied Economics, 2010, 2 (4), 1–41.

44

Online supplement to:
“Shift-Share Designs: Theory and Inference”

arXiv:1806.07928v5 [econ.EM] 9 Aug 2019

Rodrigo Adão*

Michal Kolesár†

Eduardo Morales‡

August 13, 2019

* University of Chicago Booth
† Princeton University. Email:

School of Business. Email: rodrigo.adao@chicagobooth.edu
mkolesar@princeton.edu
‡ Princeton University. Email: ecmorales@princeton.edu

1

Contents
A Proofs and additional theoretical results

4

A.1 Proofs and additional details for OLS regression . . . . . . . . . . . . . . . . . . . . . . .

4

A.1.1 General setup and assumptions . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4

A.1.2 Auxiliary results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

6

A.1.3 Proof of Proposition 3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

7

A.1.4 Proof of Proposition 4 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

9

A.1.5 Proof of Proposition 5 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

12

A.1.6 Inference under heterogeneous effects . . . . . . . . . . . . . . . . . . . . . . . . .

15

A.2 Proofs and additional details for IV regression . . . . . . . . . . . . . . . . . . . . . . . .

17

A.2.1 Assumptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

17

A.2.2 Asymptotic results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

18

A.2.3 Proof of Proposition A.2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

20

A.2.4 Proof of Proposition A.3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

21

B Stylized economic model: baseline microfoundation

24

B.1 Environment . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

24

B.2 Equilibrium . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

26

B.3 Labor market impact of sectoral shocks: equilibrium relationships . . . . . . . . . . . .

27

B.4 Identification of labor market impact of sectoral prices . . . . . . . . . . . . . . . . . . .

28

B.4.1

Impact of labor demand and supply shocks on sector-specific price indices . . .

C Stylized economic model: Extensions

29
30

C.1 Sector-specific factors of production . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

30

C.1.1 Environment . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

30

C.1.2 Equilibrium . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

30

C.1.3 Labor market impact of sectoral shocks . . . . . . . . . . . . . . . . . . . . . . . .

32

C.2 Sector-specific preferences . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

33

C.2.1 Environment . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

33

C.2.2 Equilibrium . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

33

C.2.3 Labor market impact of sectoral shocks . . . . . . . . . . . . . . . . . . . . . . . .

34

C.3 Allowing for regional migration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

35

C.3.1 Environment . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

36

C.3.2 Equilibrium . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

36

C.3.3 Labor market impact of sectoral shocks . . . . . . . . . . . . . . . . . . . . . . . .

37

D Additional placebo exercises

39

D.1 Placebo exercise: empirical distributions . . . . . . . . . . . . . . . . . . . . . . . . . . . .

39

D.2 Controlling for size of the residual sector . . . . . . . . . . . . . . . . . . . . . . . . . . .

40

D.3 Confounding sector-level shocks: omitted variable bias and solutions . . . . . . . . . .

41

D.4 Panel data: serial correlation in residuals and shifters . . . . . . . . . . . . . . . . . . . .

44

2

D.5 Misspecification in linearly additive potential outcome framework . . . . . . . . . . . .

47

D.5.1 Nonlinear potential outcome framework . . . . . . . . . . . . . . . . . . . . . . .

47

D.5.2 Asymptotic properties of the shift-share linear specification . . . . . . . . . . . .

49

D.5.3 Simulation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

50

D.6 Unobserved shift-share components with different shares . . . . . . . . . . . . . . . . .

54

D.7 Heterogeneous treatment effects . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

55

D.8 Other extensions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

56

E Empirical applications: additional results

60

E.1 Effect of Chinese exports on U.S. labor market outcomes . . . . . . . . . . . . . . . . . .

60

E.1.1

Placebo exercise: alternative distributions of shifters . . . . . . . . . . . . . . . .

60

E.1.2

Placebo exercise: accounting for controls in the first-stage regression . . . . . . .

64

E.1.3

Additional empirical results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

64

E.2 Estimation of inverse labor supply elasticity . . . . . . . . . . . . . . . . . . . . . . . . .

69

E.2.1

Bias in OLS estimate of inverse labor supply elasticity . . . . . . . . . . . . . . .

69

E.2.2

Consistency of IV estimate of inverse labor supply elasticity . . . . . . . . . . . .

70

E.2.3

Evaluation of leave-one-out IV through the lens of the model in Section 3 . . . .

70

E.2.4

Placebo exercise . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

73

E.2.5

Additional results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

76

F Effect of immigration on U.S. local labor markets

77

F.1

Sample periods and list of countries of origin of immigrants . . . . . . . . . . . . . . . .

78

F.2

Placebo simulations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

78

F.3

Results with a restricted set of origin countries . . . . . . . . . . . . . . . . . . . . . . . .

79

F.4

Results with all origin countries . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

81

3

Appendix A

Proofs and additional theoretical results

Appendix A.1 gives proofs and additional details for the results in Sections 4.1 and 4.2. Appendix A.2
gives proofs and additional details for the results in Sections 4.3 and 5.3.

A.1 Proofs and additional details for OLS regression
Since Propositions 1 and 2 are special cases or Propositions 3 and 4, we only prove Propositions 3, 4
and 5. We give the proofs under a slightly more general setup that allows for a linearization error in
the potential outcome equation. We introduce this more general setup in Appendix A.1.1, where we
also collect the assumptions that we impose on the DGP. We collect some auxiliary Lemmata used in
the proofs in Appendix A.1.2, and we prove these propositions in Appendices A.1.3, A.1.3 and A.1.5.
Appendix A.1.6 discusses inference when the effects β is are heterogeneous.
Throughout the Appendix, we assume that ∑Ss=1 wis ≤ 1 for all i. Thus, ∑Ss=1 ns ≤ N, where
ns = ∑iN=1 wis denotes the size of sector s. We use the notation AS  BS to denote AS = O( BS ), i.e.

there exists a constant C independent of S such that AS ≤ CBS . Let F0 denote the σ-field generated by

(Z, U, Y (0), B, W ) (for the case with no covariates, F0 denotes the σ-field generated by (Y (0), B, W )).
Define wst = ∑iN=1 wis wit , X̃s = Xs − Zs0 γ, and σs2 = var(Xs | F0 ). Finally, let r N = (∑s n2s )−1 , and let
EW denote expectation conditional on W.

A.1.1

General setup and assumptions

We first list and discuss the regularity conditions needed for the results in Section 4.1. We then
generalize the setup from Section 4.2 by allowing for a linearization error in the potential outcome
equation (11). Unless stated otherwise, all limits are taken as S → ∞. We leave the dependence of the
number of regions N = NS on S implicit.

For the results in Section 4.1, we assume that the observed data (Y, X, W ) is generated by the
variables (Y (0), B, W, X ), which we model as a triangular array, so that the distribution of the data
may change with the sample size.1 The additional regularity conditions we impose on these variables,
in addition to Assumptions 1 and 2 as follows:
2 converges in
∑iN=1 ∑Ss=1 var(Xs | F0 )wis
2+ ν
probability to a strictly positive non-random limit; (iii) For some ν > 0, E[|Xs |
| F0 ] exists and

Assumption A.1. (i) The support of β is is bounded; (ii)

1
N

is uniformly bounded, and conditional on W, the second moments of Yi (0) exist, and are bounded
uniformly over i; (iv) For some ν > 0, E[|Xs |

4+ ν

| F0 ] is uniformly bounded, and conditional on W,
the fourth moments of Yi (0) exist, and are bounded uniformly over i.
The bounded support condition on β is in Assumption A.1(i) is made to keep the proofs simple
and can be relaxed. Assumption A.1(ii) is a standard regularity condition ensuring that the shocks
X have sufficient variation so that the denominator of β̂, scaled by N, does not converge to zero.
1 In

other words, to allow the distribution of the data to change with the sample size S, we implicitly index the data by
S. Making this index explicit, for each S, the data is thus given by the array {(YiS (0), β isS , wisS , XsS ) : i = 1, . . . , NS , s =
1, . . . , S}.

4

This requires that there is at least one “non-negligible” sector in most regions in the sense that its
share wis is bounded away from zero. This implies that ∑Ss=1 ns /N is also bounded away from zero.
Assumption A.1(iii) imposes some mild assumptions on the existence of moments of X and Yi (0).
Assumption A.1(iv), which is only needed for asymptotic normality, strengthens this condition.
For the results in Section 4.2, we generalize the setup in the main text by allowing for a linearization error in the expression for potential outcomes,
Yi (x1 , . . . , xS ) = Yi (0) +

S

∑ wis xs βis + Li (x1 , . . . , xS ),

s =1

S

∑ wis ≤ 1,

(A.1)

s =1

and we weaken Assumption 3(i) by replacing it with the assumption that the observed outcome is
given by Yi = Yi (X1 , . . . , XS ), such that eq. (A.1) holds with Li (X1 , . . . , XS ) = Li .
We assume that the observed data (Y, X, Z, W ) is generated by the triangular array of variables

(Y (0), B, W, U, X, Z, L). Let δ̌ = ( Z 0 Z )−1 Z 0 (Y − Xβ) denote the regression coefficient in a regression
of Y − Xβ on Z, that is, the regression coefficient on Zi in a regression in which β̂ is restricted to equal
to the true value β.
Assumption A.2. (i) N −1 ∑iN=1 E[ L2i ]1/2 → 0, and conditional on W, the second moments of Ui and

Zs exist and are bounded uniformly over i and s; (ii) Z 0 Z/N converges in probability to a positive
definite non-random limit; (iii) (∑s n2s )−1/2 ∑iN=1 E[ L2i ]1/2 → 0, maxi E[ L4i | W ] → 0, and conditional on

W, the fourth moments of Zs , and Ui exist and are bounded uniformly over s and i; (iv) δ̌ − δ = O p (qs )
for some sequence qS → 0; (v) q2S N/ ∑s n2s · ∑i E[(Ui0 γ)2 ] → 0 and γ0 U 0 e = o p ((∑s n2s )1/2 ).

Assumption A.2(i) imposes some mild moment restrictions on the controls Zi . It also requires that
on average, the variance of the linearization error Li vanishes with sample size. This ensures that the
linearization error does not impact the consistency of β̂. Assumption A.2(ii) ensures that the controls
are not collinear.
Assumptions A.2(iii) to A.2(v) are only needed for asymptotic normality. Assumption A.2(iii)
strengthens the moment conditions in Assumption A.2(i). It also imposes a stricter condition on the
linearization error: it requires that, on average over N, the standard deviation of Li is of smaller
order than (∑s n2s )1/2 /N, the rate of convergence of β̂. A sufficient condition is that Li = o p (S−1/2 ).
This ensures that the linearization error is of smaller order than the variance of the estimator, so that
the distribution of β̂ does not suffer from asymptotic bias. This formalizes the assumption that the
linearization error is “small”. The condition that maxi E[ L4i | W ] → 0 is only needed for showing
consistency of the standard error estimator; it is not needed for asymptotic normality. Assump-

tion A.2(iv) requires that δ̌ is consistent, which ensures that the error in estimation of δ does not
affect the asymptotic distribution of β̂. Finally, Assumption A.2(v) imposes conditions on Ui0 γ, the
measurement error for controls that matter, which ensure that measurement error in the controls that
matter does not impact the asymptotic distribution of β̂. They are stated as high-level conditions to
cover a range of different cases, and depend on the rate of convergence qS of δ̌. In typical cases, the
rate will be qS = (∑s n2s )1/2 /N, the same as that of β̂, and the condition q2S N/ ∑s n2s · ∑i E[(Ui0 γ)2 ] → 0
is implied by Assumption 3(iii). Let U1i denote the subset of elements of Ui for which γk 6= 0, and let

U2i denote the remaining elements. If Ui1 is mean zero and independent across i conditional on the
5

remaining variables ((Y (0), W, B, Z, X, U2 )), so that these elements are pure measurement error, then
the second condition is implied by Assumption 3(iv).
A.1.2

Auxiliary results

Lemma A.1. {AS1 , . . . , ASS }∞
S=1 be a triangular array of random variables. Fix η ≥ 1, and let ASi =

∑Ss=1 wis ASs , i = 1 . . . , NS . Suppose E[|ASs | | W ] exists and is uniformly bounded. Then E[| ASi | | W ]
exists and is bounded uniformly over S and i.
η

η

Proof. The result follows by triangle inequality for η = 1. Suppose therefore that η > 1. By Hölder’s
inequality,

E[| ASi |η | W ] = E

"

S

η −1
η

#

η

1
η

∑ wis wis ASs

S

∑ wis

|W ≤

s =1

s =1

! η −1

S

∑ wis E[|ASs |

s =1

η

| W]

≤ max E[|ASs |η | W ] · (∑Ss=1 wis )η ≤ maxs E[|ASs |η | W ],
s

which yields the result.
2
Lemma A.2. { AS1 , . . . , ASNS }∞
S=1 be a triangular array of random variables. Suppose E [ ASi | W ] exists and


is uniformly bounded. Then ∑Ss=1 E (∑iN=1 wis ASi )2 | W  ∑s n2s .

Proof. By Cauchy-Schwarz inequality,
S



∑ E

s =1

N

∑ wis ASi

i =1

!2



W ≤

S

N

N

∑ ∑ ∑ wis w js E[ A2Si | W ]1/2 E[ A2Sj | W ]1/2

s =1 i =1 j =1

S



N

∑∑

N

∑ wis w js =

s =1 i =1 j =1

S

∑ n2s .

s =1

Lemma A.3. Let { AS1 , . . . , ASNS , BS1 , . . . , BSNS , AS1 , . . . , ASS }∞
S=1 be a triangular array of random variables.
4 | W ], and E [A 2 | W ] exist and are uniformly bounded. Then (
Suppose E[ A4Si | W ], E[ BSi
∑s n2s )−1 ·
Ss

∑i,j,s wis w js ASi BSj ASs = O p (1).

Proof. Let RS = (∑s n2s )−1 ∑i,j,s wis w js ASi BSj ASs . By the triangle and Cauchy-Schwarz inequalities,
E[| RS | | W ] ≤

1
∑s n2s

i,j,s

≤

1
∑s n2s

∑ wis w js E[| BSj |

∑ wis w js E[| ASi BSj ASs | | W ]
i,j,s

4

2
| W ]1/4 E[| ASi |4 | W ]1/4 E[ASs
| W ]1/2 

The result then follows by Markov inequality.

6

1
∑s n2s

∑ wis w js = 1.

i,j,s

A.1.3

Proof of Proposition 3

First we show that

√
Z 0 W X̃ = O p (1/ r N ).

(A.2)

Conditional on W, the left-hand side has mean zero by Assumption 3(ii), and by Assumption 2(i), the
variance of the kth row given by
var

∑ wis X̃s Zik | W
i,s

!

=∑
s

∑ wis Zik

EW σs2

i

!2

∑ wis Zik

 ∑ EW
s

i

!2

.

2 ] = E [(
2
By Lemma A.1, Assumption A.2(i), and the Cr -inequality, EW [ Zik
W ∑s wis Zsk + Uik ) ] is uni-

formly bounded. Therefore, by Lemma A.2, the right-hand side is bounded by ∑s n2s , so the result
follows by Markov inequality and dominated convergence theorem.
Since X = W X̃ + Zγ − Uγ, it follows from eq. (A.2) and Assumption A.2(ii) that
γ̂ − γ = ( Z 0 Z/N )−1 Z 0 W X̃/N − ( Z 0 Z/N )−1 Z 0 Uγ/N = o p (1),

(A.3)

where γ̂ = ( Z 0 Z )−1 Z 0 X, and the last equality follows since ∑s n2s /N 2 ≤ maxs ns /N → 0 by Assumption 2(ii), and since Z 0 Uγ/N = o p (1) by the Cauchy-Schwarz inequality and Assumption 3(iii).
Next, we will show that
Ẍ 0 Ẍ/N =

1
N

∑ wis2 σs2 + o p (1).

(A.4)

i,s

To this end, we have
Ẍ 0 Ẍ/N = (W X̃ − Uγ − Z (γ̂ − γ))0 (W X̃ − Uγ − Z (γ̂ − γ))/N

= (W X̃ )0 (W X̃ )/N + o p (1)
1
2
1
= ∑ wss σs2 + ∑ wst X̃s X̃t +
N s
N s<t
N

∑ wss (X̃s2 − σs2 ) + o p (1).
s

where the first line follows from the decomposition
Ẍ = X − Z ( Z 0 Z )−1 Z 0 X = X − Z γ̂ = W X̃ − Uγ − Z (γ̂ − γ),

(A.5)

the second line follows by the Cauchy-Schwarz inequality, Assumption 3(iii), and eq. (A.3), and the
third line follows by expanding (W X̃ )0 (W X̃ )/N. Therefore, to show eq. (A.4), it suffices to show
that the second and third term in the above expression are o p (1). Since the second term has mean
zero conditional on W, it suffices to show that its variance converges to zero. To that end,
var

2
N

∑ X̃s X̃t wst | W

s<t

!

=

4
N2

≤

∑ EW [σs2 σt2 ]w2st 

s<t

1
N2

∑

i,j,s,t

wis wit w js ≤

7

1
N2
1
N2

∑ w2st =
s,t

1
N2

∑ wis w js =

i,j,s

∑

i,j,s,t

1
N2

wis wit w js w jt

∑ n2s ≤
s

maxt nt ∑s ns
→ 0.
N2

where the convergence to 0 follows by Assumption 2(ii). By the inequality of von Bahr and Esseen,
Assumption A.1(iii), and the inequality wss ≤ ns ,
E[ N −1 ∑s (X̃s2 − σs2 )wss

1+ν/2

| F0 ] ≤

2
N 1+ν/2

∑ w1ss+ν/2 E[ X̃s2 − σs2

1+ν/2

| F0 ]

s



1
N 1+ν/2

ns /N )ν/2 ,
∑ w1ss+ν/2 ≤ (max
s

(A.6)

s

which converges to zero by Assumption 2(ii). Equation (A.4) then follows by Markov inequality.
Next, we show that
Ẍ 0 Y/N =

1
N

∑ σs2 wis2 βis + oP (1)

(A.7)

i,s

Using eq. (A.5), we can write the left-hand side as
Ẍ 0 Y/N = X̃ 0 W 0 Y/N − γ0 U 0 Y/N − Y 0 Z/N · (γ̂ − γ)

= X̃ 0 W 0 Y/N + o p (1)
1
1
1
= ∑ wis X̃s Li + ∑ wis2 (X̃s Xs − σs2 ) β is +
N s,i
N s,i
N
1
+
N

1
∑ ∑ wis wit X̃s Xt βit + N
s<t i

∑ wis X̃s Yi (0)
s,i

1

∑ ∑ wis wit X̃t Xs βis + N ∑ wis2 σs2 βis + o p (1)

s<t i

s,i

where the second line follows since by the Cr -inequality, Lemma A.1, Assumptions A.1(i), A.2(i)
and A.1(iii), N −1 ∑i E[Yi2 ] is bounded, so that Y 0 Z/N = O p (1) and γ0 U 0 Y/N = o p (1) by CauchySchwarz inequality and Assumption 3(iii), and the third line follows by expanding X̃ 0 W 0 Y. We
therefore need to show that the first five terms in the expression above are o p (1). By the CauchySchwarz inequality, the expectation of the absolute value of the first term is bounded by
2 2 1/2
σs )
 N −1 ∑ E[ L2i ]1/2 ,
N −1 ∑ E[ L2i ]1/2 ( E ∑ wis
s

i

i

which converges to zero by Assumption A.2(i). Thus, the first term is o p (1) by Markov inequality
and the dominated convergence theorem. The second term is o p (1) by an argument analogous to
eq. (A.6). The third to fifth terms are mean zero conditional on F0 , so it suffices to show that their
variances conditional on W converge to zero. The variance of the third summand is bounded by
1
N

var

∑ X̃s ∑ wis Yi (0) | W
s

i

!

1
= 2
N

∑ EW σs2 ∑ wis Yi (0)
s

i

!2

1
 2
N

∑ EW ∑ wis Yi (0)
s

i

which converges to zero by Lemma A.2. The variance of the fourth term is bounded by
var

1
N

∑ ∑ wis wit X̃s Xt βit | W

s<t i

!

=

1
N2

∑ 0 ∑0 wis wit σs2 EW [Xt Xt0 ] βit wi0 s wi0 t0 βi0 t0

s<t,t i,i

8

!2

,



1
N2

∑0

s,t,t ,i,i0

wis wit wi0 s wi0 t0 ≤

1
N2

ns /N → 0.
∑ n2s ≤ max
s
s

Variance of the fifth term converges to zero by analogous arguments.
Combining eq. (A.4) with eq. (A.7) and Assumption A.1(ii) then yields the result.
A.1.4

Proof of Proposition 4

Using eq. (A.5), we have
1/2 0
1/2 0
0
0
−1 0
0
−1 0
r1/2
N ( Ẍ Ẍ )( β̂ − β ) = r N X ( I − Z ( Z Z ) Z )( Zδ + e ) = r N X ( I − Z ( Z Z ) Z ) e
1/2 0 0
1/2
0 0
0 0
= r1/2
N X̃ W e − r N γ U e − r N ( γ̂ − γ ) Z e.

The third term can be written as
1/2
1/2 0
0
0
0
0
−1
0
0
0 0
r1/2
N ( γ̂ − γ ) Z e = r N e Z ( Z Z ) ( Z W X̃ − Z Uγ ) = r N ( δ̌ − δ ) ( Z W X̃ − Z Uγ )

0
= (δ̌ − δ)0 (O p (1) − r1/2
N Z Uγ )

0
= o p (1) − O p (1) · qS r1/2
N Z Uγ = o p (1),

where the first line follows from the decomposition in eq. (A.3), the second line follows from eq. (A.2),
the third line follows by Assumption A.2(iv), and the last
q equality follows since by Cauchy-Schwarz
1/2
0
0 0
inequality and Assumption A.2(v), qS r N E[| Zk Uγ|]  q2S r N N ∑i E(Ui0 γ)2 → 0. Since r1/2
N γU e =
o p (1) by Assumption A.2(v), and since by eq. (A.4) and Assumption A.1(ii), ( Ẍ 0 Ẍ/N )−1 = (1 +
o p (1)) · ( N −1 ∑i,s πis )−1 , it follows that
1
N
( β̂ − β) = (1 + o p (1)) −1
r1/2 X̃s wis ei + o p (1).
1/2
2
N ∑i,s πis N ∑
(∑s ns )
s,i
Therefore, it suffices to show
r1/2
N ∑ X̃s wis ei = N (0, plim VN ) + o p (1).

(A.8)

s,i

Define Vi = Yi (0) − Zi0 δ + ∑t wit Zt0 γ( β it − β), and
as =

∑ wis Vi ,

bst =

i

∑ wis wit ( βit − β).
i

Then we can write ei = Vi + ∑t wit X̃t ( β it − β) + Li . Since
1/2
2 2 1/2
2 1/2
E|r1/2
E[ L2i ]1/2  r1/2
→0
N ∑ X̃s wis Li | ≤ r N ∑ ( ∑ Ewis σs )
N ∑ E [ Li ]
i,s

i

s

i

9

(A.9)

by Assumption A.2(iii), and since 0 = ∑i,s πis ( β is − β) = ∑s σs2 bss , we can decompose
1/2
r1/2
N ∑ X̃s wis ei = r N ∑ X̃s ∑ wis
s

s,i

i

Vi + ∑ wit X̃t ( β it − β) + Li
t

where
Ys = X̃s as + (X̃s2 − σs2 )bss +

!

= r1/2
N ∑ Ys + o P (1),
s

s −1

∑ X̃s X̃t (bst + bts ).

t =1

Observe that Ys is a martingale difference array with respect to the filtration Fs = σ(X1 , . . . , Xs , F0 ).
By the dominated convergence theorem and the martingale central limit theorem, it suffices to
show that r1N+ν/4 ∑Ss=1 EW [Ys2+ν/2 ] → 0 for some ν > 0 so that the Lindeberg condition holds, and that
the conditional variance converges,

rN

S

∑ E[Ys2 | Fs−1 ] − VN = o p (1).

s =1

To verify the Lindeberg condition, by the Cr -inequality, it suffices to show that
r2N ∑ EW [X̃s4 a4s ] → 0,
s

s −1

r2N ∑ EW

∑ X̃s X̃t bst

s

t =1

!4

2+ν/2
r1N+ν/4 ∑ EW [(X̃s2 − σs2 )2+ν/2 bss
] → 0,
s

s −1

r2N ∑ EW

→ 0,

∑ X̃s X̃t bts

s

t =1

!4

→ 0.

Note that since E(∑t wit Zt0 γ( β it − β))4  (∑t wit )4  1, it follows from Assumptions A.2(iii) and A.1(iv),
and the Cr inequality that the fourth moment of Vi exists and is bounded. Therefore, by arguments
as in the proof of Lemma A.2, ∑s EW [ a4s ]  ∑s n4s , so that
r2N ∑ EW [X̃s4 a4s ] = r2N ∑ EW [ E[X̃s4 | F0 ] a4s ]  r2N ∑ EW [ a4s ]  r2N ∑ n4s ≤ max n2s r N → 0
s

s

s

s

s

(A.10)

2 ≤ n ,
by Assumption 2(iii). Second, since β is is bounded by Assumption A.1(i), we have bss  ∑i wis
s
so that
2+ν/2
r1N+ν/4 ∑ EW [(X̃s2 − σs2 )2+ν/2 bss
]  r1N+ν/4 ∑ n2s +ν/2 ≤ (r N max n2s )ν/4 → 0.
s

s

s

Third, by similar arguments

r2N ∑ EW
s

s −1

∑ X̃s X̃t bst

t =1

!4



= r2N ∑ EW E[X̃s4 | F0 ] E 
s

s −1

∑ X̃t bst

t =1

!4

 r2N ∑
s



| F0 
s −1

∑ ∑ wis wit

t =1 i


4
−1
The claim that r2N ∑s EW ∑st=
X̃
X̃
b
→ 0 follows by similar arguments.
s t ts
1
10

!4

≤ r2N ∑ n4s → 0.
s

It remains to verify that the conditional variance converges. Since VN can be written as
VN =

1
∑Ss=1

n2s

var

∑ ( Xi −
i

Zi0 γ)ei
"

| F0

= rN ∑ E
s



!

= r N ∑ E[Ys2 | F0 ] + o P (1)
s

(X̃s as + (X̃s2

s −1



| F0 + ∑

− σs2 )bss )2

t =1

σs2 σt2 (bst

+ bts )

2

#

+ o p (1),

we can decompose
r N ∑ E[Ys2 | Fs−1 ] − VN = 2D1 + D2 + 2D3 + o p (1),
s

where
s −1

D1 = r N ∑(σs2 as + E[X̃s3 | F0 ]bss ) ∑ X̃t (bst + bts ),
s

t =1

s −1

D2 = r N ∑ σs2

∑ (X̃t2 − σt2 )(bst + bts )2 ,

s

t =1
s −1 t −1

D3 = r N ∑ σs2

∑ ∑ X̃t X̃u (bst + bts )(bsu + bus ).

s

t =1 u =1

It therefore suffices to show that D j = o p (1) for j = 1, 2, 3. Since E[ D j | F0 ] = 0, it suffices to show that

var( D j | W ) = EW [var( D j | F0 )] converges to zero. Since bst + bts  wst , and since EW [| as at |]  ns nt ,

and |bss |  wss ≤ ns , it follows that


S

var( D1 | W ) = r2N ∑ EW σt2
t

∑

s = t +1

!2 
(bst + bts )(σs2 as + E[X̃s3 | F0 ]bss ) 
S

∑

 r2N ∑
t

s = t +1

wst ns

!2

∑ wst

≤ r2N max n2s ∑
s

s

t

!2

= r N max n2s → 0,
s

where the convergence to zero follows by Assumption 2(iii). By similar arguments, since wst ≤ ns
var( D2 | W ) =

r2N

∑
t

EW (X̃t2

− σt2 )2

S

∑

s = t +1

σs2 (bst

+ bts )

2

!2



∑

r2N

t

S

∑

s = t +1
S

≤ r2N ∑

w2st

∑ ns wst

t

s =1

!2

!2

≤ r N max n2s → 0.
s

Finally,

var( D3 | W ) =

r2N

S

∑ ∑

t u = t +1



S

∑

EW σt2 σu2
r2N

s = u +1
S

∑ ∑

t u = t +1

σs2 (bst
S

∑

s = u +1

+ bts )(bsu + bus )

wst wsu

11

!2

≤ r2N

∑

!2

s,t,u,v

wst wsu wvt wvu ≤ r N max n2s → 0,
s

where the last line follows from the fact that since ∑s wst = nt and wst ≤ ns ,

∑

s,t,u,v

wst wsu wvt wvu ≤ max ns
s

∑

s,t,u,v

wsu wvt wvu = max ns ∑ nu nv wvu
s

u,v

≤ max n2s ∑ nv wvu = max n2s /r N . (A.11)
s

s

u,v

Consequently, D j = o p (1) for j = 1, 2, 3, the conditional variance converges, and the theorem follows.
A.1.5

Proof of Proposition 5

We’ll prove a more general result that doesn’t assume constant treatment effects. In particular, we
will show that under the conditions of the proposition when the condition β is = β is dropped, the
b s R̂2s , where r N = 1/ ∑Ss=1 n2s satisfies
variance estimator V̂N = r N ∑s X
V̂N = r N

S

∑ E[X̃s2 R2s | F0 ] + o p (1),

(A.12)

s =1

where, using the definitions of as and bst in eq. (A.9),
Rs =

N

N

S

i =1

i =1

t =1

∑ wis ei = as + ∑ wis Li + ∑ X̃t bst .

Since under constant treatment effects, VN = r N ∑Ss=1 E[X̃s2 R2s | F0 ], the assertion of the proposition
follows from eq. (A.12).
Throughout the proof, we write EF0 [·] and EW [·] to denote expectations conditional on F0 , and W,
respectively. Let θ̃ = ( β̃, δ̃0 )0 , θ = ( β, δ), Mi = ( Xi , Zi0 )0 . We can decompose the variance estimator as
b s2 − X̃s2 ) R̂2s + r N ∑ X̃s2 ( R̂2s − R2s ) + r N ∑(X̃s2 R2s − EF [X̃s2 R2s ]) + r N ∑ EF [X̃s2 R2s ].
V̂N = r N ∑(X
0
0
s

s

s

s

We need to show that the first three terms are o p (1). Since ẽi = ei +

Mi0 (θ

∑t wit X̃t ( β it − β), we can decompose
R̂2s =

(A.13)

− θ̃ ), with ei = Vi + Li +

∑ wis w js ẽi ẽj = R2s + 2 ∑ w js wis Mi0 (θ − θ̃ )ej + ∑ wis w js Mi0 (θ − θ̃ ) M0j (θ − θ̃ ).
i,j

i,j

(A.14)

i,j

Therefore, the second term in eq. (A.13) satisfies
rN ∑
s

X̃s2 ( R̂2s

−

R2s )

= 2(θ − θ̃ )

0

"

rN ∑

s,i,j

wis w js X̃s2 Mi e j

#

+ (θ − θ̃ )

0

"

rN ∑

s,i,j

X̃s2 wis w js Mi M0j

#

(θ − θ̃ )

= (θ − θ̃ )0 O p (1) + (θ − θ̃ )0 O p (1)(θ − θ̃ ) = o p (1),
where the second line follows by applying Lemma A.3 to the terms in square brackets. Next, the
third term in (A.13) can be decomposed as

12

r N ∑(X̃s2 R2s − EF0 [X̃s2 R2s ]) =
s

2
2
2
+ r N ∑ bss
(X̃s4 − EF0 [Xs4 ]) + r N ∑ (bst
+ bts
)(X̃s2 X̃t2 − σs2 σt2 ) + 2r N ∑ ∑ bst bsu X̃s2 X̃t X̃u
s

+ rN ∑
s

s t<u

s<t

(X̃s2

− σs2 ) a2s

+ rN ∑

i,j,s

w js wis (X̃s2 Li L j

−

EF0 [X̃s2 Li L j ]) + 2r N

∑ wis as (X̃s2 Li − EF [X̃s2 Li ])
0

i,s

+ 2r N ∑ as bst X̃s2 X̃t + 2r N ∑ at bts X̃t2 X̃s + 2r N ∑ as bss (X̃s3 − EF0 [X̃s3 ])
s<t

s

s<t

+ r N ∑ wis bst (X̃s2 X̃t Li − EF0 [X̃s2 X̃t Li ]). (A.15)
i,s,t

We will show that all terms are of the order o p (1). By the inequality of von Bahr and Esseen, since bss
is bounded by a constant times wss ≤ ns ,
2
EF0 |r N ∑ bss
(X̃s4 − EF0 [Xs4 ])|
s

1+ν/4

 r1N+ν/4 ∑ n2s +ν/2 EF0 |(X̃s4 − EF0 [Xs4 ])|1+ν/4 ≤ (max n2s r N )ν/4 → 0
s

s

by Assumption 2(iii), so that the first term is o p (1). The second term can be written as
2
2
r N ∑ (bst
+ bts
)(X̃s2 − σs2 )(X̃t2 − σt2 ) + r N
s<t

∑ (bst2 + bts2 )(X̃s2 − σs2 )σt2

s6=t

The conditional variance of both summands is bounded by a constant times r2N ∑s (∑t w2st )2 ≤ r2N ·
∑s n4s → 0, so that the second term is also o p (1). The third term admits the decomposition
2r N ∑ ∑ bst bsu X̃s2 X̃t X̃u = 2r N ∑
s t<u

∑

s,t s6∈{t,u}

2r N

bst bsu X̃s2 X̃t X̃u + 2r N

∑ btt btu EF [X̃t3 ]X̃u

t6=u

0

∑ btt btu (X̃t3 − EF [X̃t3 ])X̃u + 2r N ∑ btt btu (X̃t3 − EF [X̃t3 ])X̃u .
0

u<t

t<u

0

The conditional variance of the first summand is bounded by a constant times r2N ∑t,u,s,v wst wsu wvt wvu ,
which converges to zero by the inequality in eq. (A.11). The conditional variance of the second
summand is bounded by a constant times r2N ∑s,t,u wtt wtu wss wsu ≤ r2N maxs n2s ∑s n2s → 0. Since

(X̃t3 − EF0 [X̃t3 ]) ∑tu−=11 btt btu X̃u and X̃u ∑ut=−11 btt btu (X̃t3 − EF0 [X̃t3 ]) are both martingale differences, by
the inequality of von Bahr and Esseen, the 4/3-th absolute moment of the last two terms is bounded
4/3 4/3
2
1/3 r
2
by a constant times r4/3
N ∑t nt → 0. Thus, all summands in the above
N ∑s,t wtt wts ≤ (maxs ns r N )
display are of the order o p (1), and the third term in eq. (A.15) is therefore also o p (1). The fourth term
is o p (1) by arguments in eq. (A.10). By the triangle and Cauchy-Schwarz inequalities, the conditional
expectation of the absolute value of the fifth term is bounded by
2r N ∑ w js wis EW [X̃s4 ]1/2 EW [ L4i ]1/4 EW [ L4j ]1/4  max EW [ L4j ]1/2 → 0.
i

i,j,s

Similarly, conditional expectation of the absolute value of the sixth term is bounded by
4r N ∑ wis w js EW [Vj4 ]1/4 E[X̃s4 ]1/2 EW [ L4i ]1/4  max EW [ L4j ]1/4 → 0.
i

i,j,s

13

Thus, by the Markov inequality, the fifth and sixth terms are both of the order o p (1). The conditional variance of the seventh and eighth terms is bounded by a constant times r2N ∑s,t,u ns nu wst wut ≤

r N maxs n2s → 0, so that they are both o p (1) by Markov inequality. By the inequality of von Bahr

and Esseen, the 4/3-th absolute moment of the last ninth term is bounded by a constant times

4/3 4/3
r4/3
]ns  (maxs n2s r N )1/3 → 0, since by Jensen’s inequality, E| as |4/3 ≤ ( Ea2s )2/3 , which
N ∑s EW [| as |

is bounded by a constant times n4/3
s . Finally, the expectation of the absolute value of the last term
in eq. (A.15) is bounded by a constant times
r N ∑ wis wst EW [X̃s4 ]1/2 EW [X̃t4 ]1/4 EW [ L4i ]1/4  max EW [ L4i ]1/4 → 0.
i

i,s,t

It remains to show that the first term in eq. (A.13) is o p (1). It follows from eq. (A.5) and eq. (24)
that
b = (W 0 W )−1 W 0 Ẍ = X̃ − (W 0 W )−1 W 0 U (γ̂ − γ) − Z (γ̂ − γ) − (W 0 W )−1 W 0 Uγ,
X

4 =
where γ̂ = ( Z 0 Z )−1 Z 0 X. Let U = (W 0 W )−1 W 0 U, and denote the sth row by Us0 . Since Usk

(∑i ((W 0 W )−1 W 0 )si Uik )4 , it follows by the Cauchy-Schwarz inequality that

4
E[Usk
| W ] ≤ max E[(∑((W 0 W )−1 W 0 )si Uik )4 | W ]  max(∑|((W 0 W )−1 W 0 )si |)4 ,
s

s

i

i

which is bounded assumption of the proposition. Therefore, the fourth moments of Us are bounded
uniformly over s. Observe also that EW [ei4 ] is bounded uniformly over s by assumptions of the
proposition. Therefore, by applying Lemma A.3 after using the expansion in eq. (A.14), we get
b s2 − X̃s2 ) R̂2s = r N ∑ R̂2s (Us0 γ)2 − 2r N ∑ R̂2s X̃s Us0 γ
r N ∑ (X
s

s

s


+ r N ∑ R̂s 2Us0 γ − 2X̃s + (Zs + Us )0 (γ̂ − γ) (Zs + Us )0 (γ̂ − γ)
s


2

= r N ∑ R2s (Us0 γ)2 − 2r N ∑ R2s X̃s Us0 γ + O p (1)(γ̂ − γ) + o p (1).
s

s

By Cauchy-Schwarz inequality,
r N ∑ EW | R2s (Us0 γ)2 | ≤ r N ∑( EW [ R4s ])1/2 ( EW (Us0 γ)4 )1/2  max( EW (Us0 γ)4 )1/2 r N ∑ n2s → 0,
s

s

s

s

since maxs EW [(Us0 γ)4 ]  maxi EW (Ui0 γ)4 maxs (∑i |((W 0 W )−1 W 0 )si |)4 , which converges to zero by as-

sumption of the proposition. By similar arguments, 2r N ∑s EW | R2s X̃s Us0 γ| → 0 also, so that
b s2 − X̃s2 ) R̂2s = o p (1) + O p (1)(γ̂ − γ) = o p (1),
r N ∑ (X
s

where the second equality follows from eq. (A.3).

14

A.1.6

Inference under heterogeneous effects

For valid (but perhaps conservative) inference under heterogeneous effects, we need to ensure that
when β is 6= β, eq. (32) holds with inequality, that is,
b s2 R̂2s
∑Ss=1 X
≥ VN + o p (1).
∑Ss=1 n2s

(A.16)

To discuss conditions under which this is the case, suppose, for simplicity, that Li = 0 so that eq. (11)
holds, and Rs = ∑s wis ei , where ei = Yi (0) − Zi0 δ + ∑s Xs wis ( β is − β) is the regression residual. Then
the “middle sandwich” in the asymptotic variance sandwich formula, VN , as defined in Proposition 4,
can be decomposed into three terms:
VN =

var ∑s X̃s Rs | F0
∑Ss=1 n2s



=

∑s6=t cov(X̃s Rs , X̃t Rt | F0 )
∑s E[X̃s2 R2s | F0 ] ∑s E[X̃s Rs | F0 ]2
−
+
S
S
2
2
∑ s =1 n s
∑ s =1 n s
∑Ss=1 n2s

= D1 + D2 + D3 , (A.17)
where
∑ E[X̃s2 R2s | F0 ]
D1 = s
,
∑Ss=1 n2s
∑s6=t σs2 σt2 ∑i,j wis wit ( β it − β)w jt w js ( β js − β)
D3 =
.
∑Ss=1 n2s

2 ( β − β)
∑s ∑i σs2 wis
is
D2 = −
S
2
∑ s =1 n s

2

,

As shown in the proof of Proposition 5 (see eq. (A.12)), the standard error estimator consistently
estimates D1 . Under homogeneous effects, D2 = D3 = 0, and it follows that the standard error
estimator is consistent. To ensure valid inference under heterogeneous effects, one needs to ensure
that D2 + D3 ≤ o p (1). This is the case under several sufficient conditions, and we give two such
conditions below.

The term D2 reflects the variability of the treatment effect and it is always negative. It therefore
makes the variance estimate that we propose conservative if D3 = o p (1). An analogous term, also
reflecting the variability of the treatment effect, is present in randomized, and cluster-randomized
trials, which is why the robust and cluster-robust standard error estimators yield conservative inference in these settings (see, for example Imbens and Rubin, 2015, Chapter 6). The term D3 reflects
correlation between the treatment effects. It arises due to aggregating the sectoral shocks Xs to a
regional level to form the shifter Xi , and it has no analog in cluster-randomized trials. Indeed, in the
example with “concentrated sectors”, which is analogous to cluster-randomized trials if there are no
covariates, the term equals zero, since in that case wis wit = 0 for s 6= t. Our standard errors are thus

valid, although conservative, in this case.

More generally, a sufficient condition for validity of our standard error estimator under treatment
effect heterogeneity is that TN = ∑s6=t (∑i wis wit )2 / ∑s n2s → 0, since D3 = O p ( TN ). The condition
TN → 0 requires that the shares are sufficiently concentrated so that not too many regions “specialize”
in more than one sector (in the sense that the sectoral share wis is bounded away from zero as S → ∞
15

for more than one sector). For example, TN → 0 if the share of the second-largest sector goes to zero
as S → ∞, that is maxi,s6=si wis → 0, where si denotes the largest sector in region i. This follows from
the inequalities

∑ ∑ wis wit w js w jt = ∑
i,j s6=t

i,j,s,t

≤

∑

i,j,s,t

I (s = si , t 6= si )wis wit w js w jt + ∑ ∑ I (s 6= si )wis wit w js w jt
I (t 6= si )wis wit w js w jt +

≤ 2 max wis
i,s6=si

∑

i,j,s,t

∑

i,j,s,t

i,j s6=t

I (s 6= si )wis wit w js w jt

wit w js w jt ≤ 2 max wis ∑ n2t = o (r N ).
i,s6=si

t

For illustration, in the empirical application in Section 7.1, TN = 0.0014.
A second sufficient condition for the asymptotic negligibility of D3 is that the conditional variance
of the shifters Xs , σs2 = E[(Xs − Zs0 γ)2 | F0 ] and the weighted treatment effects σs2 β is are mean-

independent of the shares W, provided some additional mild regularity conditions are satisfied, as
shown in the lemma below. Importantly, this condition still allows the treatment effects to depend
on the controls Z, or other aspects of the model, such as Yi (0): the covariance assumptions in the
lemma allow the treatment effects β is to be correlated within a region and/or within a sector. The
2 w2 /
2
assumption that ∑i ∑s6=t wis
it ∑s0 ns0 → 0 holds if either a vanishing fraction of regions “specialize”

in more than one sector (in the sense that the sectoral share wis is bounded away from zero as S → ∞

for more than one sector). It also holds if S/ ∑s ns → 0, that is, the number of regions grows faster
than the number of sectors.2 For illustration, the quantity equals 0.00022 in the empirical example in
Section 7.1. The lemma uses the notation defined at the beginning of Appendix A.1.5.
Lemma A.4. Suppose that the assumptions of Proposition 4 hold. Suppose, in addition, that the conditional
expectations E[σs2 β is | W ] = E[(Xs − Zs0 γ)2 β is | W ] and E[σs2 | W ] = E[(Xs − Zs0 γ)2 | W ] do not depend

on W, i, or s. Suppose also that cov(σs2 β is , σt2 β jt | W ) = 0 unless i = j or s = t, that cov((σs2 β is , σs2 ), σt2 |

2 w2 /
2
W ) = 0 unless s = t, and that ∑s6=t ∑i wis
it ∑s ns → 0. Then D3 = o p (1).

Proof. By Assumptions A.1(i) and A.1(iii),
rN

∑ ∑ EW |σs2 σt2 wis2 wit2 ( βit − β)( β js − β)|  r N ∑ ∑ wis2 wit2 ,

s6=t i

s6=t i

and the right-hand side converges to zero by assumption of the lemma. Therefore, by Markov inequality, D3 = r N ∑s6=t ∑i6= j wis wit σt2 ( β it − β)w jt w js σs2 ( β js − β) + o p (1). By Assumptions A.1(i), A.2(iii)

2 σ2 β /N and of
2 σ2 /N conand A.1(iv), and assumptions of the lemma, the variance of ∑i,s wis
∑i,s wis
s is
s
2
2
2
2
2
2
ditional on W is bounded by a constant times ∑i,j,s wis w js /N + ∑i,s,t wis wit /N ≤ 2 maxs ns /N → 0.

Therefore, by Assumption A.1(ii), β = µ/σ + o p (1), where µ = EW [(Xs − Zs0 γ)2 β is ] and σ = EW [σs2 ].

It then follows that
D3 = r N

∑ ∑ wis wit w jt w js (σs2 β js − µ)(σt2 βit − µ) − 2r N ∑ ∑ wis wit w jt w js (µ − σt2 µ/σ)(σs2 β js − µ)

s6=t i 6= j
2 This

s6=t i 6= j

2 w2 ≤
follows from the inequalities ∑i,s,t wis
∑s ns , and ∑s n2s ≥ (∑s ns )2 /S.
it

16

+ r N ∑ ∑ wis wit w jt w js (µ − σs2 µ/σ)(µ − σt2 µ/σ) + o p (1).
s6=t i 6= j

Each term in the above display has mean zero, and variance bounded by a constant times
r2N

∑ (∑ wis wit w jt w js )2 + r2N ∑( ∑ wis wit w jt w js )2

s6=t i 6= j

i 6= j s6=t

≤ r2N max n2s
s

∑

i,j,s,t

wis wit w js w jt + r2N

∑

i,j,s,t

wit w jt wis w js ≤ 2r N max n2s → 0.
s

Therefore, D3 = o p (1) by Markov inequality and dominated convergence theorem.
Although both the condition TN → 0 and the conditions in Lemma A.4 may be restrictive in

some applications, note that both of these conditions are merely sufficient, but not necessary for
D3 + D2 ≤ o p (1).

A.2 Proofs and additional details for IV regression
We prove eqs. (38) and (45), and show that the bias of the estimator α̃ is of the order

1
N

∑i,s wis w̌is /ňs .
We also discuss how the case with estimated shifters relates to the literature on many instruments.
A.2.1

Assumptions

To compactly state the assumptions, let F0 = (Z, U, Y1 (0), Y2 (0), B, W, W̌ ), and put W̌ = W, and
ψis = 0 if the shifters X are observed.
We impose an instrumental variables version of the regularity conditions Assumptions A.1 and A.2:
Assumption A.3. (i) For some ν > 0, E[Xs2+ν | F0 ] exists and is uniformly bounded. The support

of β is is bounded. Conditional on (W, W̌ ), the second moments of Y1i (0), Y2i (0), Ui and Zs exist,

and are bounded uniformly over i and s. Z 0 Z/N converges in probability to a positive definite nonrandom limits; (ii) For some ν > 0, E[|Xs |4+ν | F0 , Ψ] is uniformly bounded, and Xs are independent

across s conditional on (F0 , Ψ), with E[Xs | F0 , Ψ] = E[Xs | Z ]. Conditional on (W, W̌ ), the fourth

moments of Y1i (0), Ui and Zs exist, and are bounded uniformly over i and s. Assumption A.2(iv) and
Assumption A.2(v) hold δ = E[ Z 0 Z ]−1 E[ Z 0 Y1 (0)], δ̌ = ( Z 0 Z )−1 Z 0 Y1 (0), and ei = Y1i − Y2i α − Zi0 δ.
Assumption A.3(i) is needed for consistency, and Assumption A.3(ii) is needed for asymptotic
normality. When the shifters are observed, these assumptions are natural analogs of the regularity conditions in the OLS case that are needed for consistency (Assumptions A.1(i) and A.1(iii)
and Assumptions A.2(i) and A.2(ii)) and asymptotic normality (Assumption A.1(iv) and Assumptions A.2(iii) to A.2(v)). When the shifters are not directly observed, Assumption A.3(ii) strengthens
Assumption 4(ii) so that it holds conditionally on Ψ also.
If Xi is not observed, we need to impose additional conditions on ψis and the weights w̌is :
Assumption A.4. Let A−i denote the vector A with the ith element removed. Let F−i = σ(Y1,−i (0),

2 ψ2 | F ] is bounded by a uniY2,−i (0), U−i , W, W̌, Z ). (i) For all s and i, E[w̌is ψis | F−i ] = 0, and E[w̌is
0
is
2 ; (ii) For all s, t, and all i 6 = j, E [ w̌ w̌ ψ ψ | F ] = 0; (iii) max w̌ / N w̌
versal constant times w̌is
is jt is jt
−i
i,s is ∑ j=1 js

17

is bounded away from 1; (iv) maxi ∑s

ns
ňs w̌is

is bounded; (v) There exist variables {Ci , ηi }iN=1 such that

(Yi1 (0), Ui ) = Ci + ηi , and conditional on (C, W, Z ), {w̌i1 ψi1 , . . . , w̌iS ψiS , ηi } are independent across
i, with uniformly bounded second moments, and E[(w̌is ψis , ηi ) | C, W, W̌, Z ] = 0. Conditional on
(W, W̌ ), the fourth moments of ηi and Ci are uniformly bounded; (vi) EW,W̌ [w̌is ψjs ]4 is bounded by a
4 ; (vii) N/ (
constant times w̌is
∑s n2s )2 → 0.
Assumption A.4(i) requires that the local shock ψis in region i is mean zero, and unrelated to the
regional variables (Y1j (0), Y2j (0), Uj ) in other regions. Importantly, it allows these local shocks to be
correlated with the regional variables in region i. In particular, in some applications, it may be the
case that Y2i = ∑s wis Xis + ηi , with the additional term ηi potentially zero. In this case ψis is always
mechanically correlated with Y2i (and hence also Y1i if there is endogeneity). As we will show below,
this correlation causes bias in the estimator α̃ that ignores the estimation error in the shifters.
Assumption A.4(ii) requires that these local shocks are uncorrelated across regions: this ensures
consistency of the leave-one-out estimator. One could relax this assumption and instead only require
no correlation across clusters of regions, in which case one would have to leave out region i’s cluster
when constructing an estimate of Xi . The local shocks are allowed to be correlated across industries
in the same region. The scaling by w̌is in the statement of the assumption allows for the possibility
that Xis gives an uninformative signal about Xs if w̌is = 0. Assumption A.4(iii) imposes two mild
regularity conditions on the weights; it ensures that no single weight w̌is is so large that it dominates
a particular sector, which is necessary for the leave-one-out estimator to be well-defined.
Assumption A.4(iv) ensures that the weights w̌is are balanced in the sense that no single region
i is asymptotically non-negligible. The condition holds under equal weighting, w̌is = 1, since in
this case ∑s ns w̌is /ňs = ∑s ns /N ≤ 1. Oftentimes, the weights w̌is take the form w̌is = Li wis , where
Li is a measure of the size or region i. In this case, ∑s ns w̌is /ňs = ∑s LiLwis , where Ls = ňs /ns =
s
∑i Li wis / ∑ j w js is the sector-weighted average size of a region. Thus, the condition requires that the
sector-weighted size of region i, wis Li , is non-negligible relative to the national average for at most
a fixed number of sectors. Since ∑s ns w̌is /ňs ≤
largest to the smallest region is bounded.

maxi Li
min j L j ,

a sufficient condition is that the ratio of the

Assumptions A.4(v) to A.4(vii) are only needed for asymptotic normality. Assumption A.4(v)
effectively imposes that only the part of (Yi1 (0), Ui ) that’s independent of ψi is allowed to be correlated
across i; the part that’s related to ψi must be independent across i. Assumption A.4(vii) imposes a
very mild condition on the sector sizes, and holds, for example, if ns ≥ 1.
A.2.2

Asymptotic results

When the shifters are observed, we obtain the following result, which implies eq. (38) in the main
text:
Proposition A.1. Suppose that Assumptions 2(i) and 2(ii) and Assumption 4 hold with F0 = (Z, U, Y1 (0),
Y2 (0), B, W ), and that Assumption A.3(i) holds. Then the estimator α̂ in eq. (36) is consistent. If, in addition,
Assumption 2(iii) and Assumption A.3(ii) hold, then α̂ satisfies eq. (38), provided VN converges to a non-random
limit.
18

The consistency result follows since by arguments analogous to those in the proof of Proposition 3
2 β + o (1).
(see, in particular, eq. (A.7)), N −1 ∑i Ẍi Y1i (0) = o p (1), and N −1 ∑i Ẍi Y2i (0) = N −1 ∑i,s σs2 wis
p
is
2 β 6 = 0 by Assumption 4(iv), it follows by Slutsky’s lemma that
Furthermore, since N −1 ∑i,s σs2 wis
is

α̂ − α =

N −1 ∑i Ẍi Y1i (0)
= o p (1).
N −1 ∑i Ẍi Y2i (0)

The asymptotic normality result follows since r1/2
N ∑i Ẍi Y1i (0) = N (0, VN ) + o p (1) by arguments analogous to those in proof of Proposition 4 (see, in particular, eq. (A.8)).
Proposition A.2. Suppose that Assumptions 2(i) and 2(ii) and Assumption 4 hold with F0 = (Z, U, Y1 (0),
Y2 (0), B, W, W̌ ), and that Assumption A.3(i) and Assumptions A.4(i)
 Then the estimator α̂− is
 to A.4(iv) hold.
wis w̌is
1
consistent for α. Furthermore, the estimator α̃ satisfies α̃ = α + O p N ∑i,s ňs , provided that ( X̂¨ 0 Y2 /N )2
converges to a strictly positive probability limit.
The asymptotic bias α̃ is analogous to the own observation bias of the two-stage least squares
(2SLS) estimator in settings with many instruments. To see the connection, consider the special
case in which Y2i = ∑s wis Xis = ∑s wis Xs + ∑s wis ψis , and each region specializes in a single sector,
wis = I{s(i ) = s}, with w̌is = wis . Then we can write Y2i = Xs(i) + ψis(i) , and X̂i = n1s ∑i I{s(i ) = s}Y2i .

This setting is isomorphic to a many instrument setting, where the instruments are group indicators
I{s(i ) = s}, individuals are assigned to groups, and the average treatment intensity depends on

group membership (for example, the endogenous variable may be the length of a sentence, the groups
are groups of individuals assigned to the same judge, and judges differ in their average sentencing
severity Xs ). Then the first-stage predictor used by the 2SLS estimator is X̂i . Since X̂i puts weight
1/ns on the first-stage regression error ψis(i) , this generates a bias in the 2SLS estimate, which persists
in large samples unless the weight 1/ns is negligible. In our setting, Proposition A.2 shows that the

w w̌
w̌
∑i,s isňs is ≤ N1 ∑i,s ňiss = S/N. Thus, a sufficient condition for consistency is
that the number of sectors grows more slowly than the number of regions. This is analogous to the
1
N

bias is of the order

requirement for 2SLS consistency in the many instruments literature that the number of instruments
grows more slowly than the number of observations.
Proposition A.3. Suppose that Assumptions 2 and 4 hold with F0 = (Z, U, Y1 (0), Y2 (0), B, W, W̌ ), and
that Assumptions A.3 and A.4 hold. Suppose that VN and WN , defined in eq. (45), converge in probability to
non-random limits. Then
q

N
∑Ss=1

n2s

(α̂− − α) = N 0,

VN + WN
1
N

∑i Ẍi Y2i

2

!

+ o p (1).

The additional term WN in the expression for the asymptotic variance of α̂− , which is absent if X

is observed, is of the order
1
∑s n2s

∑ ∑
j

s

ns w̌ js
ňs

!2

+

1
∑s n2s

wis w̌ js w jt w̌it
N+S

 S/N + (S/N )2 ,
2
ň
ň
n
∑
s
t
s
s
i,j,s,t

∑

19

where the second inequality follows Assumption A.4(iv), and the last inequality follows by `1 -`2
p
norm inequality S ∑s n2s ≥ ∑s ns , and we assume that ∑s wis is bounded away from zero so that
∑s ns is of the same order as N. Therefore, if the number of regions grows faster than the number
of sectors, the term will be asymptotically negligible. This is similar to the result in the many IV
literature that the usual standard error formula for the jackknife IV estimator is valid if the number
of instruments grows more slowly than the sample size. The term WN also has a similar structure to
the many-instrument term in the standard error for jackknife IV (see Chao et al. (2012)).
A.2.3

Proof of Proposition A.2

By the arguments in the proof of Proposition 3, for the first part of the proposition, it suffices to show
that ( X̂¨ − Ẍ )0 Y /N = o (1) and ( X̂¨ − Ẍ )0 Y /N = o (1), which in turn follows if we can show that
−

p

1

for Ai ∈ {Y1i , Y2i , Zi },

1
N

p

2

−

1
N

∑(X̂i,− − Xi ) Ai =
i

∑ I{ j 6 = i }
j,i,s

wis w̌ js
ψjs Ai = o p (1),
ňs,−i

(A.18)

where ňs,−i = ∑ N
j=1 w̌ js − wˇis . By Assumption A.4(i), conditional on W, this term has mean zero. Since
by Assumption A.4(ii), I{ j 6= j0 } I{ j 6= i } I{ j0 6= i0 } EW,W̌ [w js ψjs Ai · w j0 t ψj0 t Ai0 ] = 0 unless j = i0 and
j0 = i, the variance of this term is given by
1
N2

∑0

j,i,i ,s,t

I{ j 6= i, i0 }wis wi0 t

EW,W̌ [w̌ js ψjs Ai w̌ jt ψjt Ai0 ]
ňs,−i ňt,−i0
1
N2

+

∑

j,i,s,t

I{ j 6= i }wis w jt

EW,W̌ [w̌ js ψjs w̌it ψit Ai A j ]
ňs,−i ňt,− j

.

Now, by Assumption A.3(i), EW,W̌ [w̌ js ψjs Ai w̌ jt ψjt Ai0 ]  w̌ js w̌ jt EW,W̌ [ Ai Ai0 ], which is bounded by a

constant times w̌ js w̌ jt since the second moment of Ai is uniformly bounded by Assumption A.4(i).
Similarly, EW,W̌ [w̌ js ψjs w̌it ψit Ai A j ] is bounded by a constant times w̌ js w̌it . Therefore, the expression in
the preceding display is bounded by a constant times
1
N2

∑0

j,i,i ,s,t

wis wi0 t

w̌ js w̌ jt
1
+ 2
ňs,−i ňt,−i0
N

∑

j,i,s,t

wis w jt

w̌ js w̌it
ňs,−i ňt,− j

≤
w̌ w̌

1
max
N 2 is

ň2s
ň2s,−i



∑
j

w̌

w̌ js

∑ ns ňs
s

!2
w̌



+ N 

1
,
N

where the first inequality follows since ∑ j,i,s,t wis w jt ňjss ňtit ≤ ∑ j,i,s,t wis w jt ňjss ≤ ∑ j,s ns ňjss = N, and the
second inequality follows since Assumption A.4(iii) implies maxis ňs /ňs,−i = 1/(1 − maxis w̌is /ňis ) is

2
w̌
 ∑ j 1 = N. Therefore, eq. (A.18)
bounded, and since Assumption A.4(iv) implies that ∑ j ∑s ns ňjss
holds by Markov inequality and the dominated convergence theorem.

20

To show the second part of the proposition, decompose
1
N

∑ Ai (X̂i − X̂i,− ) =
i

1
N

∑
i,s

wis w̌is
1
ψis Ai −
N
ňs

w̌is wis w̌ js
ψjs Ai .
ňs,−i

∑ I{ j 6= i} ňs

i,j,s

By arguments similar to those above, conditional on (W, W̌ ), the second term has mean zero and
variance that converges to zero. By Assumption A.4(i) and Jensen’s inequality, the mean of the
first term is of the order N1 ∑i,s wisňw̌s is . Consequently, provided that ( X̂¨ 0 Y2 /N )2 converges to a strictly
positive limit, we have
O p ( N1 ∑i,s wisňw̌s is )
α̃ − α =
= Op
X̂¨ 0 Y /N
2

1
N

∑
i,s

wis w̌is
ňs

!

,

as required.
A.2.4

Proof of Proposition A.3

1/2 ˆ 0
1/2 ˆ 0
ˆ0
−1
2 σ2 )−1 (1 + o (1)), it
Since Nr1/2
∑i,s wis
P
s
N ( α̂− − α ) = r N Ẍ− Y1 (0) / Ẍ− Y2 /N = r N Ẍ− Y1 (0) · ( β FS N

suffices to show that

ˆ0
r1/2
N Ẍ− Y1 (0) = N (0, VN + WN ) + o p (1).

By arguments as in the proof of Proposition 4,
1/2
0
ˆ0
r1/2
N Ẍ− Y1 (0) = r N (W X̃ − Uγ + ( X̂− − X )) ( Z ( δ − δ̌ ) + e∆ )

1/2
0
0
= r1/2
N (W X̃ ) e∆ + r N ( X̂− − X ) ( Z ( δ − δ̌ ) + e∆ ) + o p (1)

0
= r1/2
N (W X̃ + ( X̂− − X )) e∆ + o p (1),

0 δ−
where the last line follows since ( X̂− − X )0 Z/N = o p (1) by eq. (A.18). Let C∆,i = CiY (0) − CiU
0 δ, so that e
0
∑s wis Zs0 δ and η∆,i = ηiY (0) − ηiU
∆,i = Yi1 (0) − Zi δ = η∆,i + C∆,i . Then we can decompose
1/2
0
r1/2
N (W X̃ + ( X̂− − X )) e∆ = r N

N +S

∑

j =1

Yj ,

where

h
wis w̌ js ψjs η∆,i
∑ N ∑S wis w̌ js I{ j6=i}ψjs C∆,i + ∑ j−1 ∑S
+
i =1 s =1
i =1 s =1
ňs,−i
ňs,−i
Yj =
X̃
e ,
∑ w
j− N

i

w̌is w js η∆,j ψis
ňs,− j

i,j− N ∆,i

i

,

j = 1, . . . , N,
j = N + 1, . . . , N + S.

Let H denote the matrix with rows ηi0 , and define the σ-fields Gi = σ(W, W̌, Z, C, η1 , . . . , , ηi , ψ1 ,
. . . , ψi ), i = 1, . . . , N, Gi = σ(W, W̌, Z, C, H, Ψ, X1 , . . . , Xj− N ), j = N + 1, . . . , N + S. Then, under

Assumption A.4(v), Yj is a martingale difference array with respect to the filtration Gj . Since by
2+ν/2
+S
the arguments in the proof of Proposition 4, r1N+ν/4 ∑ N
] → 0, and r N ∑ jN=+NS+1 E[Yj2 |
j= N +1 EW,W̌ [Yj

N
4
2
Gj−1 ] − VN = o p (1), it suffices to show that r2N ∑ N
j=1 EW,W̌ [Yj ] → 0, and r N ∑ j=1 E [Yj | Gj−1 ] − WN =

o p (1). The result then follows by a martingale central limit theorem.
21

Since ňs /ňs,−i is bounded, and ∑s w js ≤ 1, and since ∑Ss=1

we have the bound
r2N

N

∑ EW,W̌

j =1

j −1 S

ψjs η∆,i
∑ ∑ wis w̌ js ňs,−i
i =1 s =1

!4

ns w̌ js
ňs

j −1 S

wis w̌ js
∑ ∑ ňs
i =1 s =1

 r2N ∑
j

is bounded by Assumption A.4(iv),

!4

≤ r2N

N

S

ns w̌ js
∑ ňs
s =1

∑

j =1

!4

≤ r2N N,

which converges to zero by Assumption A.4(vii). By an analogous argument, the conditional expecta



I{ j6=i }ψjs C∆,i 4
η∆,j ψis 4
j −1 S
N
S
N
2
w
w̌
tion of r2N ∑ N
w̌
w
is also bounded
and
of
r
∑
∑
∑
∑
∑
i =1 s=1 is js
j =1
N j =1
i =1 s=1 is js ňs,− j
ňs,−i
4
by r2N N, so that r2N ∑ N
j=1 EW,W̌ [Yj ] → 0 by Cr -inequality.

2
It remains to show that the conditional variance r N ∑ N
j=1 E [Yj | Gj−1 ] converges. Expanding the

expectation yields
rN

N

∑ E[Yj2 | Gj−1 ] = 2r N

j =1

j −1

∑ ∑0

i,j,s,t i

+ 2r N

I{ j 6= i } EG0 [w̌ js w̌ jt ψjs ψjt ] wis wi0 t C∆,i η∆,i0
ňs,−i
ňt,−i0
j −1

I{ j 6= i } EG0 [w̌ js w jt ψjs η∆,j ] wis w̌i0 t C∆,i ψi0 t
ňs,−i
ňt,− j
i,j,s,t i =1

∑ ∑
0

j −1 j −1

+ rN ∑ ∑

I{ i 6 = i 0 }
∑
0

j,s,t i =1 i =1

EG0 [w̌ js w̌ jt ψjs ψjt ] wi0 t wis η∆,i η∆,i0
ňs,−i
ňt,−i0

j −1 j −1

+ 2r N ∑ ∑

I{ i 6 = i 0 }
∑
0

j,s,t i =1 i =1
j −1 j −1

rN ∑ ∑

∑ I{ i 6 = i }
0

EG0 [w̌ js w jt ψjs η∆,j ] wis w̌i0 t η∆,i ψi0 t
ňs,−i
ňt,− j

2 ]
w jt w js EG0 [η∆,j
w̌i0 t w̌is ψi0 t ψis

ňs,− j

j,s,t i =1 i0 =1

j −1

+ rN ∑ ∑

j,s,t i =1

ňt,− j

j −1
w jt w js EG0 [η∆,j η∆,j ] w̌is w̌it ψis ψit
EG [w̌ js w jt ψjs η∆,j ] wis w̌it η∆,i ψit
+ 2r N ∑ ∑ 0
ňs,− j
ňt,− j
ňs,−i
ňt,− j
j,s,t i =1
j −1

+ rN ∑ ∑

j,s,t i =1

2
N
EG0 [w̌ js w̌ jt ψjs ψjt ] wis wit η∆,i
+ r N ∑ EG0
ňs,−i
ňt,−i
j =1

N

S

I{ j 6= i }wis w̌ js ψjs C∆,i
∑∑
ňs,−i
i =1 s =1

!2

.

Conditional on (W, W̌ ), the first five terms are mean zero. The variance of the first term is bounded
by a constant times
wis wi0 t w̌ js w̌ jt
∑
ňs ňt
i,j,s,t

r2N ∑
i0

!2

= r2N ∑

∑
j,t

i0

wi0 t w̌ jt
ňt

∑
s

ns w̌ js
ňs

!2

 r2N N.

Similarly, the variance of the second, third, fourth, and fifth term can be shown to be bounded by a
constant times r2N N. Next, the expectation conditional on (W, W̌ ) of the absolute value of the sixth
term is bounded by a constant times
rN ∑
i,j

∑
s

w̌is w js
ňs

!

∑
t

w jt w̌it
ňt

!

≤ r N ∑ max
∑
0
i

i

j

22

∑
s

w̌is w js
ňs

!

∑
t

w jt w̌i0 t
ňt

!

= r N ∑ max
∑
0
i

i

∑
s

j

w̌is w js
ňs

!

∑
t

w jt w̌i0 t
ňt

!

Consequently, by Markov inequality,
rN

N

∑ E[Yj2 | Gj−1 ] =

j =1

j −1

j −1
w jt w js EG0 [η∆,j η∆,j ] w̌is w̌it ψis ψit
EG [w̌ js w jt ψjs η∆,j ] wis w̌it η∆,i ψit
+ 2r N ∑ ∑ 0
ňs,− j
ňt,− j
ňs,−i
ňt,− j
j,s,t i =1
j,s,t i =1
!2
j −1
2
N
N S I{ j 6 = i } w w̌ ψ C
EG0 [w̌ js w̌ jt ψjs ψjt ] wis wit η∆,i
is js js ∆,i
+ rN ∑ ∑
+ r N ∑ EG0 ∑ ∑
+ o p (1). (A.19)
ňs,−i
ňt,−i
ňs,−i
j,s,t i =1
j =1
i =1 s =1

rN ∑ ∑

Similarly, expanding the expression for WN yields
WN =

1
rN

∑
0

i,i ,j,s,t

I{ j 6= i, i0 } I{i 6= i0 }

+
+

1
rN

∑

i,j,s,t

I{ i 6 = j }

2
rN

1
rN

∑

i,j,s,t

∑
0

i,i ,j,s,t

I{ j 6= i, i0 }

w̌ js w̌ jt ψjt ψjs wis wi0 t C∆,i η∆,i0
ňs,−i
ňt,−i0

wis w̌ js ψit C∆,i w jt w̌it ψjs η∆,j
1
+
rN
ňs,−i
ňt,− j

+
+

w̌ js w̌ jt ψjt ψjs wis wi0 t η∆,i η∆,i0
ňs,−i
ňt,−i0

I{ j 6 = i }

1
rN

∑

i,j,s,t

I{ i 6 = j }

∑

i,j,s,t

I{ i 6 = j }

wis w̌ js ψit η∆,i w jt w̌it ψjs C∆,j
ňs,−i
ňt,− j

wis w̌ js ψit C∆,i w jt w̌it ψjs C∆,j
ňs,−i
ňt,− j

2
w̌ js ψjs w̌ jt ψjt wis wit η∆,i
2
+
rN
ňs,−i
ňt,−i

∑

i,j,s,t

I{ i < j }
1
+
rN

wis w̌ js ψit η∆,i w jt w̌it ψjs η∆,j
ňs,−i
ňt,− j

∑
j

wis w̌ js ψjs C∆,i
∑ I{i 6= j} ňs,−i
i,s

!2

.

Conditional on (W, W̌ ), the first five terms are mean zero. The variance of the first term is bounded
by a constant times
1
r2N

∑0
i

w̌ js w̌ jt wis wi0 t
∑ ňs ňt
i,j,s,t

!2

1
+ 2
rN

w̌ js w̌ jt wis wi0 t
∑ ňs ňt
i,j,s,t

∑0
i

1
+ 2
rN

∑0
i

!

w̌ j2 s2 w̌ j2 t2 wi0 s2 wi2 t2
ňs2
ňt2

∑

i2 ,j2 ,s2 ,t2

w̌ js w̌ jt wis wi0 t
∑ ňs ňt
i,j,s,t

!

∑

i2 ,j2 ,s2 ,t2

!

w̌i0 s2 w̌i0 t2 wis2 w j2 t2
ňs2
ňt2

!



N
.
r2N

Similarly, the variance of the second, third, fourth and fifth term can also be shown to be bounded by
a constant times Nr2N . Therefore by Markov inequality, in view of eq. (A.19),
rN

N

∑

j =1

E[Yj2

j −1

| Gj−1 ] − WN = r N ∑ ∑

j,s,t i =1

2 ] − η2 )
w jt w js EG0 ([η∆,j
∆,j w̌is w̌it ψis ψit

ňs,− j
23

ňt,− j

j −1

+ 2r N ∑ ∑

j,s,t i =1

w̌ js w jt ( EG0 [ψjs η∆,j ] − ψjs η∆,j ) wis w̌it η∆,i ψit
ňs,−i
ňt,− j

j −1

+ rN ∑ ∑

j,s,t i =1

+ rN

N

∑ ∑
0

j=1 i,i ,s,t

2
w̌ js w̌ jt ( EG0 [ψjs ψjt ] − ψjs ψjt ) wis wit η∆,i
ňs,−i
ňt,−i

I{ j 6= i, i0 }

wis C∆,i wi0 t C∆,i0 w̌ jt w̌ js ( EG0 [ψjs ψjt ] − ψjs ψjt )
+ o p (1).
ňs,−i
ňt,−i0

All terms in this expression have mean zero conditional on W, and the variance of each term can be
2
shown to be bounded by a constant times r N N, so that r N ∑ N
j=1 E [Yj | Gj−1 ] − WN = o p (1) as required.

Appendix B

Stylized economic model: baseline microfoundation

Appendices B.1 and B.2 provide a microfoundation for the stylized economic model presented in
Section 3.1. In Appendix B.3, we use this microfoundation to derive expressions analogous to those in
eqs. (8) and (9) in Section 3.2. In Appendix B.4, we exploit again our microfoundation and outline a set
of restrictions on the model fundamentals such our main identification restriction, Assumption 1(ii)
in Section 4.1, holds.

B.1

Environment

We consider a model with multiple sectors s = 1, . . . , S and multiple regions i, j = 1, . . . , N. Regions
are partitioned into countries indexed by c = 1, . . . , C, and we denote the set of regions located in
a country c by Nc . Region i has a population of Mi individuals who cannot move across regions.
Each individual belongs to a different group, g = 1, . . . , G. The share of group g in the population of
region i is nig .
Production.

Each sector s in region i has a representative firm that produces a differentiated good

using only local labor. For simplicity, we assume that workers of different groups are perfect substitutes in production. The quantity Qis produced by sector s in region i is produced using labor with
productivity Ais ; i.e.
Qis = Ais Lis ,

(B.1)

where Lis denotes the number of workers (irrespective of their group) employed by the representative
firm in this sector-region pair. Regions thus differ in terms of their sector-specific productivity Ais .
Preferences for consumption goods.

Every individual has identical nested preferences over the

sector- and region-specific differentiated goods. Specifically, we assume that individuals have CobbDouglas preferences over sectoral composite goods,
Cj =

S

∏

s =1

24

Cjs

 γs

,

(B.2)

where Cj is the utility level of a worker located in region j that obtains utility Cjs from consuming
goods in sector s, and Cjs is a CES aggregator of the sector s goods produced in different regions:
Cjs =

"

N

∑

i =1

cijs

 σsσ−1
s

# σ σ−s 1
s

σs ∈ (1, ∞),

,

(B.3)

where cijs denotes the consumption in region j of the sector s good produced in region i. This
preference structure has been previously used in Armington (1969), Anderson (1979) and multiple
papers since (e.g. Anderson and van Wincoop, 2003; Arkolakis, Costinot and Rodríguez-Clare, 2012).
Preferences for sectors and non-employment. Individuals of every group g have the choice of
being employed in one of the sectors s = 1, . . . , S of the economy or opting for non-employment,
which we index as s = 0. Conditional on being employed, all workers of group g have identical
homogeneous preferences over their sector of employment, but workers differ in their preferences for
non-employment. Specifically, conditional on obtaining utility Cj from the consumption of goods, the
utility of a worker ι of group g living in region j is
U (ι | Cj ) =


u(ι)C
C

j

if employed in any sector s = 1, . . . , S,
if not employed (s = 0).

j

(B.4)

We assume that each individual ι belonging to group g and living in a region located in country c
independently draws u(ι) from a Pareto distribution with scale parameter νcg and shape parameter
φ, so that the cumulative distribution function of u(ι) is given by
Figu (u)

= 1−



u
υcg

−φ

,

u ≥ υcg ,

φ > 1.

(B.5)

If a worker living in region j chooses to be employed, she will earn wage ω j . In equilibrium, wages
are equalized across sectors and groups because (i) firms are indifferent between workers of different
groups, (ii) workers are indifferent about the sector of employment, and (iii) workers are freely mobile
across sectors. If a worker chooses to not be employed, she receives a benefit b j . We denote the total
number of employed workers of group g in region j by L jg , the total employment in region j as
L j = ∑G
g=1 L jg , and the employment rate in j as E j ≡ L j /M j .

3

Market structure. Goods and labor markets are perfectly competitive.
Trade costs.

We assume that there are no trade costs, which implies that the equilibrium price of

the good produced in a region is the same in every other region; i.e. pijs = pis for j = 1, . . . , N. Thus,
3 We assume that benefits are paid by a national government that imposes a flat tax χ on all income earned in country
c
c. The budget constraint of the government is thus ∑ j∈ Nc {χc (ω j Ej + b j (1 − Ej )) M j } = ∑ j∈ Nc {b j (1 − Ej ) M j }. Alternatively,
we could think of the option s = 0 as home production and assume that workers that opt for home production in region j
obtain b j units of the final good, which they consume. This alternative model is isomorphic to that in the main text.

25

for every sector s there is a composite sectoral good that has identical price Ps in all regions; i.e.

( Ps )1−σs =

S

∑ ( pis )1−σ ,
s

(B.6)

s =1

and the final good’s price is P = ∏Ss=1 ( Ps )γs .

B.2

Equilibrium

We now characterize the equilibrium wage ω j and total employment L j of all regions j = 1, . . . , N.
Consumption.

We first solve the expenditure minimization problem of an individual residing in

region j. Given the sector-level utility in eq. (B.3) and the condition that pijs = pis for j = 1, . . . , N, all
regions j have identical spending shares xis on goods from region i, given by
xis =
Labor supply.



pis
Ps

1−σs

.

(B.7)

Every worker maximizes the utility function in eq. (B.4) in order to decide whether

to be employed. Consequently, conditional on the wage ωi and the non-employment benefit bi , the
total employment of individuals of group g in region i is Lig = nig Mi Pr [ui (ι)ωi > bi ]. It therefore
follows from eq. (B.5) that Li = ∑G
g=1 L jg is
φ

L i = ωi v i

(B.8)

such that
vi = νi
−φ

G

∑ nig νcg

(B.9)

g =1

φ

with νi ≡ Mi bi , and νcg ≡ υcg .
Producer’s problem. In perfect competition, firms must earn zero profits and, therefore,
pis =

ωi
.
Ais

(B.10)

Goods market clearing. Given that labor is the only factor of production and firms earn no profits,
the income of all individuals living in region i is Wi ≡ ∑s ωi Lis , and world income is W ≡ ∑i Wi .
We normalize world income to one, W = 1. Given preferences in eq. (B.2), all individuals spend a
share γs of their income on sector s, so that world demand for the differentiated good s produced in
region i is xis γs . Goods market clearing requires world demand for good s produced in region i to
equal total revenue of the representative firm operating in sector s in region i, ωi Lis . Thus, using the

26

expression in eq. (B.7), we obtain
Lis = (ωi )−σs ( Ais Ps )σs −1 γs .

(B.11)

Note that this labor demand equation is analogous to that in eq. (2) of Section 3, with the region- and
sector-specific demand shifter Dis defined as Dis = ( Ais Ps )σs −1 γs .
If, without loss of generality, we split the region- and sector-specific productivity Ais into a country
and sector-specific component Acs and a residual Ãis ,
Ais = Acs Ãis .
Labor market clearing.

(B.12)

Given the sector- and region-specific labor demand in eq. (B.11), total labor

demand in region i is
Li =

S

∑ ( ωi ) − σ

s

s =1

( Ais Ps )σs −1 γs .

(B.13)

Labor market clearing requires labor supply in eq. (B.8) to equal labor demand in eq. (B.13):
v i ( ωi ) φ =

S

∑ ( ωi ) − σ

s

s =1

( Ais Ps )σs −1 γs .

(B.14)

N,S
Equilibrium. Given technology parameters { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , preference parameters

C,G
{(σs , γs )}Ss=1 , labor supply parameters φ, {νi }iN=1 , {nig }iN,G
=1,g=1 and { νcg }c=1,g=1 , and normalizing world
income to equal 1, W = 1, we can use eqs. (B.6), (B.9), (B.10), (B.12) and (B.14) to solve for the equilibrium wage in every world region, {ωi }iN=1 , the equilibrium price of every sector-region specific
S
good { pis }iN,S
=1,s=1 , and the sectoral price indices { Ps }s=1 . Given these equilibrium wages and sectoral
price indices, we can use eq. (B.13) to solve for the equilibrium level of employment in every region,
{ Li }iN=1 .

B.3

Labor market impact of sectoral shocks: equilibrium relationships

We assume that, in every period, the model described in Appendices B.1 and B.2 characterizes the
labor market equilibrium in every region i = 1, . . . , N. Across periods, we assume that the parameters
N
{σs }Ss=1 , {nig }iN,G
=1,g=1 , and φ are fixed, and that all changes in the labor market outcomes { ωi , Li }i =1

N,S
S
are generated by changes in technology { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , sectoral preferences { γs }s=1 ,

and labor supply parameters {νi }iN=1 and {νcg }C,G
c=1,g=1 .

We focus here on understanding how changes in these exogenous parameters affect the labor

market equilibrium in all regions located in a given country c; i.e. all regions belonging to the set Nc .
In our model, the sectoral prices mediate the impact of all foreign technology and labor supply
shocks on the labor market equilibrium of every region in country c; i.e. the changes in {(ωi , Li )}i∈ Nc

S
depend on the changes in { Ãis }Ss=1,i∈/ Nc , {νi }i∈/ Nc , and {νc0 g }G
g=1,c0 6=c only through changes in { Ps }s=1 .

Therefore, we can write the changes in wages and employment in every region i of the population of

27

interest Nc as a function of the changes in the sectoral prices, and the changes in the productivity and
labor supply shocks in region i.
Isomorphism.

As in Section 3.2, we use ẑ = log(zt /z0 ) to denote log-changes in any given variable

z between some initial period t = 0 and any other period t. Up to a first-order approximation around
the initial equilibrium, eqs. (B.13) and (B.14) imply that
L̂i =

h
i
G
0
ˆ ) + (1 − λ )(
l
θ
P̂
+
λ
((
σ
−
1
)
Â
+
γ̂
)
+
λ
((
σ
−
1
)
Ã
s
s
cs
s
s
i
i
is
i ∑ w̃ig ν̂cg + ν̂i ),
∑ is is
S

s =1

(B.15)

g =1


 −1
with lis0 ≡ L0is /L0i , w̃ig ≡ L0ig /L0i , θis = (σs − 1)λi and λi ≡ φ φ + ∑s lis0 σs
. Combining eqs. (B.8),
(B.9) and (B.15), we can similarly obtain

h
i
G
0
ˆ ) − φ −1 λ (
θ
P̂
+
λ
((
σ
−
1
)
Â
+
γ̂
)
+
λ
((
σ
−
1
)
Ã
l
cs
s
s
i ∑ w̃ig ν̂cg + ν̂i ).
i
is
∑ is is s i s
S

ω̂i =

(B.16)

g =1

s =1

Given our emphasis on understanding the changes in labor market outcomes for regions located in
the same country, all regions in the population of interest will share the same value of Acs for every
sector s, and the same value of ν̂cg for every labor group g; thus, we can simplify the notation by
writing Âcs = Âs and ν̂cg = ν̂g for all s and g, respectively. Given this notational simplification and
the following equivalences
χs = Ps ,
µs = ( As )

(B.17)
σs −1

γs ,

ηis = ( Ãis )σs −1 ,

(B.18)
(B.19)

we can easily see that the expressions in eqs. (B.15) and (B.16) are identical to those in eqs. (8) and (9)
in Section 3.2, respectively. Consequently, the environment described in Appendices B.1 and B.2 does
indeed provide a microfoundation for the equilibrium relationships in eqs. (8) and (9).

B.4

Identification of labor market impact of sectoral prices

As the mapping in eq. (B.17) illustrates, we may think of the changes in sectoral prices { P̂s }Ss=1 as our
sectoral shocks of interest. Given data on changes in a labor market outcome (e.g. changes in the em-

ployment rate L̂i ) for all units of a population of interest formed by all regions of a particular country
c, and data on the changes in sectoral prices { P̂s }Ss=1 , Assumption 1(ii) in Section 4.1 indicates that

identifying the coefficient in front of a shift-share term that aggregates these sectoral price changes
requires that these are as good as randomly allocated.
In the context of the equilibrium relationship in eq. (B.15), the sectoral price changes { P̂s }Ss=1 will

satisfy Assumption 1(ii) if they are mean independent of: country c-specific sectoral productivity
changes { Âcs }Ss=1 ; country c-specific labor-group supply shocks {ν̂cg }G
g=1 ; region and sector-specific
productivity shocks, for all sectors and all regions in country c, { Ãˆ is }Ss=1,i∈ Nc ; region-specific labor
28

supply shocks, for all regions in country c, {ν̂i }i∈ Nc . This mean independence restriction will hold if

the following two conditions are satisfied.

First, country c is “small”; i.e. all labor demand and labor supply shocks in country c have no
impact on the changes in sectoral prices { P̂s }Ss=1 .

Second, labor demand and labor supply shocks affecting any region i in the country or population

of interest c are mean independent of any labor demand and labor supply shock affecting any other
region of the world economy that is “large” (i.e. any other region whose labor demand and supply
shocks have an impact on the changes in sectoral prices).
In summary, if the vector of shifters of interest {Xs }Ss=1 corresponds to the sectoral price changes

{ P̂s }Ss=1 , the researcher is interested on the impact of these shifters on a collection of “small” regions,
and labor market shocks in these “small” regions are independent of the corresponding shocks in
any “large” region, then the identification condition in Assumption 1(ii) is satisfied.
B.4.1

Impact of labor demand and supply shocks on sector-specific price indices

In general equilibrium, the price change in every sector s, P̂s , depends on the shocks Acs , Ãˆ is , γ̂s , ν̂i ,
and νcg of all sectors, labor groups, and regions in the world economy. Specifically, the change in the
sector-specific price index is
P̂s = − ∑ αss0
s0

N

∑ x0js0 ( Â js0 + λ̃ j v̂ j − λ̃ j ∑ l jk0 [γ̂k + (σk − 1) Â jk ]),

j =1

(B.20)

k

 −1

0
, {αss0 }S,S
where λ̃ j ≡ φ + ∑s lis0 σs
s=1,s0 =1 are positive constants, and x js is the share of the world

production in sector s that corresponds to region j in the initial equilibrium; i.e. x0js ≡ X 0js / ∑iN=1 Xis0 .

Imposing that all regions in a country c verify that x0js ≈ 0 for all j ∈ Nc and for s = 1, . . . , S, we can
rewrite the change in the sector-specific price index as
P̂s = − ∑ αss0
s0

∑

j/
∈ Nc

0
x0js0 ( Â js0 + λ̃ j v̂ j − λ̃ j ∑ l jk
[γ̂k + (σk − 1) Â jk ]).

(B.21)

k

In this case, P̂s does not depend on the labor supply shocks and technology shocks in any region
ˆ S
j included in country c; i.e. P̂s depends neither on { Âcs }Ss=1 , nor {ν̂cg }G
g=1 , nor { Ãis }s=1,i ∈ Nc , nor

{ν̂i }i∈ Nc .

Proof of eq. (B.20). Equations (B.7) and (B.14) imply that
P̂s − ∑ α̃sk P̂k =
k

∑ x0js (λ̃ j ∑ l jk0 [γ̂k + (σk − 1) Â jk ] − λ̃ j v̂ j − Â js ),
j

k

0 λ̃ ( σ − 1). Let us use bold variables to denote vectors, y ≡ [ y ] , and bar bold
where α̃sk ≡ ∑ j x0js l jk
s s
j k
variables to denote matrices, ā ≡ [ ask ]s,k . Thus, we can rewrite the equation above in matrix form as

( I − ᾱ) P̂ = η̂,
29





0 γ̂ + ( σ − 1) Â
with η̂s ≡ ∑ j x0js λ̃ j ∑k l jk
k
k
jk − λ̃ j v̂ j − Â js . In order to obtain eq. (B.20), it is sufficient
to show that ( I − ᾱ) is a nonsingular m-matrix and, therefore, it has a positive inverse matrix. To

establish this result, notice first that α̃sk ∈ (0, 1) for every s and k; to show this, it is sufficient to show
that, for every j, k, and s, it holds that 0 < x0js < 1 and
0
λ̃ j (σk − 1) =
0 < l jk

0 ( σ − 1)
l jk
k

0σ
φ + ∑k l jk
k

<

0σ
l jk
k
0σ
φ + ∑k l jk
k

< 1,

where the last two inequalities arise from σk > 1 and φ > 0.
Finally, to show that ( I − ᾱ) is nonsingular, it is sufficient to establish that it is diagonal dominant:

|1 − α̃sk | − ∑ |α̃sk | = 1 − ∑
j

k6=s

=∑
j

x0js

= ∑ x0js
j

Appendix C

x0js

0 ( σ − 1)
l js
s

0σ
φ + ∑k l jk
k

1−

−∑∑
k6=s j

0 ( σ − 1)
∑k l jk
k

x0js

!

0 ( σ − 1)
l jk
k

0σ
φ + ∑k l jk
k

,

0σ
φ + ∑k l jk
k
!
φ+1
> 0. 
0σ
φ + ∑k l jk
k

Stylized economic model: Extensions

In Appendices C.1 and C.2, we provide alternative microfoundations for the equilibrium relationship
in eq. (8). Finally, in Appendix C.3, we incorporate migration into the baseline microfoundation
described in Appendix B.

C.1

Sector-specific factors of production

We extend here the model described in Appendix B to incorporate other factors of production. In
particular, we introduce a sector-specific factor, as in Jones (1971) and, more recently, Kovak (2013).
C.1.1 Environment
The only difference with respect to the setting described in Appendix B.1 is that the production
function in eq. (B.1) is substituted for a Cobb-Douglas production function that combines labor and
capital inputs:
Qis = Ais ( Lis )1−θs (Kis )θs .
We assume that capital is a sector-specific factor of production (sector-s capital has no use in any
other sector) and that, for every sector, each region has an endowment of sector-specific capital K̄is .
C.1.2 Equilibrium
Consumption.

The consumer’s problem is identical to that in Appendix B.2.

30

Labor supply. The labor supply decision is identical to that in Appendix B.2.
Producer’s problem. Conditional on the region-i equilibrium wage ωi and rental rate of sector-s
capital Ris , the cost minimization problem of the sector-s region-i representative firm and the market
clearing condition for sector-s region-i specific capital imply that
1 − αs K̄is
ω
= i.
αs Lis
Ris
Conditional on the sector-s region-i final good price pis , the firm’s zero profit condition implies that
pis Ais α̃s = (ωi )1−θis ( Ris )θis ,
where α̃s ≡ (αs )αs (1 − αs )1−αs . The combination of these two conditions yields the demand for labor
in sector s and region i,
1 − αs
Lis =
K̄is
αs



pis Ais α̃s
ωi

 α1

s

,

(C.1)

and the total sales of the sector-s region-i good as a function of the output price pis ,
Xis =
Goods market clearing.

1
1
1
K̄is
ωi Lis =
( pis Ais α̃s ) αs (ωi )1− αs .
1 − αs
αs

(C.2)

Applying the same normalization as in Appendix B.1, W = 1, the total

expenditure in the sector-s region-i good is equal to xis γs , with xis defined in eq. (B.7) as a function
of the equilibrium prices pis . Equating xis γs and eq. (C.2), we can solve for the equilibrium value of
pis as a function of the sector-s price index Ps :
pis =



1
1 ( Ps )1− σs
K̄is
( Ais α̃s ) αs (ωi )1− αs
αs
γs

−θis ηis

,

(C.3)

where δs ≡ (1 + αs (σs − 1))−1 ∈ (0, 1). Additionally, combining eqs. (C.1) and (C.3), we obtain an
expression for labor demand in sector-s region-i as a function of the equilibrium wage ωi , the sector-s
price Ps and other exogenous determinants:
Lis = κis γsδs ( Ais Ps )(σs −1)δs (ωi )−σs δs ,

(C.4)

1

where κis ≡ (1 − αs )(K̄is α̃sαs /αs )1−δs . Note that this labor demand equation is analogous to that in

eq. (2), with the region- and sector-specific demand shifter Dis defined as
Dis = κis (γs )δs ( Ais Ps )(σs −1)δs ,

and with the labor demand elasticity now defined as σs δs . Note that the labor demand elasticity in
eq. (2) is identical to that in eq. (C.4) in the specific case in which δs = 1, which will hold when
31

αs = 0. Without loss of generality, we split the region- and sector-specific productivity Ais according
to eq. (B.12).
Labor market clearing. Given the sector- and region-specific labor demand in eq. (C.4), total labor
demand in region i is
Li =

S

∑ κis γsδ

s

s =1

( Ais Ps )(σs −1)δs (ωi )−σs δs .

(C.5)

Labor market clearing requires labor supply in eq. (B.8) to equal labor demand in eq. (C.5):
v i ( ωi ) φ =

S

∑ κis γsδ

is

s =1

( Ais Ps )(σs −1)δis (ωi )−σs δis ,

j = 1, . . . , N.

(C.6)

N,S
Equilibrium. Given the technology parameters {αs }Ss=1 , { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , sector- and

S
region-specific capital inputs {K̄is }iN,S
=1,s=1 , preference parameters {( σs , γs )}s=1 , labor supply parameC,G
ters φ, {νi }iN=1 , {nig }iN,G
=1,g=1 and { νcg }c=1,g=1 , and normalizing world income to equal 1, W = 1, we can

use eqs. (B.6), (B.9), (B.12), (C.3) and (C.6) to solve for the equilibrium wage in every world region,

{ωi }iN=1 , the equilibrium price of every sector-region specific good { pis }iN,S
=1,s=1 , and the sectoral price
S
indices { Ps }s=1 . Given these equilibrium wages and sectoral price indices, we can use eq. (C.5) to
solve for the equilibrium level of employment in every region, { Li }iN=1 .
C.1.3 Labor market impact of sectoral shocks
We assume that, in every period, the model described in Appendices C.1.1 and C.1.2 characterizes
the labor market equilibrium in every region i = 1, . . . , N. Across periods, we assume that the parameters {(σs , αs )}Ss=1 , {nig }iN,G
=1,g=1 , and φ are fixed, and that all changes in the labor market outcomes

N,S
{ωi , Li }iN=1 are generated by changes in technology { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , sectoral preferences
{γs }Ss=1 , and labor supply parameters {νi }iN=1 and {νcg }C,G
c=1,g=1 . We focus here on understanding how
changes in these exogenous parameters affect the labor market equilibrium in all regions located in a
given country c; i.e. all regions belonging to the set Nc .

Isomorphism. Following steps analogous to those in Appendix B.3, we can show that eqs. (C.5)
and (C.6) imply that
L̂i =

i
h
0
ˆ + κ̂ )
l
Â
+
δ
γ̂
)
+
λ
((
σ
−
1
)
δ
Ã
θ
P̂
+
λ
((
σ
−
1
)
δ
s cs
s s
s
s is
i
is
∑ is is s i s
S

s =1

G

+ (1 − λi ) ( ∑ w̃ig ν̂cg + ν̂i ),

(C.7)

g =1

with θis = (σs − 1)δs λi and λi ≡ φ(φ + ∑s lis0 σs δs )−1 . As in Appendix B.3, given our emphasis on
understanding the changes in labor market outcomes for regions located in the same country, all
regions in the population of interest will share the same value of Acs for every sector s, and the
same value of ν̂cg for every labor group g; thus, we can simplify the notation by writing Âcs = Âs
32

and ν̂cg = ν̂g for all s and g, respectively. Given this notational simplification and the following
equivalences
χs = Ps ,

(C.8)

µs = ( As )(σs −1)δs (γs )δs ,

(C.9)

ηis = κis ( Ãis )(σs −1)δs .

(C.10)

we can easily see that the expression in eq. (C.7) is identical to that in eq. (8) in Section 3.2. Consequently, the environment described in Appendices C.1.1 and C.1.2 does indeed provide a microfoundation for the equilibrium relationship in eq. (8).

C.2

Sector-specific preferences

We extend the model described in Appendix B to allow workers to have idiosyncratic preferences for
being employed in the different s = 1, . . . , S sectors and for being non-employed s = 0. In order to
maintain the analysis simple, we assume here that there is a single worker group G = 1.
C.2.1 Environment
The only difference with respect to the setting described in Appendix B.1 is that the utility function in
eqs. (B.4) and (B.5) is substituted by an alternative utility function that features workers idiosyncratic
preferences for being employed in the different s = 1, . . . , S sectors and for being non-employed s = 0.
Specifically, we assume here that, conditional on obtaining utility Ci from the consumption of goods,
the utility of a worker ι living in region i is
Uis = us (ι)Ci ,

(C.11)

and, to simplify the analysis, we assume that us (ι) is i.i.d. across individuals ι and sectors s with a
Fréchet cumulative distribution function; i.e. for every region i = 1, . . . , N and sector s = 0, . . . , S,
−φ

Fu (u) = e−vis u ,

φ > 1.

(C.12)

This modeling of workers’ sorting patterns across sectors is similar to that in Galle, Rodríguez-Clare
and Yi (2018) and Burstein, Morales and Vogel (2019). See Adão (2016) for a framework that relaxes
the distributional assumption in eq. (C.12). Given that individuals have heterogeneous preferences
for employment in different sectors, workers are no longer indifferent across sectors and, thus, equilibrium wages {ωis }Ss=1 may vary across sectors within a region i. As in the main text, we assume that
workers that choose the non-employment sector s = 0 in region i receive non-employment benefits bi .
C.2.2 Equilibrium
Consumption.

The consumer’s problem is identical to that in Appendix B.2.

33

Labor supply.
of region i is

Conditional on the equilibrium wages {ωis }Ss=1 , the labor supply in sector s = 1, . . . , S

Lis = Mi

vis (ωis )φ
Φi

φ

Φi ≡ vi0 bi +

with

S

∑ vis (ωis )φ ,

(C.13)

s =1

and the labor supply in the non-employment sector s = 0 is
Li0 = Mi

vi0 (bi )φ
.
Φi

(C.14)

Producer’s problem. In perfect competition, firms must earn zero profits and, therefore,
pis =

ωis
.
Ais

(C.15)

Goods market clearing. The conditions determining the equilibrium in the good’s market and,
consequently, the region- and sector-specific labor demand equations are identical to those in Appendix B.2.
Labor market clearing.

Combining the region- and sector-specific labor supply in eq. (C.13) with

the region- and sector-specific labor demand in eq. (B.11), and imposing the normalization W = 1,
the labor market clearing condition in every sector s = 1, . . . , S and region i = 1, . . . , N is
Mi
Equilibrium.

vis (ωis )φ
= (ωis )−σs ( Ais Ps )σs −1 γs .
Φi

(C.16)

N,S
Given productivity parameters { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , preference parameters

{σs , γs }Ss=1 , labor supply parameters φ and {vis }iN,S
=1,s=0 , and normalizing world income to equal 1,
W = 1, we can use eqs. (B.6), (B.12), (C.15) and (C.16) to solve for the equilibrium wage in every sector
N,S
and region, {ωis }iN,S
=1,s=1 , the equilibrium price of every sector- and region-specific good { pis }i =1,s=1 ,
and the sectoral price indices { Ps }Ss=1 . Given these equilibrium wages and sectoral price indices, we
can use eqs. (C.13) and (C.14) to solve for the equilibrium level of employment in every sector and
region, { Lis }iN,S
=1,s=0 .
C.2.3 Labor market impact of sectoral shocks
We assume that, in every period, the model described in Appendices C.2.1 and C.2.2 characterizes the
labor market equilibrium in every region i = 1, . . . , N. Across periods, we assume that the parameters

{σs }Ss=1 , and φ are fixed, and that all changes in the labor market outcomes {ωi , Li }iN=1 are generated
N,S
S
by changes in technology { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , sectoral preferences { γs }s=1 , and labor supply
N,S
parameters {vis }i=1,s=1 . We focus here on understanding how changes in these exogenous parameters
affect the labor market equilibrium in all regions located in a given country c; i.e. all regions belonging
to the set Nc .

34

Isomorphism.

Given that the total population of a region, Mi , is fixed across time periods, it holds

0 L̂ + (1 − l 0 ) L̂ = 0, where L̂ denotes the log-change in total
that, to a first-order approximation, li0
i0
i
i0 i

population in region i. Therefore, the change in total employment in region i may be written as
L̂i = −

=
=

0
li0
L̂
0 i0
1 − li0

0
li0
(Φ̂i − φb̂i − v̂i0 )
0
1 − li0

0
S
S
li0
0
0
(
l
v̂
+
φl
b̂
+
φ
∑ lis0 ω̂is − φb̂i − v̂i0 ).
i0 i
0 ∑ is is
1 − li0
s =0
s =1

(C.17)

From eq. (C.16), we can express the changes in wages in every sector and every region of country c
as

ω̂is = (φ + σs )−1 Φ̂i + γ̂s + (σs − 1)( Âis + P̂s ) − v̂is .

(C.18)

Combining eqs. (C.17) and (C.18), we can re-express the change in total employment in region i as
L̂i =

S

∑ lis0 [θis P̂s + λi (φ + σs )−1 ((σs − 1) Âcs + γ̂s ) + λi (φ + σs )−1 (σs − 1) Ãˆ is ] + ν̂i ,

(C.19)

s =1

0 (1 − l 0 )−1 ( v̂ − φ b̂ − v̂ ), v̂ = (1 − φ S l 0 ( φ + σ )−1 )−1 ( φl 0 b̂ + l 0 v̂ + S l 0 σ ( φ +
where ν̂i = li0
∑s=1 is
∑s=1 is s
s
i
i
i0
i
i0
i0 i
i0 i0
0 (1 − l 0 ) −1 (1 − φ S l 0 ( φ + σ ) −1 ) −1 .
σs )−1 v̂is ), β is = (σs − 1)(φ + σs )−1 λi , and λi = φli0
∑s=1 is
s
i0

As in Appendix B.3, given our emphasis on understanding the changes in labor market outcomes

for regions located in the same country, all regions in the population of interest will share the same
value of Acs for every sector s; thus, we can simplify the notation by writing Âcs = Âs for all s. Given
this notational simplification, the following equivalences
χs = Ps ,
−1

−1

µs = ( As )(σs −1)(φ+σs ) (γs )(φ+σs ) ,
−1

ηis = ( Ãis )(σs −1)(φ+σs ) ,
and the adjustment of the expression for λi and ν̂i , the expression in eq. (C.19) is identical to that in
eq. (8) in Section 3.2. Consequently, the environment described in Appendices C.2.1 and C.2.2 does
indeed provide a microfoundation for the equilibrium relationship in eq. (8).

C.3

Allowing for regional migration

We extend here the baseline environment described in Appendix B.1 to allow for mobility of individuals across regions within a single country c. As in Appendix C.2, to maintain the analysis simple,
we focus on the special case with a single worker group, G = 1.

35

C.3.1 Environment
We still assume that the number of individuals living in each country c is fixed and equal to Mc . The
only difference with respect to the setting described in Appendix B.1 is that the mass of individuals
living in a region i, Mi , is no longer fixed. We assume that, before the realization of the shock u(ι)
in eq. (B.4), individuals must decide their preferred region of residence taking into account their
idiosyncratic preferences for local amenities in each region. Specifically, we assume that the utility to
individual ι of residing in region i is
U (ι) = ũi (ι) (Ūi (ωi /P, bi /P) − 1)

(C.20)

where Ūi (ωi /P, bi /P) is the expected utility of residing in region i, as determined by eqs. (B.4)
and (B.5), and ũi (ι) is the idiosyncratic amenity level of region i for individual ι. For simplicity,
we assume that individuals draw their idiosyncratic amenity level independently (across individuals
and regions) from a Type I extreme value distribution:
−φ̃

ũi (ι) ∼ Fũ (ũ) = e−ũ ,

φ̃ > 0.

(C.21)

A similar modeling of labor mobility has been previously imposed, among others, in Allen and
Arkolakis (2016), Redding (2016), Allen, Arkolakis and Takahashi (2018), and Fajgelbaum et al. (2019),
among others. See Redding and Rossi-Hansberg (2017) for additional references.
C.3.2 Equilibrium
Consumption.

The consumer’s problem is identical to that in Appendix B.2.

Labor supply. To characterize the labor supply in region i, we first compute Ūi (wi /P, bi /P):
Z

Z

ωi ∞
bi bi /ωi
udFu (u) +
dFu (u),
P bi /ωi
P νi
Z
Z
ω ∞  u −φ
bi bi /ωi φ  u −φ−1
=φ i
du +
du,
P bi /ωi νi
P νi
νi νi
  
φ ω i φ  ω i  φ − 1 bi 
φ ωi φ
=
νi
+
1 − νi
,
φ−1 P
bi
P
bi
  
b
1
φ ωi φ
νi
= i 1+
.
P
φ−1
bi

Ūi (ωi /P, bi /P) =

To simplify the analysis, we assume that the unemployment benefit is identical in all regions and
equal to the price index P; i.e. bi = P for all i ∈ N. Defining vi ≡ (νi /bi )φ as in eq. (B.8), the

assumption that bi = P for all i ∈ N implies that vi ≡ νi /P and, thus,
Ūi (ωi /P, bi /P) = 1 +

36

 ω φ
1
i
vi
,
φ−1
P

and the share of national population in region i is



Mi = Pr ũi (ι) (Ūi (ωi /P, bi /P) − 1) > ũ j (ι) Ūj (ω j /P, b j /P) − 1 , ∀ j ∈ Nc


= Pr ũi (ι)vi (ωi )φ > ũ j (ι)v j (ω j )φ , ∀ j ∈ Nc .

Given the distributional assumption in eq. (C.21), it holds that
Mi =

vi (ωi )φm
Mc such that Φc =
Φc

∑

j∈ Nc

v j (ω j )φm and φm ≡ φ̃φ.

(C.22)

Given the value of Mi , total employment in region i is determined as in eq. (B.8). Therefore, the total
labor supply in region i is
Li =

vi (ωi )φm
Mc v i ( ω i ) φ .
∑ j∈ Nc v j (ω j )φm

(C.23)

Producer’s problem. The producer’s problem is identical to that in Appendix B.2.
Goods market clearing. The conditions determining the equilibrium in the good’s market and,
consequently, the region- and sector-specific labor demand equations are identical to those in Appendix B.2.
Labor market clearing.

Combining the region- and sector-specific labor supply in eq. (C.23) with

the aggregate labor demand in eq. (B.13), and imposing the normalization W = 1, the labor market
clearing condition in every region i ∈ Nc is
vi (ωi )φm
Mc v i ( ω i ) φ =
∑ j∈ Nc v j (ω j )φm

∑ ( ωi ) − σ

s

s

( Ais Ps )σs −1 γs ,

(C.24)

or, equivalently,

(Φc )−1 Mc vi (ωi )φ+φm = ∑(ωi )−σs ( Ais Ps )σs −1 γs ,

(C.25)

s

for every region i in every country c.
Equilibrium.

N,S
Given productivity parameters { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , preference parameters

{σs , γs }Ss=1 , labor supply parameters, φ, φm , and {vi }iN=1 , and normalizing world income to equal 1,
W = 1, we can use eqs. (B.6), (B.10), (B.12) and (C.25) to solve for the equilibrium wage in every
N,S
region, {ωi } N
j=1 , the equilibrium price of every sector- and region-specific good { pis }i =1,s=1 , and the
sectoral price indices { Ps }Ss=1 . Given these equilibrium wages and sectoral price indices, we can use
eq. (C.23) to solve for the equilibrium level of employment in every region, { Li }iN=1 .
C.3.3 Labor market impact of sectoral shocks
We assume that, in every period, the model described in Appendices C.3.1 and C.3.2 characterizes
the labor market equilibrium in every region i = 1, . . . , N. Across periods, we assume that the param37

eters {σs }Ss=1 , φ and φm are fixed, and that all changes in the labor market outcomes {ωi , Li }iN=1 are

N,S
S
generated by changes in technology { Acs }C,S
c=1,s=1 and { Ãis }i =1,s=1 , sectoral preferences { γs }s=1 , and

labor supply parameters {vi }iN=1 . We focus here on understanding how changes in these exogenous

parameters affect the labor market equilibrium in all regions located in a given country c; i.e. all
regions belonging to the set Nc .
Isomorphism.

According to eq. (C.23), the change in employment in any region i in country c is
L̂i = 2v̂i + (φ + φm )ω̂i − Φ̂c .

(C.26)

Assuming that { Mc }Cc=1 , {σs }Ss=1 , and (φ, φm ) are fixed and totally differentiating eq. (C.24) with
respect to the remaining determinants of ω̂i , we can express the changes in wages in every region i
of country c as
ω̂i = λi Φ̂c + λi

S

∑ lis0

s =1




γ̂s + (σs − 1)( Âis + P̂s ) − λi v̂i ,

(C.27)

where λi ≡ (φ + φm + ∑s lis0 σs )−1 . Using the expression in eq. (C.22), we can also express
Φ̂c =

∑

i ∈ Nc

m0i (φm ω̂i + v̂i ) ,

(C.28)

where m0i is the share of individuals living in country c that had residence in region i at the initial
period 0; i.e. m0i ≡ Mi0 /Mc0 , with Mc0 ≡ ∑i∈ Nc Mi0 .
Combining eqs. (C.26) and (C.27), we can express the change in total employment in region i as
L̂i = [(φ + φm )λi − 1]Φ̂c +

S

∑ lis0 [θis P̂s + λi (φ + φm )((σs − 1) Âcs + γ̂s ) + λi (φ + φm )(σs − 1) Ãˆ is ]

s =1

+ [2 − (φ + φm )λi ]v̂i

(C.29)

where θis = (σs − 1)(φ + φm )λi . As in Appendix B.3, given our emphasis on understanding the
changes in labor market outcomes for regions located in the same country, all regions in the popula-

tion of interest will share the same value of Acs for every sector s; thus, we can simplify the notation
used in eq. (C.29) by writing Âcs = Âs for all s. Given this notational simplification, if it were to be
the case that Φ̂c = 0, the expression in eq. (C.29) would be analogous to that in eq. (8) under the
following equivalences
χs = Ps ,
µs = ( As )(σs −1)(φ+φm ) (γs )(φ+φm ) ,
ηis = ( Ãis )(σs −1)(φ+φm ) ,
and the necessary adjustment of the expression for λi and ν̂i . However, the term Φ̂c will generally
not be zero and, as indicated in eq. (C.28), it will generally capture the effect of shocks to all regions
38

in the same country c as the region of interest i. In the specific case in which σs = σ for all sectors s,
it will be the case that λi = λ for all regions i, and, consequently, the term [(φ + φm )λi − 1]Φ̂c will be

common to all regions i belonging to the same country c. In this special case, the parameter θis will
no longer capture the total effect of the price shifters P̂s but the differential effect of this price shifter
on region i relative to all other regions in the same country c.

Appendix D

Additional placebo exercises

This section presents additional placebo exercises that complement the results in Sections 2 and 6.
Appendix D.1 reports the empirical distribution of the estimated coefficients and standard errors
of the baseline placebo exercise in Sections 2 and 6. Appendix D.2 investigates the importance
of controlling for the size of the residual sector in shift-share specifications. In Appendix D.3, we
present results illustrating the impact of confounding sector-level shocks on different estimators of
the coefficient on the shift-share covariate of interest. Appendix D.4 investigates the consequences
of serial correlation in panel data applications of shift-share specifications. Appendix D.5 analyzes
the consequences of misspecification of our baseline linearly additive potential outcome framework.
Appendix D.6 reports results investigating the performance of inference procedures in the presence
of unobserved shift-share components whose shares differ from those of the shift-share variable of
interest. Appendix D.7 studies the consequences of treatment heterogeneity. In Appendix D.8, we
provide additional results for the placebo exercises described in Sections 2 and 6. <

D.1

Placebo exercise: empirical distributions

Figure D.1 reports the empirical distribution of the estimated coefficients when: (a) the dependent
variable is the 2000–2007 change in each CZ’s employment rate; in each simulation draw m, we draw
a random vector (X1m , . . . , XSm−1 ) of i.i.d. normal random variables with zero mean and variance

var(Xsm ) = 5, and set XSm = 0; and (c) the vector of controls Zi only includes a constant. The empirical

distribution of the estimated coefficients resembles a normal distribution centered around β = 0. For
more details in the placebo exercise that generates this distribution of estimated coefficients, see
Section 2.

39

0.045
0.04
0.035

Frequency

0.03
0.025
0.02
0.015
0.01
0.005
0
-8

-6

-4

-2

0

2

4

6

8

Estimates

Figure D.1: Empirical distribution of estimated coefficients in the placebo exercise.
Notes: The blue line indicates the average estimated coefficient; the red lines indicate the 2.5% and 97.5% percentiles of distribution of β̂m across the m = 1, . . . , 30, 000 simulations. The dependent variable is the 2000–2007 change in the employment
rate.

D.2

Controlling for size of the residual sector

In the placebo simulations described in Tables 1 to 3, we have drawn the shifters from a mean-zero
distribution. In Table D.1, we depart from the mean-zero assumption.
As discussed in Section 4.2, controlling for the region-specific sum of shares, ∑Ss=1 wis , is important
if the shifters have non-zero mean. In our placebo setting, this is equivalent to controlling for the CZspecific share of employment in the non-manufacturing sector in 1990, 1 − ∑Ss=1 wis ; we refer to this
control here as the “residual sector control”. Panel A in Table D.1 shows that, when the shifters

are mean zero, the mean of β̂ is not affected by whether we include the residual sector control.
However, including the residual sector control attenuates the overrejection problem of traditional
inference methods. Intuitively, this control soaks part of the correlation in residuals that traditional
inference methods do not take into account. Panel B in Table D.1 shows that, if the shifter mean
is non-zero, the OLS estimate of β in eq. (1) suffers from substantial bias when the residual sector
control is not included in the regression; this bias disappears once it is included. Specifically, in Panel
B, Xsm ∼ N (1, 5), and the estimator in the first row of this panel suffers from negative bias because
the positive mean of the shifters creates a positive correlation between the shift-share regressor of

interest and the control ∑Ss=1 wis , which captures the larger secular decline in the employment rate in
regions initially specialized in manufacturing production.

40

Table D.1: Controlling for the size of the residual sector in each CZ
Estimate

Median eff. s.e.

Rejection rate

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
Panel A: Shifters with mean equal to zero
No controls
0.01 1.99
0.74
S
Control: 1 − ∑s=1 wis −0.02 1.43
0.74

0.92
0.84

1.91
1.31

2.23
1.52

48.0%
33.6%

37.7% 7.6%
28.4% 11.2%

4.5%
4.7%

Panel B: Shifters with mean different from zero
No controls
−4.67 1.28
0.71
0.94
S
Control: 1 − ∑s=1 wis 0.00 1.43
0.74
0.84

1.48
1.31

1.66
1.52

99.1%
33.3%

97.8% 85.4%
27.8% 11.1%

87.6%
4.6%

Notes: All estimates in this table use the change in the share of the working-age population employed in each CZ as the outcome variable
Yi in eq. (1). This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples
(columns (1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo samples for
which we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). Robust is the Eicker-Huber-White
standard error; Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the
confidence interval in Remark 6. For each inference procedure, the median effective standard error is equal to the median length of the
corresponding 95% confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples. In Panel A, (X1m , . . . , XSm ) is
drawn i.i.d. from a normal distribution with zero mean and variance equal to five in each placebo sample. In Panel B, (X1m , . . . , XSm ) is
drawn i.i.d. from a normal distribution with mean equal to one and variance equal to five in each placebo sample. For each of the two
panels, the first row presents results in which no control is accounted for in the estimating equation; the second row presents results in
which we control for the size of the residual sector.

D.3

Confounding sector-level shocks: omitted variable bias and solutions

In this appendix, we illustrate the consequences of violations of the assumption that the shifters

(X1 , . . . , XS ) are independent of other shocks affecting the outcome variable of interest. Specifically,
we show the impact that the presence of latent sector-specific shocks correlated with the shifters
(X1 , . . . , XS ) has on the properties of the OLS estimator of the coefficient on the shift-share regressor
of interest Xi ≡ ∑Ss=1 Xs . We also illustrate the properties of two solutions to this problem: (i) the
inclusion of regional controls as a proxy for sector-level unobserved shocks (see Section 4.2), and
(ii) the use of a shift-share instrumental variable constructed as a weighted average of exogenous
sector-level shocks (see Section 4.3).
To generate the shifters of interest, the confounding sectoral shocks, and the exogenous sectorspecific shocks that will enter the instrumental variable, we extend the baseline placebo exercise and,
for each sector s and simulation m, we take a draw of a three-dimensional vector
(Xsa,m , Xsb,m , Xsc,m ) ∼ N (0; Σ̃),
where Xsa is the shifter of interest, Xsb is the unobserved confounding shock, Xsc is an exogenous
shifter. Specifically, the matrix Σ̃ is such that var (Xsa ) = var (Xsb ) = var (Xsc ) = σ̃, cov(Xsa , Xsb ) =

cov(Xsa , Xsc ) = ρ̃σ̃, and cov(Xsb , Xsc ) = 0. Thus, we impose that Xsa has a correlation of ρ̃ with both

Xsb and Xsc , but Xsb and Xsc are independent. In our simulations, we set ρ̃ = 0.7 and σ̃ = 12.

41

To assign the role of a confounding effect to Xsb , we generate an outcome variable as
S

Yim = Yiobs + δ ∑ wis Xsb,m ,
s =1

where Yiobs is the observed 2000–2007 change in the employment rate in CZ i, and δ is a parameter

controlling the impact of the unobserved sectoral shocks (X1b , . . . , XSb ) on the simulated outcome Yim .

Thus, the parameter δ captures the magnitude of the impact that the unobserved shocks (X1b , . . . , XSb )
have on the outcome variable. We simulate data both with δ = 0 and with δ = 6.

In addition, we assume that we observe a regional variable that is a noisy measure of CZ i’s
exposure to the unobserved sectoral shocks (X1b , . . . , XSb ),
Xib,m = uim + ∑ wis Xsb,m
s

where

uim ∼ N (0, σu ).

The parameter σu thus modulates the measurement error in Xib as a proxy for the impact of the
unobserved shocks (X1b , . . . , XSb ) on CZ i. We simulate data both with σu = 0 and with σu = 6.4

For each set of parameters (δ, σu ) and for each simulation draw, we compute three estimators
of the impact of Xia ≡ ∑Ss=1 wis Xsa on Yi . First, we ignore the possible endogeneity problem and
compute the OLS estimator without controls; i.e. the estimator in eq. (13). Second, we consider the
OLS estimator of the coefficient on Xia in a regression that includes Xib as a proxy for the vector of
unobserved confounding sectoral shocks; i.e. the estimator in eq. (23). Third, we consider the IV
estimator that uses Xic ≡ ∑i wis Xsc as the instrumental variable; i.e. the estimator in eq. (36). For each
of these three estimators, we implement four inference procedures: Robust, Cluster, AKM and AKM0.
All results are reported in Table D.2.
When there is no confounding sectoral shock (δ = 0), Panel A shows that all three estimators yield
an average coefficient close to zero. Panels B and C report results in the presence of confounding
sectoral shocks (δ > 0); in this case, the OLS estimator of the coefficient on Xia in a simple regression

of Yi on Xia without additional covariates is positively biased ( β̂ = 4.2). The introduction of the
regional control only yields unbiased estimates when it is a good proxy for the latent confounding
sectoral shock (i.e. if σu = 0 as in Panel B). In contrast, the IV estimate always yields an average
estimated coefficient close to zero.
As illustrated in Table D.2, traditional inference methods always under-predict the dispersion in
the estimated coefficient. As discussed in eq. (21), this is driven by the correlation between the unobservable residuals of regions with similar sector employment compositions. The AKM and AKM0
inference procedures impose no assumption on the cross-regional pattern of correlation in the regression residuals and yield, on average, estimates of the median length of the 95% confidence interval
that are equal or higher to the standard deviation of the empirical distribution of estimates. As a
result, as Table D.2 reports, while traditional methods overreject the null H0 : β = 0 in the context of
both OLS and IV estimation procedures, our methods yield the correct test size for both estimators.
4 Using the notation in Section 4.2, the simulated variable X a corresponds to X , the simulated variable X b is an element
s
s
s
of Zs , ui corresponds to Ui , and Xib to Zi . The value of the parameter γ in eq. (26) is thus equal to ρ̃.

42

Table D.2: Magnitude of standard errors and rejection rates—Confounding effects
Estimate

Median eff. s.e.

Reject. H0 : β = 0 at 5%

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
Panel A: No confounding effect (δ
OLS no controls
0.00 1.28
OLS with controls 0.00 1.80
2SLS
0.00 1.84

= 0)
0.47
0.67
0.69

0.59
0.83
0.85

1.23
1.72
1.76

1.43
1.97
2.02

48.2%
47.6%
47.7%

37.6%
37.9%
37.7%

7.7%
7.9%
7.7%

4.5%
4.7%
4.6%

Panel B: Confounding effect (δ = 6) and perfect regional control (σu = 0)
OLS no controls
4.19 1.47
0.58
0.70
1.38 1.60 97.9% 96.8% 80.9% 72.2%
OLS with controls −0.01 1.81
0.67
0.83
1.72 1.97 48.2% 38.3% 8.1% 4.6%
2SLS
−0.01 1.85
0.69
0.85
1.75 2.02 48.1% 38.3% 8.0% 4.7%

Panel C: Confounding effect (δ = 6) and imperfect regional control (σu = 2)
OLS no controls
4.20 1.47
0.58
0.70
1.37 1.60 97.9% 96.8% 81.4% 72.6%
OLS with controls 4.10 1.46
0.58
0.70
1.39 1.61 97.7% 96.3% 79.4% 71.3%
2SLS
−0.22 2.46
0.93
1.10
2.12 2.66 41.7% 34.0% 8.1% 4.6%
Notes: All estimates in this table use the change in the share of the working-age population employed in each CZ as the outcome
variable Yi in eq. (1). This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo
samples (columns (1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo
samples for which we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). The median
effective standard error refers to the median length of the 95% confidence interval across the simulated datasets divided by 2 × 1.96
Robust is the Eicker-Huber-White standard error; Cluster is the standard error that clusters CZs in the same state; AKM is the standard
error in Remark 5; AKM0 is the confidence interval in Remark 6. All results are based on 30,000 simulation draws.

43

D.4

Panel data: serial correlation in residuals and shifters

In this appendix, we focus on panel data applications and perform several placebo exercises that
illustrate the consequences of serial correlation in either the shifters (X1 , . . . , XS ) or the regression
residuals on the properties of several standard error estimates. For each of our placebo exercises, we
generate 30, 000 placebo samples indexed by m. Each of them contains 722 regions, 397 sectors, and
2 periods: the first period corresponds to 1990–2000 changes, and the second period corresponds to
2000–2007 changes. As in the baseline placebo, each region corresponds to a U.S. Commuting Zone
(CZ), and each sector corresponds to a 4-digit SIC manufacturing industry. We index each region by j
and each sector by k. When implementing the AKM and AKM0 in this context, we follow the approach
in Section 5.2 by defining “generalized regions” as i = ( j, t), “generalized sectors” as s = (k, t), and
shares wis as in eq. (41).

As in our baseline placebo, each simulated sample m has identical values of the shares {wis }iN,S
=1,s=1 .

Specifically, the shares in periods 1 and 2 correspond to employment shares in 1990 and 2000, respectively. Depending on the placebo exercise, the placebo samples may differ across simulated samples in
terms of the outcomes {Yi }iN=1 . Finally, all placebo samples always differ in the shifters (X1 , . . . , XS ).

For each simulated sample m, we draw the random vector of shifters (X1m , . . . , XSm ) from the joint

distribution

(X1m , . . . , XSm ) ∼ N 0, Σ2 ,

(D.1)

where Σ2 is a S × S covariance matrix with Σ2sk = (1 − ρ2 )σ2 I{s = k } + ρ2 σ2 I{c(s) = c(k )} and,

for every s, c(s) indicates the “cluster” that the generalized sector s belongs to. We incorporate

serial correlation in the sector-level shocks by defining clusters of generalized sectors associated with
the same underlying sector in different periods. We follow the baseline placebo by setting σ2 = 5.
The value of ρ2 controls the degree of correlation across shifters of different generalized sectors that
correspond to the same underlying industrial sector at different points in time.
For each simulated sample m, we generate the outcome of region i in the placebo sample m as
Yim = Yi + ηim ,

(D.2)

where Yi denotes the change in the employment rate in the generalized region i. By changing the
distribution from which the term ηim is drawn, we change the distribution of the regression residuals.
We implement different placebo exercises in which {ηim }iN=1 is drawn from different distributions.

In some placebo exercises, we allow for serial correlation in ηi for every region i but impose that

ηi is independent of η j for any two different regions i and j; specifically,
m
(η1m , . . . , η1444
) ∼ N (0, Σ1 ),

(D.3)

where Σ1 is a 1444 × 1444 covariance matrix with Σ1ii0 = (1 − ρ1 )σ1 I{i = i0 } + ρ1 σ1 I{ j(i ) = j(i0 )} and
j(i ) is the region associated with the generalized observation i. We set σ1 = Var (Yi )/2 and generate

different placebo samples for different values of ρ1 . The value of ρ1 controls the degree of correlation

44

across regression residuals of different generalized regions that correspond to the same geographic
region at different points in time.
In some other placebo exercises, we assume that ηim has a shift-share structure with shares identical
to those entering the shift-share component of interest. Specifically, we assume that
ηim =

S

∑ wis µms

such that

s =1


2
(µ1m , . . . , µm
S ) ∼ N 0, Σ ,

(D.4)

where Σ2 is identical to the variance matrix of the shifters (X1m , . . . , XSm ) introduced in eq. (D.1).
We start by evaluating the robustness of our results to the existence of serial correlation in regional
outcomes or regression residuals. In Panel A of Table D.3, we implement a placebo exercise in which
the shifters are drawn according to eq. (D.1) with ρ2 = 0 (i.e. no serial correlation in sectoral shifters)
and the outcome variables are drawn according to eqs. (D.2) and (D.3) with three different values of
ρ1 (i.e. different degree of serial correlation in the regression residuals). The rejection rates of all six
inference procedures we consider (Robust, Cluster, AKM and AKM0, the last two both in a version that
assumes that the shifters are independent, and in a version that allows them to be serially correlated)
are robust to different degrees of serial correlation in the regression residuals. The reason is that, as
illustrated in column (4) of Table D.3, the standard deviation of the estimator β̂ is invariant to these
patterns of serial correlation in the regression residuals.
In Panel B, we implement a placebo exercise in which the shifters are drawn according to eq. (D.1)
with ρ2 equal to either 0, 0.5 or 1 (i.e. different degrees of serial correlation in sectoral shifters) and the
distribution of the simulated outcome variables is identical to their empirical distribution (i.e. ηim = 0
for every region i and placebo sample m). The results indicate that the larger the serial correlation
in the sector-level shifters, the larger the rejection rates implied by the Robust and Cluster standard
errors, as well as those implied by an implementation of the AKM and AKM0 inference procedures
that wrongly assumes that the shifters are independent across generalized sectors. Conversely, as
illustrated in columns (15) and (16) in Panel B of Table D.3, the AKM and AKM0 become very close
to the nominal rejection rate of 5% once we cluster across generalized sectors that correspond to the
same underlying sector at different points in time.
In Panel C, we depart from the setting described in Panel B in that we draw values of ηim according
to the distribution described in eq. (D.4). The sector-level shifters entering the shift-share covariate of
interest Xim and the term ηim are thus drawn from the same distribution. The results are very similar
to those in Panel B.
Finally, in Panel D, we draw shifters (X1m , . . . , XSm ) that are not only serially correlated but also
correlated across 4-digit industries belonging to the same 3-digit sector. Columns (11) to (14) show
that, when ignored by the corresponding inference procedure, such correlation patterns in the shifters
of interest lead to an overrejection problem, the severity of which depends on the correlation in the
shifters. Columns (15) and (16) show that this overrejection problem disappears when we implement
the AKM and AKM0 inference procedures clustering across all generalized shifters that correspond to
pairs of a 4-digit sectors and time period such that the 4-digit sector is associated to the same 3-digit
industry.

45

Table D.3: Magnitude of standard errors and rejection rates: panel data with serially correlated shifters
Serial Correl.
ρ1

ρ2

(1)

(2)

Estimate

Median eff. s.e.

Mean Std. dev Robust Cluster AKM AKM0
(3)

(4)

(5)

(6)

(7)

(8)

Rejection rate of H0 : β = 0 at 5%

AKM AKM0 Robust Cluster AKM AKM0 AKM AKM0
(cluster) (cluster)
(cluster) (cluster)
(9)
(10)
(11)
(12)
(13)
(14)
(15)
(16)

Panel A: Correlation over time in a residual region-level component
0
0
−0.01 1.12
0.55
0.67
1.06 1.15
1.05
0.5
0
−0.01 1.10
0.55
0.66
1.07 0.00
1.06
1
0
−0.01 1.09
0.55
0.66
1.05 0.00
1.05

46

Panel B: Correlation over time in shifter of interest
0
0
−0.01 1.05
0.46
0.60
1.02
0
0.5
0.00 1.13
0.47
0.59
1.04
0
1
0.00 1.22
0.47
0.57
1.07

1.1
1.12
1.14

1.01
1.09
1.18

1.17
1.18
1.16

34.3%
32.7%
32.7%

24.0%
24.6%
24.2%

5.0%
5.0%
4.7%

7.0%
6.7%
6.5%

4.8%
4.8%
4.3%

1.12
1.22
1.37

39.4%
42.9%
46.2%

27.0% 6.4% 4.6%
31.6% 8.1% 6.1%
36.5% 10.1% 7.9%

6.7%
6.9%
7.6%

4.5%
4.7%
4.5%

6.9%
6.8%
7.2%

4.7%
4.5%
4.2%

Panel C: Correlation over time in shifter of interest and in a residual shift-share component
0
0
0.00 1.06
0.47
0.60
1.03 1.11
1.02
1.14
39.7% 27.5%
0
0.5
0.00 1.14
0.47
0.59
1.05 1.12
1.1
1.23
42.6% 31.5%
0
1
0.01 1.22
0.48
0.58
1.07 1.14
1.19
1.38
45.8% 36.1%

6.7%
6.6%
5.9%

6.7%
8.0%
9.6%

4.8%
6.2%
7.5%

Panel D: Correlation over time and within 3-digit sectors in shifter of interest and in a residual shift-share component
0
0
0.00 1.06
0.46
0.60
1.03 1.11
1.01
1.16
39.6% 27.1% 6.6% 4.9%
7.2%
0
0.5
0.02 1.24
0.47
0.61
1.03
1.1
1.19
1.39
47.3% 34.6% 11.8% 9.8%
7.4%
0
1
0.00 1.40
0.47
0.61
1.02 1.09
1.35
1.68
53.5% 41.7% 16.9% 14.5% 8.1%

4.7%
4.5%
4.2%

Notes: All estimates in this table use the change in the share of the working-age population employed in each CZ as the outcome variable Yi in eq. (1). This table indicates the
median and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples (columns (1) and (2)), the median effective standard error estimates (columns (3)
to (8)), and the percentage of placebo samples for which we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (8) to (15)). The median effective
standard error refers to the median length of the 95% confidence interval across the simulated datasets divided by 2 × 1.96 Robust is the Eicker-Huber-White standard error;
Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the confidence interval in Remark 6. In Panels A, B, and C,
AKM (cluster) and AKM0 (cluster) assume that the shifter corresponding to each 4-digit SIC shifter is distributed independently of those corresponding to other 4-digit shifter, but
allow for correlation over time in these 4-digit SIC shifters. In Panel D, AKM (cluster) and AKM0 (cluster) additionally allow for correlation across 4-digit SIC shifters that belong
to the same 3-digit SIC sector. All results are based on 30,000 simulation draws.

D.5

Misspecification in linearly additive potential outcome framework

In this appendix section, we study the consequences of potential misspecification in the linearly
additive potential outcome framework introduced in eq. (11) in Section 3.3. The extent to which this
linearly additive framework is misspecified obviously depends on what the true potential outcome
framework is. Inspired by the economic model described in Section 3, we outline a nonlinear potential
outcome framework in Appendix D.5.1. In Appendix D.5.2, we determine theoretically the asymptotic
properties of the OLS estimator of the coefficient on the shift-share component in the linearly additive
potential outcome framework; specifically, we compare the treatment effects implied by the linear
framework to those implied by the nonlinear one. In Appendix D.5.3, we present simulation results
that quantify the bias in the estimation of treatment effects that arise from assuming a linearly additive
potential outcome framework when the true one corresponds to the nonlinear framework described
in Appendix D.5.1.
D.5.1 Nonlinear potential outcome framework
Consider the special case of the model of Section 3 in which the labor demand elasticity is identical
in all sectors, i.e. σs = σ for all s. We also set ρs ≡ 1 for all s. In this case, region i’s labor demand in
sector s is

Lis = (ωi )−σ (χs µs ηis ) ,
which implies that the total labor demand in region i is
L i = ( ωi ) − σ

S

∑ (χs µs ηis ) .

s =1

By equalizing this expression with the expression for region i’s labor supply in eq. (4) in Section 3,
we obtain the following relationship between equilibrium wages in region i and both labor supply
and labor demand shocks in i:
log ωi = β̌ log

S

∑ (χs µs ηis )

s =1

!

− β̌ log νi

(D.5)

where β̌ ≡ (φ + σ)−1 .

We focus here on determining the impact on log-changes in regional wages ωi of log-changes

in the sectoral demand shifters {χs }Ss=1 ; i.e. using the notation introduced in Section 3.2, we focus

on characterizing the impact of {χ̂s }Ss=1 on ω̂i . Because of the nonlinear nature of the relationship

between labor demand shocks and wages in eq. (D.5), the impact of {χ̂s }Ss=1 on ω̂i depends on the

changes in all other labor demand and supply shocks. For simplicity, we focus on the case in which
all these other labor demand and supply shocks remain constant at their initial level. From eq. (D.5),
the wages in the new and old equilibria are given by
log ωi = β̌ log

S

∑ χ0s µ0s ηis0 eχ̂

s =1

47

s

!

− β̌ log νi0 ,

log ωi0

= β̌ log

S

∑

s =1

χ0s µ0s ηis0

!

− β̌ log νi0 ,

where we use a superscript zero to denote the value of the variables in the initial equilibrium and the
absence of superscript denotes the value of the corresponding variable in the new equilibrium. By
taking the difference between these two expressions,
ω̂i = β̌ log

S

χ0s µ0s ηis0

∑ ∑S

s =1

0 0 0
k =1 χk µk ηik

eχ̂s

!

= β̌ log

S

∑ ∑S

s =1

L0is ωi0

σ

0
0
k =1 Lik ωi

σ eχ̂s

!

S

= β̌ log

∑

s =1

L0is χ̂s
e
L0i

!

(D.6)

where the second equality follows from rearranging the terms in the labor demand expression in
σ
eq. (2) in Section 3 to obtain the equality χ0s µ0s ηis0 = L0is ωi0 for every region and sector, and the

third equality follows from the fact that labor market clearing yields L0i = ∑Ss=1 L0is .
Note that, by using data on the labor allocation across sectors for every region in some initial

equilibrium (i.e. L0is /L0i , for every i and s), the expression in eq. (D.6) allows to compute the effect
of changes in the sector-specific labor demand shifters {χs }Ss=1 while calibrating the value of the

overall labor demand shifter (χ0s )ρs µ0s ηis0 at the initial equilibrium. Furthermore, the last expression
in eq. (D.6) has the advantage that, conditional on values of {χ̂s }Ss=1 that are of interest, it depends
exclusively on the parameter β̌; specifically, it does not depend on the labor demand parameter σ.

We can map the expression in eq. (D.6) to a nonlinear potential outcome framework by setting
Xs = χ̂s , Yi = ω̂i , and wis = L0is /L0i for every region and sector; i.e.
Yi (X1 , . . . , XS ) = β̌ log

S

∑ wis eX

s

s =1

!

.

(D.7)

According to the model in Section 3, this nonlinear potential outcome function yields the exact expression for the change in wages implied by a change in the labor demand shifters {χ̂s }Ss=1 . Using

eq. (D.7) we can also compute the treatment effect on region i of changing the shifters from {Xs }Ss=1

to {Xs0 }Ss=1 ,

h
 S

 S
i
Yi (X1 , . . . , XS ) − Yi (X10 , . . . , XS0 ) = β̌ log ∑ wis eXs − log ∑ wis eXs .
s =1

(D.8)

s =1

and the average treatment effect
Ȳ (X1 , . . . , XS ) − Ȳ (X10 , . . . , XS0 ) = β̌

1
N

N

∑

i =1

h

log




 S
i
Xs
Xs
w
e
−
log
w
e
.
∑ is
∑ is
S

s =1

(D.9)

s =1

The linearly additive function in eq. (11) in Section 3.3 provides a first-order approximation to
the nonlinear function in eq. (D.8). In the next two subsections, we study the extent to which the
linear expression in eq. (11) provides an accurate approximation to the nonlinear one in eq. (D.7).
Specifically, we explore the extent to which the treatment effects in eqs. (D.8) and (D.9) are well
approximated by those computed on the basis of the linear potential outcome framework introduced

48

in Section 3.3.
The extent to which the linear approximation is accurate will depend on the distribution of

{Xs }Ss=1 . Throughout this section, we assume that {Xs }Ss=1 are independently drawn from a normal distribution,
Xs ∼ N (0, γ2 ),
(D.10)
so that eXs is log-normally distributed with E[(eXs )k ] = ek

2 γ2 /2

.

D.5.2 Asymptotic properties of the shift-share linear specification
We consider here the asymptotic properties of the OLS estimator of β in the linear shift-share regression,

S

Yi = α + β ∑ wis Xs + ei ,

(D.11)

s =1

when the distribution of Xs for every sector s is given by eq. (D.10), and the distribution of Yi for
every region i is given by the potential outcome framework in eq. (D.7). Since Xs has mean zero, the
constant does not affect the regression estimand, which is given by
β=

∑iN=1 E[ Xi Yi ]
,
∑iN=1 E[ Xi2 ]

(D.12)

where, under eqs. (D.7) and (D.10),
N

N

S

∑ E[Xi2 ] = γ2 ∑ ∑ wis2 ,

and

N

N

S

S

∑ E[Xi Yi ] = β̌E ∑ ∑ wis Xs log ∑ wik e

i =1

(D.13)

i =1 s =1

i =1

i =1 s =1

k =1

Xk

!

.

(D.14)

Using eqs. (D.12) to (D.14), we can obtain an expression for β, the OLS estimand in a regression of Yi
on ∑Ss=1 wis Xs ,
β = β̌

∑iN=1 ∑Ss=1 wis E[γZs log(∑Sk=1 wik eγZk )]
,
2
γ2 ∑iN=1 ∑Ss=1 wis

(D.15)

as well as for the difference between this value of β and the parameter from the nonlinear model in
eq. (D.5):
β − β̌ = β̌

∑iN=1 ∑Ss=1 wis E[γZs log(∑Sk=1 wik eγZk )]
− β̌,
2
γ2 ∑iN=1 ∑Ss=1 wis

(D.16)

where { Zs }Ss=1 are i.i.d standard normal. As it is clear from this expression, the difference between
β and β̌ depends on the shares {wis }iN,S
=1,s=1, , the value of the γ (i.e. the standard deviation of Xs for

every s, according to eq. (D.10)), and the value of β̌ itself.

The expression analogous to that in eq. (D.8) when the linear potential outcome framework in

49

eq. (11) in Section 3.3 is assumed is the following,
Yi (X1 , . . . , XS ) − Yi (X10 , . . . , XS0 ) = β




0
w
(
X
−
X
)
.
∑ is s
s

(D.17)



(D.18)

S

s =1

and the expression analogous to that in eq. (D.8) is
Ȳ (X1 , . . . , XS ) − Ȳ (X10 , . . . , XS0 ) = β

1
N

N

∑

i =1


0
w
(
X
−
X
)
.
∑ is s
s
S

s =1

D.5.3 Simulation
In this section, we construct a simulation exercise to quantify: (a) the difference between β and
β̌, using eq. (D.16) to compute such difference; (b) the correlation coefficient between the i-specific
treatment effects in eq. (D.8) and those in eq. (D.17); and, (c) the difference between the average
treatment effect in eq. (D.9) and that in eq. (D.18).
In all simulations, we calibrate the labor supply elasticity to equal 2, σ = 2, and the inverse labor
supply elasticity to equal 0.5, φ = 0.5, implying that β̌ = 0.4. To remain close to our baseline placebo
exercise, we calibrate the shares {wis }iN,S
=1,s=1 using 1990 data on sector-region employment shares

for 722 US CZs and 396 4-digit manufacturing sectors. Concerning the value of the variance of the
sectoral shifters, we present results for five different values of var (Xs ) = γ2 varying between γ2 = 0.5
and γ2 = 10. For each value of γ, we then generate 30, 000 samples indexed by m such that {Xsm }396
s =1

are independently drawn according to eq. (D.10) and {Yim }722
i =1 are constructed according to eq. (D.7).

For each placebo sample m, we compute the OLS estimator β̂ of the parameter β defined in

eq. (D.12), confidence intervals for β according to the Robust, Cluster, AKM and AKM0 inference procedures, the true linear approximation to the i-specific treatment effect and to the average treatment
effect (i.e. the expressions in eqs. (D.17) and (D.18) with β̌ instead of β), the estimated linear approximation to the i-specific treatment effect and to the average treatment effect (i.e. the expressions in
eqs. (D.17) and (D.18) with β̂ instead of β), and the true i-specific treatment effects and their average
(i.e. the expressions in eqs. (D.8) and (D.9) with β̌ = 0.4).
A comparison of columns (2) and (3) in Table D.4 illustrates that the average across the placebo
m
samples generated under the same value of γ of the OLS estimates of β, β̂ ≡ (30, 000)−1 ∑30,000
m=1 β̂

(reported in column (3)) is very close to the true value of the parameter β (reported in column (2)).
We compute this true value of β using the expression in eq. (D.15) and Monte Carlo integration based
on 50,000 draws of ( Z1 , . . . , ZS ) from the distribution in eq. (D.10). Thus, as expected, the average
value of β̂m is very close to its theoretical value.
Columns (4)–(7) of Table D.4 report different measures of the average treatment effect across
simulated samples. Specifically, we compute in these three columns, in this order, the average across
the 30,000 placebo samples of: (a) the true linear approximation to the average treatment effect (i.e.
the expression in eq. (D.18) with the value β set to the expression in eq. (D.15)); the estimated linear
approximation to the average treatment effect (i.e. the expression in eq. (D.18) with β̂m instead of β);
and the true average treatment effect (i.e. the expression in eq. (D.9)). When the variance of sector-

50

level shocks is low (γ2 = 0.1), the first row in Table D.4 shows that all these three averages are very
close to each other. As the variance of sector-level shocks grows, the remaining rows in Table D.4
show that the bias in the linear approximations to the average treatment effect grows. Columns (6)
and (7) of Table D.4 illustrate that not only the linear approximation to the average treatment effects
worsen as γ2 increases, but the average (across the 30,000 placebo samples) correlation coefficient
between the i-specific linear treatment effects in eq. (D.17) (computed with β̌ instead of β) and the
nonlinear ones in eq. (D.8) becomes much lower.
In summary, Table D.4 shows that, when the value of the variance of the sector-level shocks is
small, the difference between β and β̌ reported in eq. (D.16) is small, and the linear approximations
to the treatment effects in eqs. (D.17) and (D.18) remain very close to their non-linear counterparts
in eqs. (D.8) and (D.9). Conversely, these approximations become much worse as the variance of the
sector-level shocks increases.
In Table D.5, we study the performance of different inference methods in their capacity to provide
information about the value of β in eq. (D.15) or about the parameter β̌. Columns (2)–(6) report the
standard deviation of the OLS estimated coefficients β̂m and the average estimated standard errors
obtained with different inference procedures. Columns (7)–(10) report the rejection rate of the null
hypothesis that β = β̌ and columns (11)–(14) report the rejection rate of the null hypothesis that β
coincides with the expression in eq. (D.15). Results are similar for all levels of γ2 : robust and stateclustered standard errors significantly underestimate the standard deviation of the OLS estimator,
while the AKM and AKM0 are much closer to this standard deviation. In line with these results, when
testing the null that β coincides with the expression in eq. (D.15) at the 5% significance level, columns
(13)-(14) show that the rejection rates are close to 5% for AKM and AKM0 inference procedures, but
columns (11)–(12) show that the analogous rejection rates are around 50% for the Robust and Cluster
inference procedures. Given the difference (reported in Table D.4) between the value of β in eq. (D.15)
and the value of β̌, it is not surprising that, as illustrated in columns (7)–(10) of Table D.5, rejection
rates for the null that β equals β̌ are larger than for the null that β equals the expression in eq. (D.15),
no matter what inference procedure we use. However, it is remarkable that, when the AKM0 inference
procedure is used, these rejection rates remain quite close to 5% and always below 10%.
In summary, Table D.5 shows that, no matter what the value of the variance of the sector-level
shocks is, the relative performance of the four different inference procedures that we consider in all
our placebo simulations is consistent with what we have documented in Sections 2 and 6.1. Robust and
Cluster lead to overrejection of the estimand of the OLS estimator, while AKM and AKM0 maintain
their good coverage properties for this estimand. Interestingly, even when the OLS estimated does
not coincide with the structural parameter β̌, the AKM0 inference procedure maintains good coverage
for this structural parameter; the reason is that, as the variance of the sector-level shocks increases
and the OLS estimand becomes more different from β̌, the length of the AKM0 confidence interval
also increases, and it does so at a rate such that it contains β̌ in a fraction of placebo samples that is
always between 5% and 10%.

51

Table D.4: First-order approximation error: bias in β̂ and in estimated average treatment effect
var (Xs )

eq. (D.15)

β̂

Avg. Treatment Effect
Linear

Correlation between

Non-linear

linear & non-linear

Estimated

True

True

avg. treatment effect

(1)

(2)

(3)

(4)

(5)

(6)

(7)

0.1
1
2
5
10

0.41
0.48
0.54
0.63
0.65

0.41
0.48
0.53
0.62
0.62

0.00
0.00
0.00
0.01
0.01

0.00
0.00
0.00
0.00
0.00

0.00
0.05
0.11
0.34
0.81

0.96
0.76
0.64
0.47
0.36

Notes: The sectoral shifters Xs are i.i.d, drawn from a normal distribution with mean zero and variance var (Xs ). Column
(1) indicates the different values of var (Xs ) that we consider in our simulation exercise; for each value of var (Xs ) listed
in column (1), we generate 30,000 simulated samples. Given a set of draws of the shifters (X1m , . . . , Xsm , . . . , XSm ) for a
simulated sample indexed by m, their true impact on the outcome of a region i is β̌ log(∑s wis exp(Xsm )) and the first-order
approximation to this expression is β ∑s wis Xsm . We set β̌ = 0.4 for all our simulation exercises. Given this value of β̌
and the value of var (Xs ) in column (1), we report in column (2) the value of β, the estimand of the OLS estimator in a
regression of Yi on Xi computed according to the expression in eq. (D.15). We report in column (3) the average (across the
simulated samples) value of this OLS estimator β̂m . Column (4) and (5) reports the average (across the simulated samples)
value of the linearly approximated average treatment effect in eq. (D.18), with the only difference being whether the value
of β in this expression is set to the value in eq. (D.15) or to the average of the OLS estimator β̂m . Column (6) reports
the average (across the simulated samples) value of the true average treatment effect in eq. (D.9). Column (7) reports the
median (across the simulated samples) value of the correlation coefficient between the true treatment effect in eq. (D.9)
and that arising from the first-order approximation in eq. (D.18). See the description in Appendix D.5.3 for additional
details.

52

Table D.5: First-order approximation error: impact on standard errors and rejection rates.
var (Xs )

Estimate

Median eff. s.e.

Rejection rate of H0 : β = β̌

Rejection rate of H0 : β = eq. (D.15)

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0 Robust Cluster AKM
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
(11)
(12)
(13)

53

0.1
1
2
5
10

0.41
0.48
0.53
0.62
0.62

0.07
0.10
0.14
0.19
0.22

0.03
0.03
0.04
0.06
0.07

0.03
0.04
0.05
0.07
0.08

0.07
0.09
0.12
0.18
0.22

0.08
0.10
0.14
0.21
0.25

45.3%
60.7%
66.7%
72.5%
67.8%

38.7%
56.3%
62.6%
68.4%
63.0%

9.6%
15.3%
17.3%
18.2%
14.2%

3.9%
5.9%
7.7%
9.1%
6.8%

45.1%
52.8%
54.1%
53.9%
53.5%

38.4%
47.9%
49.1%
48.6%
47.4%

9.5%
10.4%
9.1%
7.7%
7.3%

AKM0
(14)
4.0%
2.8%
2.5%
2.4%
3.0%

Notes: The sectoral shifters Xs are i.i.d drawn from a normal distribution with mean zero and variance var (Xs ). Column (1) indicates the different values of var (Xs ) that we
consider in our simulation exercise; for each value of var (Xs ) listed in column (1), we generate 30,000 simulated samples. This table indicates the median and standard deviation
of the OLS estimates of β in eq. (1) across the placebo samples (columns (1) and (2)), the median effective standard error estimates (columns (3) to (6)), the percentage of placebo
samples for which we reject the null hypothesis H0 : β = β̌ using a 5% significance level test (columns (7) to (10)), and the percentage of placebo samples for which we reject the
null hypothesis that β coincides with the expression in eq. (D.15) using a 5% significance level test (columns (11) to (14)). Robust is the Eicker-Huber-White standard error; Cluster
is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the confidence interval in Remark 6. For each inference procedure, the
median effective standard error is equal to the median length of the corresponding 95% confidence interval divided by 2 × 1.96.

D.6

Unobserved shift-share components with different shares

Equation (21) in Section 4.1 characterizes the source of the overrejection problem affecting traditional
inference methods in shift-share specifications, showing that heteroskedasticity-robust and clusterrobust standard errors overreject whenever the correlation between residuals is positive. This positive
correlation arises when the residual has a shift-share structure in eq. (22), the unobserved shifters
may vary at the same level as the shift-share covariate of interest (e.g. sectors) or a different one (e.g.
countries of origin of immigrants). In this section, we conduct a placebo simulation to illustrate the
bias in both robust and state clustered standard errors that arises when the regression residual has a
shift-share component.
We generate 30, 000 placebo samples indexed by m with 722 US CZs and 396 4-digit SIC manufacturing industries. As in the baseline placebo exercise discussed in Sections 2 and 6.1, we compute the
shift-share covariate of interest using the sectoral employment shares of US CZs in 1990 and sectoral
shifters that are drawn independently from a normal distribution with mean equal zero and variance
equal to five; i.e.
Xim =

396

∑ wis Xsm

such that

s =1

Xsm ∼ N (0, 5).

The difference between the simulation exercise we consider here and the baseline placebo simulation
in Sections 2 and 6.1 is that the outcome variable is no longer taken from the observed data. Instead,
this outcome variable varies across placebo samples and it is drawn randomly for each simulated
sample m as
Yim =

396

∑ w̃is Asm

such that

s =1

Asm ∼ N (0, 5),

where w̃is are shares that may be different from (but possibly correlated with) the baseline sectoral
employment shares in each CZ; i.e. w̃is may be different from wis . Specifically, for all placebo samples,
we generate a single set of alternative shares as
exp (uis + ln(wis + vis ))
w̃is = 396
∑k=1 exp (uik + ln(wik + vik ))

396

∑ wik

k =1

!

(D.19)

where uis and vis drawn randomly such that uis ∼ N (0, σu2 ) and vis ∼ U [0, σv ].

Given a pair of values (σu , σv ), for each placebo sample we compute: (a) the OLS estimator of

the regression of Yim on Xim and a constant; (b) effective standard errors according to the robust,
state-clustered, AKM and AKM0 inference procedures; (c) for each of these inference procedures, the
outcome of a 5% significance level test of hypothesis of the null hypothesis H0 : β = 0. Each row of
Table D.6 reports several summary statistics of the distribution of these quantities across the 30,000
placebo samples. Each row does so for placebo samples generated by different values of σu and σv .
The first row of Table D.6 considers the case in which σv = σu = 0. In this case, wis = w̃is for every
i and s and, thus, the correlation coefficient between the shares entering the covariate of interest and
those entering the regression residual equal 1 (see column (3) in Table D.6). In this case, as in our
baseline placebo, robust and state-cluster standard errors have rejection rates for a 5% significance

54

Table D.6: Bias in standard errors when regression residual is a shift-share term with shares correlated
with those entering the shift-share covariate of interest
Estimate
σu2
(1)

σv
(2)

0
1
3
5
0
1
3
5
0
1
3
5

0
0
0
0
0.001
0.001
0.001
0.001
0.01
0.01
0.01
0.01

Median eff. s.e.

Rejection rate of H0 : β = 0

ρwis ,w̃is Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
(11)
(12)
(13)
1.00
0.77
0.55
0.44
1.00
0.70
0.41
0.28
1.00
0.38
0.18
0.10

0.00
0.00
0.00
0.00
0.00
0.00
0.00
0.00
0.00
0.00
0.00
0.00

0.17
0.16
0.15
0.14
0.11
0.10
0.09
0.09
0.04
0.05
0.04
0.05

0.08
0.08
0.09
0.10
0.06
0.05
0.06
0.06
0.02
0.03
0.03
0.05

0.08
0.09
0.09
0.10
0.06
0.06
0.06
0.06
0.02
0.04
0.03
0.04

0.14
0.14
0.13
0.13
0.10
0.09
0.08
0.08
0.04
0.04
0.04
0.05

0.16
0.16
0.15
0.15
0.11
0.10
0.09
0.09
0.04
0.05
0.05
0.06

34.8%
31.5%
23.8%
18.0%
31.6%
28.1%
19.0%
13.4%
25.3%
14.3%
11.6%
7.9%

31.0% 10.2%
27.3% 9.9%
22.7% 9.8%
17.4% 9.6%
28.7% 10.0%
26.5% 9.8%
19.3% 8.8%
14.5% 8.1%
23.4% 9.4%
14.2% 7.6%
12.3% 7.7%
9.0% 7.5%

3.7%
4.0%
4.1%
4.3%
3.7%
4.2%
4.1%
4.4%
3.6%
3.8%
4.4%
4.2%

Notes: We impose that, for every simulated sample m = 1, . . . , 30000, the outcome variable is Yim = ∑s w̃is Asm , with Asm drawn from a
normal distribution with mean zero and variance equal to five. The shares {w̃is }i,s vary across the cases described in each of the rows
in the table above but, for each of these rows, are fixed across the 30,000 simulated samples. Specifically, given shares {wis }i,s that
capture the employment share in CZ i employed in sector s in 1990, we generate each w̃is according to the expression in eq. (D.19), with
uis and vis drawn randomly according to the distributions uis ∼ N (0, σu2 ) and U [0, σv ]. The first two columns in the table above indicate
the values of σu and σv used to generate {w̃is }i,s in each case. As illustrated in the third column, the larger the value of either σu or
σv , the lower the correlation coefficient ρwis ,w̃is between wis and w̃is across regions and sectors. Given the generated outcome variables
{Yim }i for each simulated sample m, we compute the OLS estimate of β in the regression Yim = βXim + eim , with Xim = ∑s wis Xsm and
each Xsm drawn randomly from a normal distribution with mean zero and variance equal to 5. We indicate the mean and standard
deviation of the OLS estimates of β across the simulated samples (columns (4) and (5)), the median effective standard error estimates
(columns (6) to (9)), and the percentage of placebo samples for which we reject the null hypothesis H0 : β = 0 using a 5% significance
level test (columns (10) to (13)). Robust is the Eicker-Huber-White standard error; Cluster is the standard error that clusters CZs in the
same state; AKM is the standard error in Remark 5; AKM0 is the confidence interval in Remark 6.

level test that are around 30%–35%. In contrast, the AKM and AKM0 inference procedures exhibit
rejection rates that are 10% and 4%, respectively. The remaining rows of Table D.6 show that, as we
increase the value of σv and σu , the correlation between wis and w̃is declines, which attenuates the
overrejection problem affecting testing procedures that rely on robust and state-clustered standard
errors. However, the rejection rates of these two inference methods are still above 10% even when the
correlation between wis and w̃is is as low as 0.18. For all cases, the rejection rates of the AKM and
AKM0 testing procedures remain stable and close to 5%.

D.7

Heterogeneous treatment effects

We now present a placebo exercise to evaluate the performance of our inference procedures in the
presence of heterogeneous treatment effects. For each placebo sample m, we construct the dependent
variable as
Yim = Yi + ∑ wis Xsm β is
s

such that

β is = λwis .

In all placebo samples, Yi is the change in the share of working-age population employed in CZ i and
wis is the share of sector s in total employment of CZ i. As before, in each placebo sample, we take
55

Table D.7: Heterogeneous treatment effects
Estimate

Median eff. s.e.

Rejection rate of H0 : β = β 0

λ β 0 Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(1) (2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
(11) (12)
0
1
3
5

0.00
0.14
0.43
0.72

0.00
0.15
0.45
0.74

1.98
1.98
1.98
1.98

0.73
0.73
0.74
0.74

0.92
0.92
0.92
0.93

1.91
1.91
1.91
1.91

2.22
2.22
2.22
2.23

0.48
0.48
0.48
0.48

0.38
0.38
0.38
0.37

0.07
0.07
0.07
0.08

0.04
0.04
0.04
0.04

Notes: This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo
samples (columns (3) and (4)), the median effective standard error estimates (columns (5) to (8)), and the percentage
of placebo samples for which we reject the null hypothesis H0 : β = β 0 using a 5% significance level test (columns
(9) to (12)) where the true value of β 0 shown in column (2) is given in eq. (D.20). Robust is the Eicker-HuberWhite standard error; Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in
Remark 5; AKM0 is the confidence interval in Remark 6. For each inference procedure, the median effective standard
error is equal to the median length of the corresponding 95% confidence interval divided by 2 × 1.96. Results are
based on 30,000 placebo samples.

independent draws of the sector-level shifters from a normal distribution with a mean of zero and a
variance of 5.
The parameter λ controls the degree of heterogeneity in the treatment effect of the sector-level
shifters. When λ = 0, this placebo exercise is identical to our baseline placebo exercise in Section 2.
We are interested in inference on the OLS estimand. By Proposition 1, it is given by
β0 =

∑ wis2 βis / ∑ wis2 = λ ∑ wis3 / ∑ wis2 ,
i,s

i,s

i,s

(D.20)

i,s

which is linear in λ.
Table D.7 presents the results of the placebo exercise for different values of λ. For all values of
λ, the average OLS estimate in column (3) is similar to β 0 . Results indicate that both the standard
deviation of the OLS estimator and the performance of the inference procedures are not sensitive to
the value of λ.

D.8

Other extensions

In Table D.8, we report results analogous to those in Table D.1 for outcome variables Yi other than
the employment rate in CZ i. The rejection rates that we obtain are very similar to those reported in
Table D.1 and discussed in Section 6.2.
In Table D.9, we investigate the sensitivity of our results to an alternative definition of “region”.
We report results for a placebo exercise that is analogous to the baseline placebo exercise discussed
in Sections 2 and 6.1 except for the use of counties instead of CZs as regions. We use the County
Business Patterns data to construct employment by county and sector using the imputation procedure
in Autor, Dorn and Hanson (2013). Since this procedure does not yield wage bill information at the
county level, we only implement the placebo exercise for the outcome variables used in Panel A of
Tables 1 and 2: employment rate; employment rate in manufacturing; and, employment rate in nonmanufacturing. The results show that the rejection rates of all four inference procedures we consider
56

are very similar to those obtained in the baseline placebo exercise, which are reported precisely in
Panel A of Tables 1 and 2.
In Table D.10, we investigate the sensitivity of our results to an alternative definition of “sector”.
We report results for a placebo exercise that is analogous to the baseline placebo exercise discussed
in Sections 2 and 6.1 except for the use of 331 occupations instead of 396 sectors as the unit of observation at which the shifters vary. The results in Table D.10 show that the overrejection problem
affecting tradition inference procedures is even more severe when the shift-share covariate aggregates occupation-specific shifters than when it aggregates sectoral shifters. Actually, only the AKM0
inference procedure yields rejection rates for the null hypothesis H0 : β = 0 that are below the 5%
significance level of the test.

57

Table D.8: Controlling for the size of the residual sector in each CZ
Estimate

Median eff. s.e.

Rejection rate of H0 : β = 0

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
Panel A: Shifters with zero mean
Outcome variable: change in the share of working-age population in manufacturing
No controls
−0.02 1.87
0.60
0.76
1.78 2.06
55.5% 44.2% 8.1%
Control: 1 − ∑s wis 0.00 1.03
0.56
0.63
0.97 1.12
30.1% 25.8% 10.0%
Change in the share of working-age population in non-manufacturing
No controls
0.00 0.94
0.58
0.67
0.89 1.04
Control: 1 − ∑s wis 0.00 1.05
0.60
0.68
0.97 1.12
Outcome variable: change in average log-weekly wage of all employees
No controls
0.05 2.67
1.02
1.34
2.58 3.00
Control: 1 − ∑s wis 0.00 1.21
0.95
1.07
1.15 1.33

23.0%
27.5%

17.5%
22.6%

8.1%
9.8%

4.5%
5.4%

47.0%
12.9%

33.9%
8.9%

7.8%
7.9%

4.4%
4.8%

Outcome variable: change in average log-weekly wage of all employees in manufacturing
No controls
0.02 2.94
1.69
2.11
2.75 3.19
27.0% 17.3% 9.3%
Control: 1 − ∑s wis 0.01 2.13
1.66
1.92
1.98 2.28
12.5%
8.0% 7.7%
Outcome variable: change in average log-weekly wage of all employees in non-manufacturing
No controls
0.00 2.62
1.05
1.33
2.56 2.98
44.5% 32.8% 7.6%
0.98
1.08
1.17 1.35
12.8%
9.5% 8.5%
Control: 1 − ∑s wis 0.00 1.24
Panel B: Shifters with non-zero mean
Outcome variable: change in the share of working-age population in manufacturing
No controls
−3.92 1.12
0.57
0.81
1.34 1.51
98.7% 97.6% 80.6%
0.56
0.63
0.97 1.12
31.1% 26.4% 10.3%
Control: 1 − ∑s wis 0.00 1.05
Outcome variable: change in the share of working-age population in non-manufacturing
No controls
−0.75 0.71
0.48
0.64
0.76 0.86
37.2% 22.2% 14.2%
Control: 1 − ∑s wis 0.01 1.05
0.60
0.68
0.97 1.13
27.6% 22.5% 9.7%
Outcome variable: change in average log-weekly wage of all employees
No controls
−6.52 1.55
0.97
1.58
1.91 2.15
Control: 1 − ∑s wis 0.01 1.22
0.95
1.08
1.15 1.33

4.2%
4.4%

99.6%
13.4%

4.5%
4.5%
4.4%
4.7%

78.7%
4.6%
13.9%
5.2%

98.3% 90.9%
9.1% 8.1%

90.5%
4.9%

Outcome variable: change in average log-weekly wage of all employees in manufacturing
No controls
−5.38 1.88
1.54
2.29
1.94 2.17
89.3% 69.8% 75.1%
Control: 1 − ∑s wis −0.02 2.13
1.66
1.91
1.98 2.28
12.5%
8.1% 7.8%

71.0%
4.7%

Outcome variable: change in average log-weekly wage of all employees in non-manufacturing
No controls
−6.31 1.54
0.99
1.58
1.90 2.15
99.4% 97.8% 89.0%
Control: 1 − ∑s wis 0.01 1.24
0.98
1.08
1.17 1.35
12.6%
9.4% 8.3%

88.6%
4.7%

Notes: This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples (columns
(1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo samples for which
we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). Robust is the Eicker-Huber-White
standard error; Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the
confidence interval in Remark 6. For each inference procedure, the median effective standard error is equal to the median length of the
corresponding 95% confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples. In Panel A, (X1m , . . . , XSm−1 )
is drawn i.i.d. from a normal distribution with zero mean and variance equal to 5 in each placebo sample. In Panel B, (X1m , . . . , XSm−1 )
is drawn i.i.d. from a normal distribution with mean equal to one and variance equal to 5 in each placebo sample. For each of the two
panels, the first row presents results in which no control is accounted for in the estimating equation; the second row presents results
in which we control for the size of the residual sector, 1 − ∑s wis .

58

Table D.9: Magnitude of standard errors and rejection rates: county-level analysis
Estimate

Median eff. s.e.

Rejection rate of H0 : β = 0

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
Panel A: Change in the share of working-age population
employed (all)
0.00 0.65
0.24
0.30
0.61
employed (manuf.)
0.00 0.77
0.18
0.27
0.71
employed (non-manuf.) 0.00 0.37
0.21
0.22
0.35

0.67
0.78
0.39

47.3%
65.5%
27.9%

36.3% 8.0%
51.4% 8.1%
25.3% 8.8%

4.8%
4.6%
4.6%

Notes: This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples (columns
(1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo samples for which we reject
the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). Robust is the Eicker-Huber-White standard error;
Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the confidence interval
in Remark 6. For each inference procedure, the median effective standard error is equal to the median length of the corresponding 95%
confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples.

Table D.10: Magnitude of standard errors and rejection rates: occupation-specific shifters
Estimate

Median eff. s.e.

Rejection rate of H0 : β = 0

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM AKM0
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
(10)
Panel A: Change in the share of working-age population
employed (all)
0.01
8.59
1.13
2.45 7.46
employed (manuf.)
0.02
8.13
0.80
1.82 6.55
employed (non-manuf.) −0.01
4.03
0.96
1.76 3.06
Panel B: Change in average log weekly wage
employed (all)
0.00
12.58
1.74
employed (manuf.)
−0.07
11.11
3.24
employed (non-manuf.) 0.01
12.60
1.77

4.23
6.18
4.19

10.1
9.41
9.96

27.82 83.5% 62.4% 24.9%
25.50 89.7% 75.3% 32.9%
9.86 65.1% 38.4% 17.9%

4.0%
3.2%
3.8%

38.10 84.8% 62.6% 30.6%
31.96 56.2% 27.2% 11.7%
37.96 84.9% 64.1% 31.8%

3.4%
4.9%
3.2%

Notes: This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples (columns
(1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo samples for which we reject
the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). Robust is the Eicker-Huber-White standard error;
Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the confidence interval
in Remark 6. For each inference procedure, the median effective standard error is equal to the median length of the corresponding 95%
confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples.

59

Appendix E
E.1

Empirical applications: additional results

Effect of Chinese exports on U.S. labor market outcomes

This section presents additional results that complement the estimates in Section 7.1 of the effect of
Chinese import competition on US local labor markets following the approach in Autor, Dorn and
Hanson (2013, ADH hereafter).
E.1.1 Placebo exercise: alternative distributions of shifters
The reduced-form and the first-stage specifications have a panel data structure discussed Section 5.2.
Since the outcome data and the share matrix W is the same as in the placebo exercise in Appendix D.4,
the results of that placebo exercise are informative about the finite-sample properties of the four
inference procedures that we consider (robust standard errors, state-clustered standard errors, and
the AKM and AKM0 procedures) in the ADH empirical application. In this section, we investigate
the robustness of the results in Appendix D.4 to alternative distributions of the sectoral shifters.
In particular, instead of assuming that the shifters are i.i.d. according to a normal distribution, we
consider distributions that are arguably closer to the distribution of the actual shifters employed in
ADH (the growth in sectoral Chinese exports to high-income countries other than the US).
First, we consider a placebo exercise that differs from that in Appendix D.4 only in that the sectoral
shifters are drawn independently from the empirical distribution of the shifters used in ADH. The
results are presented in Panel A of Table E.1. As in the analysis in Appendix D.4, although the data
generating process for our placebo exercise implies that β = 0, the rejection rates of a 5% significance
level test of the null hypothesis H0 : β = 0 are substantially above 5% when robust and state-clustered
standard errors are used. The rejection rates implied by the AKM and AKM0 procedures are much
closer to 5%, with rejection rates are close to 10%.
Second, to get closer to the specification in ADH, we incorporate into our placebo specification
the baseline set of controls that ADH use (see, e.g., column (6) of Table 3 in ADH). In particular, we
draw the sectoral shifters from the empirical distribution of shifters used in ADH after partialling out
the baseline set of controls used in ADH.5 Panel B of Table E.1 reports the results. For the Robust, Cluster
and AKM testing procedures, the rejection rates in Panel B are very similar to those in Panel A, while
the AKM0 rejection rate is much closer to the nominal level.
Next, we consider relaxing the assumption that the sectoral shifters are independent, or independent across clusters. This specification is motivated by the concern that the 1990–2000 and 2000–2007
sector-specific growth rates in Chinese exports to high-income countries other than the US were determined at least partly by a common factor that had possibly heterogeneous effects across sectors. We
formalize this by modeling year-t imports from China of goods in sector s by high-income countries
5 To partial out a set of controls (which vary by region) from the shifters (which vary by sector), we implement the
following two-step procedure. First, we obtain the residual of a regression of the shift-share instrumental variable Xi used
in ADH on the set of controls listed in column (6) of Table 3 in ADH; let Ẍi denote this residual. We then draw the shifters
from the empirical distribution of the residualized sectoral shifters X res , which correspond to the regression coefficients
from regressing Ẍi onto the vector of shares (wi1 , . . . , wiS ), i.e. X res = (W 0 W )−1 W 0 Ẍ.

60

Table E.1: Alternative distributions of sectoral shifters: placebo
Estimate

Median eff. s.e.

Rejection rate of H0 : β = 0

Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
Panel A: Empirical distribution of ADH (2013) shocks
period: 1990–2000 0.11 0.49
0.16
0.19
0.38
period: 2000–2007 0.04 0.16
0.05
0.06
0.13

0.85
0.31

AKM0
(10)

48.5%
47.9%

39.9% 10.7%
39.4% 11.0%

9.3%
9.5%

Panel B: Empirical distribution of residualized ADH (2013) shocks
period: 1990–2000 0.00 0.14
0.05
0.06
0.12 0.21 46.5%
period: 2000–2007 0.00 0.07
0.03
0.03
0.06 0.11 46.4%

37.9% 10.4%
37.7% 10.9%

3.7%
3.7%

Notes: This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples (columns
(1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo samples for which
we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). Robust is the Eicker-Huber-White
standard error; Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the
confidence interval in Remark 6. For each inference procedure, the median effective standard error is equal to the median length of
the corresponding 95% confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples. In Panel A, each Xsm is
drawn from the empirical distribution of shifters Xs observed in the data; i.e. from the empirical distribution of changes in sectoral
exports from China to high-income countries other than the US. In Panel B, each Xsm is drawn from the empirical distribution of
residualized shifters Xs observed in the data; i.e. from the empirical distribution of the residuals of projecting the changes in sectoral
exports from China to high-income countries other than the US on the full vector of baseline controls in ADH; i.e. those in column 6
of Table 3 in Autor, Dorn and Hanson (2013).

other than the US, I MPst , as
Ch
+ est ,
I MPst = Xst

(E.1)

Ch is a sectoral component of Chinese exports common to all destinations (i.e. it accounts
where Xst

for export supply factors), and est is sector- and destination-specific component (i.e. it accounts for
Ch :
export demand factors). We impose the following factor structure on Xst
Ch
Xst
= ηs X̄tCh + est .

(E.2)

The term X̄tCh captures unobserved factors that may potentially impact Chinese exports across all
sectors (e.g. growth in Chinese labor productivity). The row-vector of sector-specific loadings ηs
indicates how Chinese exports in each sector s react to changes in the common unobserved factors
captured by X̄tCh (e.g. how sensitive each sector s is to growth in Chinese labor productivity). Finally,
est is a sector- and year-specific idiosyncratic component of Chinese exports. Note that, as long as the
distribution of X̄tCh is not degenerate, the shifter I MPst will be correlated across any two sectors s and
s0 unless the loadings ηs and ηs0 are orthogonal. This correlation in shifters violates the independence
assumption imposed by Assumption 2(i) in Section 4.1 in a way that is not accounted for by the
clustering extension considered in Section 5.1. In the placebo simulations that follow, we explore the
consequences of the violation of this assumption, as well as modifications of the AKM and AKM0
procedures that account for the potential factor structure in the shifters.
Combining eqs. (E.1) and (E.2) yields
I MPst = ηs X̄tCh + ε st ,

with
61

ε st = est + est .

(E.3)

Figure E.1: Histogram of estimates of {ηs }Ss=1

Figure E.2: Histogram of estimates of {us,2007 − us,1991 }Ss=1

To remain as close as possible to the empirical application in ADH, we use annual data on sectorspecific exports from China to other high-income countries between 1991 and 2007 (which corresponds to the variable I MPst above) to estimate the common factor X̄tCh , the factor loadings {ηs }Ss=1 ,

and the residuals {ε st }Ss=1 for every year t and 4-digit SIC manufacturing sectors s using the interactive
fixed effects estimator in Bai (2009), as implemented by Gomez (2017).

Figure E.1 reports the histogram of the estimates of {ηs }Ss=1 . There is considerable dispersion in

the factor loadings across sectors. The estimates also reveal substantial variation across sectors and
years in the idiosyncratic component of Chinese export growth ε st ; this can be seen in Figure E.2,
which presents a histogram of the sector-specific changes in ε st between 1991 and 2007. To provide
a graphical illustration of the relative importance of the two terms entering the right-hand side of
eq. (E.3), Figure E.3 provides a scatterplot of the variables { I MPs,2007 − I MPs,1991 }Ss=1 against the

Ch − X̄ Ch )}S ; these terms explain only 27% of the cross-sectoral
estimates of the terms {ηs ( X̄2007
1991 s=1

variation in export growth from China to high-income countries other than the US between 1991 and
2007.
Table E.2 reports the results of a placebo exercise illustrating the effects of the correlation in sec-

toral shifters implied by the estimated version of the model in eq. (E.3) on the finite-sample properties
of the AKM and AKM0 procedures. Specifically, we modify the baseline placebo exercise described
62

Ch − X̄ Ch )}S
Figure E.3: Scatterplot of { I MPs,2007 − I MPs,1991 }Ss=1 against {ηs ( X̄2007
1991 s=1

Notes: Observed data on sector-specific export flows from China to high-income countries other than the US (i.e. I MPs,2007 − I MPs,1991 ) appear in the vertical axis; estimates
Ch − X̄ Ch ) appear in the horizontal axis. The R2 of this regression is 0.273.
of ηs ( X̄2007
1991

in Section 6.1 by instead generating the simulated sectoral shifters as
Xsm = κηsm ∆ X̄ˆ Ch + um
s ,

with

Ch
Ch
∆ X̄ˆ Ch = X̄ˆ 2007
− X̄ˆ 1991

(E.4)

where X̄ˆ tCh denotes the estimate of X̄tCh for t = 1991 and t = 2007. The parameter κ controls the
relative importance of the factor component in the simulated shifters. For each simulated sample
m, the residuals um
s are drawn independently from a distribution that we vary across specifications.

The term ηsm is either fixed across the placebo samples m and set to equal to the estimate η̂s , or else
drawn independently from the empirical distribution of η̂s . Whether the factor loadings ηs are fixed
across the placebo samples or random (and independent across s) is important for the properties of
the AKM and AKM0 inference procedures. If the loadings are random and independent, the shifters
Xs will also be independent across s, so that Assumption 2(i) in Section 4.1 holds, and we expect
the AKM and AKM0 inference procedures to have good asymptotic properties even if conditionally
on the loadings, the interactive fixed effects structure in eq. (E.3) applies. On the other hand, if the
loadings are fixed across simulation samples, the shifters will be correlated, so that the asymptotic
results in Section 4 do not apply.
In Panels A and B in Table E.2, we fix ηsm = η̂s for every sector s and placebo sample m, with um
s
drawn i.i.d. from mean-zero normal distribution with variance 5 in Panel A, and from the empirical
the distribution of ε̂ s,2007 − ε̂ s,1991 in Panel B, where ε̂ st is the interactive fixed effects estimate of the

term ε st in eq. (E.3). In the first three rows of each panel, when no controls are included, larger values
of κ (which imply a larger weight on the interactive fixed effects component η m ∆ X̄ˆ in eq. (E.4))
s

Ch

imply larger rejection rates of the null H0 : β = 0 when we use either the AKM or the AKM0 inference procedures. For κ = 1, which corresponds to the specification in ADH, the rejection rates for
AKM0 are close to the nominal rates, and AKM suffers from moderate overrejection. Importantly,
this overrejection problem can be fixed by controlling for the term ηsm ∆ X̄ˆ Ch as an additional covariate

63

in our regression specification (see rows 4 to 6 in Panels A and B in Table E.2). This is in line with
our theory, since conditioning on this control restores the independence assumption on the shifters.
The takeaway form the results in Panels A and B in Table E.2 is thus that, if one thinks that the true
data generating process for the sectoral shifters {Xs }Ss=1 corresponds to the model in eq. (E.4), then
one should obtain a consistent estimate of ηs ∆ X̄ˆ and control for it in the regression specification in
Ch

order to ensure that the shifters are independent conditional on the controls, so that Assumption 2(i)
holds once we condition on the control vector Zi .
In Panel C of Table E.2, instead of holding the loadings fixed, we draw both ηsm and νsm in each
placebo sample m from the empirical distribution of the interactive fixed effects estimates, independently across s. This makes the shifters independent across s, so that, as discussed above, Assumption 2(i) in Section 4.1 holds even without conditioning on ηs ∆ X̄ˆ Ch . As a result, the rejection rates for
the AKM and AKM0 inference procedures reported in Panel C are similar to those reported in Table 2
in Section 6.1 and unaffected by the value of the parameter κ in eq. (E.4). In particular, the AKM0
inference procedure yields always rejection rates that are very close to 5%.
E.1.2 Placebo exercise: accounting for controls in the first-stage regression
The placebo exercise described in Sections 2.2 and 6 use the outcome variables Yi and the shares wis
used in Autor, Dorn and Hanson (2013) for the period 2000–2007. The placebo exercise discussed
in Appendix D.4 gets closer to the reduced-form empirical specification in Autor, Dorn and Hanson
(2013) by incorporating information on outcome variables and shares both for the period 1990–2000
and for the period 2000–2007. However, these two placebo exercises implement a specification that
differs from that in Autor, Dorn and Hanson (2013) in that it includes no controls. As argued in
Section 3.3, the overrejection problem affecting robust and state-clustered standard errors that is
documented in the simulations is caused by cross-regional correlation in residuals across observations
with similar shares. The inclusion of controls may improve the performance these methods, since the
controls may soak up some (or even most) of the cross-regional correlation in the residuals.
In Table E.3, we introduce a placebo sample for the first-stage regression in Autor, Dorn and
Hanson (2013). In Panel A, when we do not include any controls, both robust and state-clustered
standard errors over-reject the null hypothesis H0 : β 1 = 0. In Panel B, we include as a control the
shift-share instrumental variable used in Autor, Dorn and Hanson (2013), and the rejection rate for
these procedures decreases to about 20%. Finally, in Panel C, we additionally include all controls used
in the baseline specification in Autor, Dorn and Hanson (2013), and the Robust and Cluster rejection
rates get closer to 14%. It can also be seen from Table E.3 that the rejection rates for the AKM and
AKM0 procedures are always very close to the 5% nominal level.
E.1.3 Additional empirical results
In Tables E.4 and E.5 we extend the results presented in Table 5 in Section 7.1. Specifically, Tables E.4
and E.5 present results not only for all workers (in Panel A), but also two subsets of workers: college
graduates (in Panel B) and non-college graduates (in Panel C). Additionally, while the AKM and
AKM0 confidence intervals presented in Table 5 cluster observations belonging to the same 3-digit
64

Table E.2: Simulation for common China shock with heterogeneous sectoral exposure
Estimate

Median eff. s.e.

Rejection rate of H0 : β = 0

κ Control for Mean Std. dev Robust Cluster AKM AKM0 Robust Cluster AKM
(1)
(2)
(3)
(4)
(5)
(6)
(7)
(8)
(9)
ηsm ∆ X̄ˆ Ch

AKM0
(10)

Panel A: ηsm = η̂s for all m and
0
No
0.00 0.17
1
No
0.00 0.15
3
No
0.00 0.09
0
Yes
0.00 0.16
1
Yes
0.00 0.16
3
Yes
0.00 0.16

s; um
s ∼ N (0, 5)
0.08
0.09
0.07
0.07
0.04
0.04
0.08
0.08
0.08
0.08
0.08
0.08

0.14
0.12
0.06
0.14
0.14
0.14

0.17
0.14
0.07
0.16
0.16
0.16

35.4%
38.2%
42.2%
34.9%
35.1%
34.9%

31.3%
33.6%
35.9%
31.6%
31.8%
31.9%

10.3%
12.4%
17.5%
10.4%
10.5%
10.5%

3.9%
5.1%
8.4%
4.2%
4.3%
4.3%

Panel B: ηsm = η̂s for all m and
0
No
0.00 0.43
1
No
0.00 0.26
3
No
0.00 0.10
0
Yes
0.00 0.43
1
Yes
0.00 0.43
3
Yes
0.00 0.43

s; um
s ∼
0.20
0.11
0.04
0.19
0.19
0.19

Femp
0.21
0.12
0.05
0.21
0.21
0.21

0.35
0.18
0.07
0.34
0.34
0.34

0.49
0.21
0.08
0.46
0.46
0.46

36.5%
42.3%
43.9%
36.7%
36.0%
36.3%

33.2%
36.3%
37.3%
33.7%
33.1%
33.4%

12.1%
17.3%
18.8%
12.7%
12.3%
12.3%

3.5%
8.2%
9.4%
3.9%
3.7%
3.6%

0.21
0.13
0.05
0.21
0.21
0.20

0.35
0.22
0.09
0.34
0.34
0.32

0.49
0.26
0.11
0.46
0.46
0.42

36.7%
36.0%
35.3%
36.2%
37.1%
37.8%

33.1%
32.1%
31.4%
33.1%
33.5%
34.4%

12.0%
10.5%
10.3%
12.1%
12.4%
13.5%

3.5%
3.8%
3.7%
3.5%
3.9%
5.2%

Panel C: (ηsm , um
s ) ∼ Femp
0
No
0.00 0.43
1
No
0.00 0.26
3
No
0.00 0.10
0
Yes
0.00 0.43
1
Yes
0.00 0.43
3
Yes
0.00 0.42

0.20
0.12
0.05
0.19
0.19
0.18

Notes: We impose the assumption that the year-specific sectoral shifters I MPst are generated from the model in eq. (E.3). We compute
the estimates of the parameters in this model using Gomez (2017), which implements the estimation approach in Bai (2009). To
compute these estimates, we use annual data on exports from China to high-income countries other than the US, I MPst , between 1991
and 2007 (i.e. the same sectoral exports used to construct the instrumental variable in Autor, Dorn and Hanson (2013)) for all sectors
used in our baseline placebo exercise. We use these estimates to construct a treatment variable Xim ≡ ∑s wis Xsm , with each Xsm defined
as in eq. (E.4), for every simulated sample m = 1, . . . , 30, 000. The different panels impose different assumptions on the distribution of
m
(ηsm , um
s ) across sectors and simulated samples. In Panels A and B in Table E.2, we fix ηs = η̂s for every sector s and placebo sample m.
The placebo simulations whose results we present in these two panels differ in the distribution from which um
s is drawn. In Panel A,
we draw um
s independently across sectors and placebo samples either from a normal distribution with mean zero and variance equal
to five. In Panel B, we draw um
s independently from the distribution of ε̂ s,2007 − ε̂ s,1991 across sectors, where, for t = 2007 and t = 1991,
ε̂ st is the estimate of the term ε st in eq. (E.3) (in Panel B). The placebo exercises in Panel C of Table E.2 differs from that in Panel B in
that, in the former, each ηsm is independently drawn across sectors s and placebo samples m from the distribution of η̂s across sectors,
where η̂s is our estimate of the term ηs in eq. (E.3). In all three panels, we compute the outcome variable as Yim = ∑s wis µm
s , with
m
m
µm
s drawn randomly from a normal distribution with mean zero and variance equal to 5. Given the variables Yi and Xi for each
simulated sample m, we compute an estimate of β in the regression Yi = βXim + ei (whenever there is a ‘No’ in the second column) or
in the regression Yi = βXim + γ ∑s ηsm ∆ X̄ˆ Ch + ei (whenever there is a ‘Yes’ in the second column). We indicate the median and standard
deviation of the OLS estimates of β across the simulated samples (columns (1) and (2)), the median effective standard error estimates
(columns (3) to (6)), and the percentage of placebo samples for which we reject the null hypothesis H0 : β = 0 using a 5% significance
level test (columns (7) to (10)). Robust is the Eicker-Huber-White standard error; Cluster is the standard error that clusters CZs in the
same state; AKM is the standard error in Remark 5; AKM0 is the confidence interval in Remark 6.

65

Table E.3: Placebo exercise for the first-stage regression in Autor, Dorn and Hanson (2013)
Estimate
Mean
(1)

Std. dev
(2)

Median eff. s.e.

Rejection rate H0 : β = 0

Robust
(3)

Cluster
(4)

AKM
(5)

AKM0
(6)

Robust
(7)

Cluster
(8)

AKM
(9)

AKM0
(10)

0.72

0.81

1.63

1.88

41.5%

36.7%

6.5%

4.0%

Panel B: Controls: ADH IV
0.01
1.01
0.63

0.63

0.93

1.06

20.6%

21.3%

7.8%

4.3%

Panel A: No controls
0.01
1.73

Panel C: Controls: ADH IV and all controls included in Table 3, col. 6 of in Autor et al. (2013)
0.00
0.68
0.51
0.51
0.64
0.72
14.4%
14.1%
5.6%
3.8%
Notes: This table indicates the median and standard deviation of the OLS estimates of β in eq. (1) across the placebo samples
(columns (1) and (2)), the median effective standard error estimates (columns (3) to (6)), and the percentage of placebo samples for
which we reject the null hypothesis H0 : β = 0 using a 5% significance level test (columns (7) to (10)). Robust is the Eicker-HuberWhite standard error; Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0
is the confidence interval in Remark 6. For each inference procedure, the median effective standard error is equal to the median
length of the corresponding 95% confidence interval divided by 2 × 1.96. Results are based on 30,000 placebo samples. In all three
panels, each Xsm is i.i.d drawn from a normal distribution with mean zero and variance equal to 5. In Panel A, we introduce no
controls in the regression equation. In Panel B, we control for the instrumental variable used in Autor, Dorn and Hanson (2013);
i.e. the shift-share aggregator of changes in sectoral exports from China to high-income countries other than the US. In Panel C, we
control for the instrumental variable used in Autor, Dorn and Hanson (2013) and for the broadest set of controls used in that paper;
i.e. the set of controls used in column 6 of Table 3 of Autor, Dorn and Hanson (2013).

sector in different periods (which we denote in Tables E.4 and E.5 as AKM (3d cluster) and AKM0 (3d
cluster)), Tables E.4 and E.5 also present AKM and AKM0 confidence intervals that only cluster on
time (denoted as AKM (4d cluster) and AKM0 (4d cluster)), and AKM and AKM0 that treat shifters as
independent both across 4-digit sectors and across time periods (denoted as AKM (indep.) and AKM0
(indep.))
There are several takeaways from the results in Tables E.4 and E.5. First, accounting for the
possible correlation in the shifters has only a minimal impact on the AKM confidence intervals (i.e.
the AKM (indep.), AKM (4d cluster), and AKM (3d cluster) confidence intervals are always very similar);
the impact on the AKM0 confidence intervals is a bit larger but also quite small. Second, while the
AKM and AKM0 confidence intervals are quite similar to the Robust and Cluster ones in the case
of college graduates (Panel B), they are much larger for non-college graduates (Panel C). Finally,
similarly to what we observed in Table 5 in Section 7.1, the AKM0 confidence interval is not centered
around the point estimate: it includes more values of the parameter to the left of the point estimate
than it does to the right.

66

Table E.4: Effect of Chinese on U.S. Commuting Zones in Autor, Dorn and Hanson (2013): ReducedForm Regression
Change in the employment share
All
(1)

Change in avg. log weekly wage

Manuf.
(2)

Non-Manuf.
(3)

All
(4)

Manuf.
(5)

Non-Manuf.
(6)

Panel A: All Workers
β̂
-0.49
Robust
[-0.71,-0.27]
Cluster
[-0.64,-0.34]
AKM (indep.)
[-0.79,-0.18]
AKM0 (indep.)
[-1.08,-0.25]
AKM (4d cluster) [-0.79,-0.19]
AKM0 (4d cluster) [-1.10,-0.26]
AKM (3d cluster) [-0.81,-0.17]
AKM0 (3d cluster) [-1.24,-0.24]

-0.38
[-0.48,-0.28]
[-0.45,-0.30]
[-0.52,-0.24]
[-0.63,-0.26]
[-0.52,-0.23]
[-0.66,-0.25]
[-0.52,-0.23]
[-0.67,-0.25]

-0.11
[-0.31,0.08]
[-0.27,0.05]
[-0.33,0.10]
[-0.51,0.07]
[-0.33,0.10]
[-0.52,0.07]
[-0.35,0.12]
[-0.64,0.08]

-0.48
[-0.80,-0.16]
[-0.78,-0.18]
[-0.84,-0.12]
[-1.08,-0.15]
[-0.87,-0.09]
[-1.16,-0.13]
[-0.88,-0.07]
[-1.27,-0.10]

0.10
[-0.50,0.69]
[-0.51,0.70]
[-0.47,0.66]
[-0.91,0.58]
[-0.49,0.68]
[-0.99,0.59]
[-0.50,0.69]
[-1.16,0.61]

-0.48
[-0.83,-0.13]
[-0.81,-0.15]
[-0.88,-0.08]
[-1.22,-0.15]
[-0.90,-0.07]
[-1.28,-0.14]
[-0.93,-0.03]
[-1.47,-0.11]

Panel B: College Graduates
β̂
-0.27
Robust
[-0.42,-0.12]
Cluster
[-0.39,-0.14]
AKM (indep.)
[-0.45,-0.09]
AKM0 (indep.)
[-0.57,-0.11]
AKM (4d cluster) [-0.45,-0.09]
AKM0 (4d cluster) [-0.58,-0.11]
AKM (3d cluster) [-0.45,-0.08]
AKM0 (3d cluster) [-0.62,-0.09]

-0.37
[-0.48,-0.26]
[-0.48,-0.27]
[-0.50,-0.25]
[-0.56,-0.24]
[-0.51,-0.23]
[-0.59,-0.23]
[-0.52,-0.23]
[-0.59,-0.20]

0.11
[-0.04,0.25]
[-0.04,0.26]
[-0.03,0.24]
[-0.11,0.24]
[-0.04,0.25]
[-0.11,0.25]
[-0.04,0.25]
[-0.17,0.25]

-0.48
[-0.82,-0.13]
[-0.83,-0.13]
[-0.82,-0.13]
[-1.00,-0.13]
[-0.85,-0.10]
[-1.08,-0.11]
[-0.88,-0.08]
[-1.20,-0.08]

0.29
[-0.10,0.68]
[-0.14,0.72]
[-0.11,0.69]
[-0.35,0.68]
[-0.14,0.72]
[-0.41,0.70]
[-0.14,0.72]
[-0.46,0.73]

-0.47
[-0.83,-0.11]
[-0.81,-0.12]
[-0.83,-0.11]
[-1.07,-0.14]
[-0.85,-0.09]
[-1.14,-0.13]
[-0.89,-0.05]
[-1.32,-0.09]

Panel C: Non-College Graduates
β̂
-0.70
-0.37
Robust
[-1.02,-0.38] [-0.48,-0.25]
Cluster
[-0.92,-0.48] [-0.47,-0.26]
AKM (indep.)
[-1.18,-0.22] [-0.55,-0.19]
AKM0 (indep.)
[-1.68,-0.34] [-0.72,-0.23]
AKM (4d cluster) [-1.17,-0.23] [-0.55,-0.18]
AKM0 (4d cluster) [-1.69,-0.35] [-0.74,-0.23]
AKM (3d cluster) [-1.22,-0.18] [-0.55,-0.18]
AKM0 (3d cluster) [-1.95,-0.32] [-0.79,-0.23]

-0.34
[-0.60,-0.07]
[-0.55,-0.12]
[-0.68,0.01]
[-1.01,-0.06]
[-0.67,0.00]
[-1.01,-0.07]
[-0.71,0.04]
[-1.21,-0.04]

-0.51
[-0.90,-0.13]
[-0.84,-0.19]
[-1.08,0.05]
[-1.59,-0.06]
[-1.09,0.06]
[-1.64,-0.05]
[-1.10,0.07]
[-1.80,-0.04]

-0.06
[-0.69,0.56]
[-0.53,0.40]
[-0.70,0.57]
[-1.26,0.45]
[-0.70,0.57]
[-1.30,0.45]
[-0.72,0.60]
[-1.55,0.46]

-0.52
[-0.94,-0.10]
[-0.87,-0.17]
[-1.15,0.11]
[-1.78,-0.04]
[-1.14,0.11]
[-1.80,-0.04]
[-1.16,0.13]
[-2.02,-0.02]

Notes: N = 1, 444 (722 CZs × two time periods). Models are weighted by start of period CZ share of national population. All
regressions include the full vector of baseline controls in ADH; i.e. those in column 6 of Table 3 in Autor, Dorn and Hanson (2013).
95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is the standard error that clusters
of CZs in the same state; AKM (indep.) is the standard error in Remark 5; AKM (4d cluster) is the standard error in eq. (40) with 4-digit
SIC clusters; AKM (3d cluster) is the standard error in eq. (40) with 3-digit SIC clusters; AKM0 (indep.) is the confidence interval in
Remark 6; AKM0 (4d cluster) is the confidence interval with 4-digit SIC clusters described in the last sentence of Section 5.1; and AKM0
(3d cluster) is the confidence interval with 3-digit SIC clusters described in the last sentence of Section 5.1.

67

Table E.5: Effect of Chinese on U.S. Commuting Zones in Autor, Dorn and Hanson (2013): 2SLS
Regression
Change in the employment share
All
(1)

Change in avg. log weekly wage

Manuf.
(2)

Non-Manuf.
(3)

All
(4)

Manuf.
(5)

Non-Manuf.
(6)

Panel A: All Workers
β̂
-0.77
Robust
[-1.10,-0.45]
Cluster
[-1.12,-0.42]
AKM (indep.)
[-1.19,-0.36]
AKM0 (indep.)
[-1.40,-0.42]
AKM (4d cluster) [-1.19,-0.36]
AKM0 (4d cluster) [-1.46,-0.43]
AKM (3d cluster) [-1.25,-0.30]
AKM0 (3d cluster) [-1.69,-0.39]

-0.60
[-0.78,-0.41]
[-0.79,-0.40]
[-0.81,-0.38]
[-0.89,-0.39]
[-0.84,-0.36]
[-0.96,-0.38]
[-0.84,-0.35]
[-1.01,-0.36]

-0.18
[-0.47,0.12]
[-0.45,0.10]
[-0.50,0.15]
[-0.65,0.11]
[-0.50,0.15]
[-0.66,0.12]
[-0.54,0.18]
[-0.84,0.14]

-0.76
[-1.23,-0.29]
[-1.26,-0.26]
[-1.30,-0.22]
[-1.48,-0.23]
[-1.35,-0.17]
[-1.61,-0.21]
[-1.37,-0.15]
[-1.77,-0.17]

0.15
[-0.81,1.11]
[-0.81,1.11]
[-0.76,1.06]
[-1.14,0.99]
[-0.80,1.10]
[-1.24,1.03]
[-0.81,1.11]
[-1.49,1.05]

-0.76
[-1.27,-0.25]
[-1.28,-0.24]
[-1.32,-0.20]
[-1.58,-0.25]
[-1.36,-0.17]
[-1.69,-0.24]
[-1.42,-0.10]
[-1.97,-0.19]

Panel B: College Graduates
β̂
-0.42
Robust
[-0.64,-0.20]
Cluster
[-0.67,-0.18]
AKM (indep.)
[-0.69,-0.16]
AKM0 (indep.)
[-0.78,-0.16]
AKM (4d cluster) [-0.70,-0.15]
AKM0 (4d cluster) [-0.82,-0.17]
AKM (3d cluster) [-0.71,-0.13]
AKM0 (3d cluster) [-0.90,-0.14]

-0.59
[-0.81,-0.37]
[-0.84,-0.34]
[-0.83,-0.36]
[-0.87,-0.33]
[-0.85,-0.33]
[-0.93,-0.32]
[-0.86,-0.32]
[-0.96,-0.27]

0.17
[-0.08,0.41]
[-0.07,0.41]
[-0.07,0.40]
[-0.14,0.40]
[-0.07,0.41]
[-0.15,0.42]
[-0.08,0.42]
[-0.23,0.42]

-0.76
[-1.29,-0.22]
[-1.37,-0.14]
[-1.30,-0.22]
[-1.44,-0.19]
[-1.34,-0.17]
[-1.56,-0.17]
[-1.37,-0.14]
[-1.71,-0.13]

0.46
[-0.19,1.11]
[-0.22,1.14]
[-0.22,1.14]
[-0.45,1.13]
[-0.27,1.18]
[-0.53,1.18]
[-0.25,1.17]
[-0.61,1.21]

-0.74
[-1.29,-0.20]
[-1.34,-0.15]
[-1.28,-0.20]
[-1.47,-0.21]
[-1.31,-0.18]
[-1.57,-0.21]
[-1.37,-0.11]
[-1.82,-0.15]

Panel C: Non-College Graduates
β̂
-1.11
-0.58
Robust
[-1.58,-0.64] [-0.76,-0.40]
Cluster
[-1.61,-0.61] [-0.77,-0.39]
AKM (indep.)
[-1.76,-0.47] [-0.83,-0.33]
AKM0 (indep.)
[-2.12,-0.58] [-0.95,-0.37]
AKM (4d cluster) [-1.75,-0.47] [-0.85,-0.32]
AKM0 (4d cluster) [-2.19,-0.59] [-1.02,-0.36]
AKM (3d cluster) [-1.86,-0.36] [-0.86,-0.30]
AKM0 (3d cluster) [-2.62,-0.52] [-1.13,-0.35]

-0.53
[-0.93,-0.13]
[-0.94,-0.13]
[-1.02,-0.04]
[-1.27,-0.11]
[-1.01,-0.05]
[-1.29,-0.12]
[-1.09,0.03]
[-1.59,-0.07]

-0.81
[-1.35,-0.28]
[-1.28,-0.34]
[-1.62,0.00]
[-2.01,-0.10]
[-1.64,0.02]
[-2.12,-0.09]
[-1.68,0.06]
[-2.43,-0.07]

-0.10
[-1.07,0.87]
[-0.84,0.63]
[-1.09,0.89]
[-1.55,0.79]
[-1.10,0.90]
[-1.63,0.79]
[-1.14,0.93]
[-2.00,0.79]

-0.82
[-1.41,-0.23]
[-1.31,-0.33]
[-1.71,0.07]
[-2.20,-0.07]
[-1.72,0.07]
[-2.28,-0.07]
[-1.78,0.14]
[-2.69,-0.04]

Notes: N = 1, 444 (722 CZs × two time periods). Models are weighted by start of period CZ share of national population. All
regressions include the full vector of baseline controls in ADH; i.e. those in column 6 of Table 3 in Autor, Dorn and Hanson (2013).
95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is the standard error that clusters
of CZs in the same state; AKM (indep.) is the standard error in eq. (39); AKM (4d cluster) is the standard error in eq. (39) with an
adjustment analogous to that in eq. (40) with 4-digit SIC clusters; AKM (3d cluster) is the standard error in eq. (39) with an adjustment
analogous to that in eq. (40) with d-digit SIC clusters; AKM0 (indep.) is the confidence interval built using the standard error in eq. (39)
with the residual ( I − Z 0 ( Z 0 Z )−1 Z 0 )(Y1 − Y2 α0 ) instead of the estimate ê∆ = ( I − Z 0 ( Z 0 Z )−1 Z 0 )(Y1 − Y2 α̂); AKM0 (4d cluster) and
AKM0 (3d cluster) impose the same adjustment to the procedure in AKM (4d cluster) and AKM (3d cluster), respectively.

68

E.2

Estimation of inverse labor supply elasticity

Shift-share IV regressions have been used extensively to estimate inverse local labor supply elasticities. Using the notation in Section 3, we can write the inverse labor supply in each region i as
log ωi = φ̃ log Li − φ̃ log vi ,

φ̃ ≡ φ−1 ,

with

(E.5)

and, consequently, we can relate log changes in wages and log changes employment rates (or number
of employees) for each region i between any two time periods as
G

ω̂i = φ̃ L̂i − φ̃( ∑ w̃ig ν̂g + ν̂i ).

(E.6)

g =1

E.2.1 Bias in OLS estimate of inverse labor supply elasticity
Using data on log changes in wages and employment rates for a set of regions, {(ω̂i , L̂i )}i , one may

consider using OLS to compute an estimate of φ̃. However, such estimator will be inconsistent. To

show this formally, note that, up to a first-order approximation around the initial equilibrium, we can
write the change in employment in any given region i as
L̂i =

S

G

s =1

g =1

∑ lis0 [θis χ̂s + λi µ̂s + λi η̂is ] + (1 − λi ) ( ∑ w̃ig ν̂g + ν̂i ),

(E.7)

and the change in wages as
S

G

s =1

g =1

ω̂i = φ̃ ∑ lis0 (θis χ̂s + λi µ̂s + λi η̂is ) − φ̃λi ( ∑ w̃ig ν̂g + ν̂i ).

(E.8)

Using eq. (E.6), the probability limit of the OLS estimator of φ̃, φ̃ˆ OLS , can be written as
cov(−φ̃(∑G
cov(ω̂i , L̂i )
g=1 w̃ig ν̂g + ν̂i ), L̂i )
ˆ
= φ̃ +
,
plim(φ̃OLS ) =
var ( L̂i )
var ( L̂i )

(E.9)

ˆ
where cov(−φ̃(∑G
g=1 w̃ig ν̂g + ν̂i ), L̂i ) /var ( L̂i ) captures the asymptotic bias in φ̃OLS as an estimator of
φ̃. To characterize this term, we assume here that the of labor supply shocks {ν̂g } g and {ν̂i }i are

independent of the vector of all labor demand shocks ({χ̂s }s , {µ̂s }s , {η̂is }i,s ) conditional on the matrix

of weights W ≡ {lis0 }i,s and the matrix of parameters B ≡ ({ β is }i,s , {λi }i )

({χ̂s }s , {µ̂s }s , {η̂is }i,s ) ⊥
⊥ ({ν̂g } g , {ν̂i }i ) | (W, B).
Given this assumption and eq. (E.7), we can rewrite plim(φ̃ˆ OLS ) in eq. (E.9) as
plim(φ̃ˆ OLS ) = φ̃ +

G
cov(−φ̃(∑G
g=1 w̃ig ν̂g + ν̂i ), (1 − λi )( ∑ g=1 w̃ig ν̂g + ν̂i ))

var ( L̂i )

69

(E.10)

= φ̃ − φ̃(1 − λ)

var (∑G
g=1 w̃ig ν̂g + ν̂i )
var ( L̂i )

,

(E.11)

where the second equality follows if we additionally assume that elasticity of labor demand in eq. (2)
does not vary across sectors, σs = σ for all s, so that λi = λ for all i. As indicated in Section 3.2, in
this case, λ ≡ φ[φ + σ ∑Ss=1 lis0 ]−1 . Thus, if σ > 0 (which guarantees that λ < 1) and φ̃ > 0, then the
OLS will underestimate the inverse labor supply elasticity in the sense that plim(φ̃ˆ OLS ) < φ̃.
E.2.2 Consistency of IV estimate of inverse labor supply elasticity
Using data for a set of regions and sectors on log changes in wages and employment rates {(ω̂i , L̂i )}i ,
initial employment shares {lis0 }i,s , and sectoral labor demand shifters {χ̂s }s , we can write the probability limit of the IV estimator of φ̃ that uses X ≡ ∑S l 0 χ̂s as IV, φ̃ˆ , as
i

IV

s=1 is

cov(ω̂i , Xi )
.
plim(φ̃ˆ IV ) =
cov( L̂i , Xi )
Given the expressions for L̂i and ω̂i in eqs. (E.7) and (E.8), respectively, and the independence assumption in eq. (E.10), we can rewrite
plim(φ̃ˆ IV ) =

cov(φ̃ ∑Ss=1 lis0 [θis χ̂s + λi µ̂s + λi η̂is ] − φ̃λi (∑G
g=1 w̃ig ν̂g + ν̂i ), Xi )

cov(∑Ss=1 lis0 [θis χ̂s + λi µ̂s + λi η̂is ] + (1 − λi ) (∑G
g=1 w̃ig ν̂g + ν̂i ), Xi )

= φ̃

cov(∑Ss=1 lis0 [θis χ̂s + λi µ̂s + λi η̂is ] , Xi )

cov(∑Ss=1 lis0 [θis χ̂s + λi µ̂s + λi η̂is ] , Xi )

= φ̃.
Therefore, under the distributional assumptions in eq. (E.10), the IV estimator that uses a shift-share
instrument that aggregates sector-specific labor demand shifters is a consistent estimator of the inverse labor supply elasticity. Notice that the heterogeneity in θ does not affect the consistency of φ̃ˆ .
is

However, the consistency of φ̃ˆ will depend on the specific labor demand shock being employed by
the researcher to construct its shift-share IV being independent of the specific labor supply shocks
that have been prevalent in the set of regions belonging the population of interest.
E.2.3 Evaluation of leave-one-out IV through the lens of the model in Section 3
We describe in this section how one may use the model in Section 3 to frame the approach to the
estimation of the inverse labor supply elasticity described in Section 7.2. This approach is described
in general terms in Section 5.3.
In Section 7.2, we focus on the estimation of the inverse labor supply elasticity φ̃ and we base the
estimation of this parameter on the estimating equation
ω̂i = φ̃ L̂i + δZi + ei ,

with

70

φ̃ = φ−1 .

(E.12)

For simplicity, we assume here that we use no controls (i.e. δ = 0) and that, thus, we can rewrite the
estimating equation above as
ω̂i = φ̃ L̂i + ei ,

φ̃ = φ−1 .

with

(E.13)

The advantage of focusing on the version without controls is that, in this case, the model in Section 3
clarifies that ei = −φ̃(∑G
g=1 w̃ig ν̂g + ν̂i ), where { ν̂g } g and { ν̂i }i are labor supply shocks. Thus, in the
version without controls, there is a clear mapping between the regression residual of the structural
equation, ei , and the labor supply shocks in our economic model.
As discussed in Appendix E.2.1, the OLS estimator of φ̃ will be biased. However, as discussed
in Appendix E.2.2, one may obtain a consistent estimate of φ̃ by computing an IV estimator that
instruments for the log change in employment in region i, L̂i , using as an instrument a shift-share
aggregator of labor demand shocks {Xs }s . In terms of the model in Section 3, Xs is any (possibly
sector s-specific) function of the sector s-specific labor demand shocks χs and µs (see eqs. (2) and (3)).

These sector-specific labor demand shocks are in many cases unobserved to the researcher. In these
cases, following Bartik (1991) and the subsequent literature on the estimation of inverse local labor
supply elasticities, it has become typical to estimate φ̃ using as instruments one of two different IVs:
either a shift-share aggregator of the growth in national employment in every sector s,
Xi =

S

∑ lis0 L̂s ,

with

s =1

L̂s =

L0js

N

∑ ∑ N0

j =1

j =1

L0j0 s

Ltjs − L0js
L0js

,

(E.14)

or a shift-share aggregator of the leave-one-out measure of the growth in national employment in
sector s,
Xi,− =

S

∑ lis0 L̂s,−i ,

with

s =1

L̂s,−i =

N

L0js

j=1,j6=i

0
∑N
j0 =1,j0 6=i L j0 s

∑

Ltjs − L0js
L0js

.

(E.15)

We focus here on outlining the restrictions that one should impose on the sector-specific labor
demand shifters {(χ̂s , µ̂s )}s , region- and sector-specific labor demand shifters {η̂is }i,s , group-specific

labor supply shifters, {ν̂g } g , and region-specific labor supply shifters {ν̂i }i (all of them introduced in

the model in Section 3) so that the IV estimator that uses Xi,− as an instrument yields a consistent
estimate of φ̃.

The variable Xi,− in eq. (E.15) is a valid instrument as long as we can write
L̂is = Xs + ψis ,

(E.16)

and the following restrictions hold
E[Xs |ω̂ (0), L̂(0), L0 ] = E[Xs ],

E[lis0 ψis |ω̂−i (0), L̂−i (0), L0 ] = 0,

0
E[lis0 ψis l js
ψjs |ω̂−i (0), L̂−i (0), L0 ] = 0,

71

for all s,

(E.17)

for all i and s,

(E.18)

for all i 6= j and s,

(E.19)

where ω̂−i (0) ( L̂−i (0)) denotes the change in wages (employment shares) in every region other than
i when the sectoral shock of interest equals 0 for all sectors (i.e. Xs = 0 for all s), and L0 is the vector

all region- and sector-specific shares in the initial equilibrium (i.e. L0 = {lis0 }i,s ).

According to the model in Section 3, we can express the changes in employment in sector s in a

region i as
L̂is = −σs ω̂i + ρs χ̂s + µ̂s + η̂is .
Combining this expression with the expression for ω̂i in eq. (E.8) in Appendix E.2.1, we can rewrite
the change in employment in sector s and region i approximately as
L̂is = −σs φ̃

S

∑

s 0 =1

G

lis0 0 [θis0 χ̂s0 + λi µ̂s0 + λi η̂is0 ] + σs φ̃λi ( ∑ w̃ig ν̂g + ν̂i ) + ρs χ̂s + µ̂s + η̂is ,

(E.20)

g =1

h
i −1
with λi ≡ φ φ + ∑Ss=1 lis0 σs
, θis ≡ ρs λi , and φ̃ = φ−1 .

Without imposing any restrictions on the values of the labor demand and supply elasticities, the

expression for L̂is in eq. (E.20) will not satisfy the restrictions in eq. (E.16) to eq. (E.19). To illustrate
this point, we can map the different terms in eq. (E.20) into those in eq. (E.16) as
Xs = ρs χ̂s + µ̂s ,
ψis = −σs φ̃

(E.21)

S

G

s =1

g =1

lis0 0 [θis0 χ̂s0 + λi µ̂s0 + λi η̂is0 ] + σs φ̃λi ( ∑ w̃ig ν̂g + ν̂i ) + η̂is .
∑
0

(E.22)

Under this definition of the labor demand shock Xs , the potential outcomes ω̂i (0) and L̂i (0) are
S

G

s =1

g =1

ω̂i (0) = φ̃ ∑ lis0 λi η̂is − φ̃λi ( ∑ w̃ig ν̂g + ν̂i ),
L̂i (0) =

S

G

s =1

g =1

∑ lis0 λi η̂is + (1 − λi ) ( ∑ w̃ig ν̂g + ν̂i ).

(E.23)
(E.24)

Given the expressions in eqs. (E.22) to (E.24), the restriction on ψis in eq. (E.19) will not be satisfied:
for any two regions i and i0 , ψis and ψi0 s are a function of the same set of sectoral demand shocks {χ̂s }s

and {µ̂s }s and, thus, ψis and ψi0 s will generally be correlated with each other. Thus, unless additional

restrictions are imposed, the IV estimator that uses the variable described in eq. (E.15) as instrument
for L̂i in eq. (E.13) will not be a consistent estimator of φ̃.
However, under the restriction that σs = 0 for every sector s, the expression for L̂is in eq. (E.20)
will satisfy the restrictions in eq. (E.16) to eq. (E.19). In this case,
Xs = ρs χ̂s + µ̂s ,

(E.25)

ψis = η̂is ,

(E.26)

and ω̂i (0) and L̂i (0) correspond to the expressions in eq. (E.23) and eq. (E.24). Thus, if the sectorspecific labor demand shocks {(χ̂s , µ̂s )}s are mean independent of the region-specific labor supply
72

shocks {ν̂g } g and {ν̂i }i as well as of the region- and sector-specific labor demand shocks {η̂is }i,s , the

restriction in eq. (E.17) will hold. Additionally, under the additional assumption that ηis is mean zero
and uncorrelated with η js for every i 6= j and s, the restrictions in eqs. (E.18) and (E.19) will hold.
Thus, if these additional restrictions on the model in Section 3 hold, the IV estimator that uses the
variable described in eq. (E.15) as instrument to estimate φ̃ in eq. (E.13) will be consistent.
There are two alternative instrumental variables that do not use data on any specific labor demand
shock and that lead to consistent estimates of the inverse labor supply elasticity φ̃ under weaker
restrictions than those needed for the instrument in eq. (E.15) to be valid.
First, conditional on a calibrated value of σs for every sector s, one may estimate φ̃ using as an
instrument for L̂i the following leave-one-out estimator:
X̃i,− =

S

∑

s =1

lis0 L̃ˆ s,−i ,

with

L̃ˆ s,−i =

N

L0js

j=1,j6=i

0
∑N
j0 =1,j0 6=i L j0 s

∑

L̃ˆ js ,

and

L̃ˆ is = L̂is − σs ω̂i .

(E.27)

Combining the expression for L̂is in eq. (E.20) and the expression for ω̂i in eq. (E.8), we can write
L̃ˆ is = ρs χ̂s + µ̂s + η̂is .

(E.28)

Thus, we can define Xs and ψis as in eq. (E.25) and eq. (E.26). Consequently, as discussed above,
eqs. (E.17) to (E.19) will hold if: (a) the sector-specific labor demand shocks {(χ̂s , µ̂s )}s are mean

independent of the region-specific labor supply shocks {ν̂g } g and {ν̂i }i as well as of the region- and
sector-specific labor demand shocks {η̂is }i,s ; and (b) ηis is mean zero and uncorrelated with η js for

every i 6= j and s. Thus, under these two sets of assumptions, the IV estimator that uses the variable

described in eq. (E.27) as instrument for L̂i in eq. (E.13) will be a consistent estimator of φ̃ no matter
what the value of the labor demand elasticities {σs }s is.

Second, under the assumption that the labor demand elasticity is constant across sectors (i.e.

σs = σ for every s), the residual from projecting L̂is , as defined in eq. (E.20), on a set of region-specific
fixed effects is equivalent to L̃ˆ , as defined in eq. (E.28). Therefore, once we define X and ψ as in
s

is

is

eq. (E.25) and eq. (E.26), the IV estimator that uses the variable described in eq. (E.27) as an instrument
for L̂i in eq. (E.13) will be a consistent estimator of φ̃ if two assumptions hold: (a) the sector-specific
labor demand shocks {(χ̂s , µ̂s )}s are mean independent of the region-specific labor supply shocks

{ν̂g } g and {ν̂i }i as well as of the region- and sector-specific labor demand shocks {η̂is }i,s ; and (b) ηis
is mean zero and uncorrelated with η js for every i, j, and s.
E.2.4 Placebo exercise

In this section, we implement a placebo exercise to evaluate the finite-sample properties of our suggested inference procedures when using the shift-share IVs introduced in Section 5.3. For each
placebo sample m = 1, . . . , 30, 000, we construct sector- and region-specific shocks Xism = Xsm + ψism ,
where Xsm and ψism are independently drawn from normal distributions with variances equal to 5

and 10, respectively. We then use data on employment shares of U.S. CZs by 4-digit manufacturing

73

sectors, {wis }iN,S
=1,s=1 to compute
Yi2 =

S

S

∑ wis Xism ,

Yi1 = ρ ∑ wis ψism +
s =1

s =1

S

∑ wis Ams ,

s =1

where Am
s is independently drawn from a normal distribution with variance equal to 20.
Our goal is to estimate the effect α of Yi2m on Yi1m ,

Yi1m = Yi2m α + eim .

(E.29)

Note that, by the above construction, α = 0. Therefore, the residual is eim = Yi1m = ρ ∑Ss=1 wis ψism +

∑Ss=1 wis Am
s , which indicates that there is a potential endogeneity problem stemming from the fact
m
that ψis affects both Yi1m and Yi2m whenever ρ 6= 0.
We consider three different shift-share IVs. First, we consider the IV constructed directly with the

shock Xsm :
Xim =

S

∑ wis Xsm .

s =1

Second, we consider an IV constructed with the aggregate growth in Xis :
X̂im =

S

∑ wis X̂sm

s =1

such that X̂sm ≡

N

∑

i =1

w̌is
N
∑ j=1 w̌ js

!

Xism

0
where w̌is = L0is / ∑ N
j=1 L js is the share of CZ i in the national employment of sector s in 1990. Third,

we consider an IV constructed with leave-one-out aggregate growth in Xis :
X̂i,m− =

S

∑ wis X̂s,m−i

s =1

such that X̂s,m−i ≡

N

w̌ js

j=1,j6=i

∑oN=1,j6=i w̌os

∑

!

X jsm .

The instruments Xim and X̂i,m− are always valid in our setting. However, whenever ρ 6= 0, the

instrument X̂im is invalid since {ψism }Ss=1 affect X̂im and ei .

Table E.6 reports the results of this placebo exercise for different values of ρ. In Panel A, we report

results using Xim as an instrument; we denote this instrument as the “infeasible” IV, as its construction
requires observing the shifters {Xs }s . As expected, for all values of ρ, the median α̂m across placebo

samples is zero. Because of the shift-share structure of ei , robust and state-clustered standard error
estimators underestimate the variability of the estimates, while AKM and AKM0 inference procedures
yield good coverage. Panel B presents the results based on the feasible shift-share IV X̂im . When using this IV, higher levels of ρ yield higher average estimates of α. This follows from the endogeneity

problem created by the fact that {ψism }s are part of both the dependent variable, Yi1m , and the instrument, X̂im . Finally, Panel C presents results based on the leave-one-out IV X̂i,m− . This instrument is not

affected by an endogeneity problem, as it does not use information on region i-specific shocks {ψism }s

when constructing the region i-specific variable X̂i,m− . Thus, the average of the IV estimates of α that

use X̂i,m− as an instrument is also very close to zero for all values of ρ. The results in Panel C also show
74

Table E.6: Mismeasured shifter: impact on standard errors and rejection rates.
ρ

Estimate

Median eff. s.e.

Rejection rate of H0 : β = 0

Median eff. s.e. Robust Cluster AKM AKM0 AKM AKM0 Robust Cluster AKM AKM0 AKM AKM0
Leave-one-out
Leave-one-out
(1)

(2)

(3)

75

(4)

(5)

(6)

(7)

(8)

Panel A: Unfeasible shift-share IV
0
0.00
0.35
0.16
0.18
5
0.01
0.97
0.77
0.76
10 −0.02
1.86
1.53
1.50

0.29
0.80
1.52

0.37
1.05
2.01

−
−
−

−
−
−

(10)

(11)

(12)

0.33
0.08
0.07

0.29
0.09
0.08

0.09
0.08
0.08

0.04
0.04
0.04

−
−
−

−
−
−

−
−
−

0.33
0.89
0.91

0.29
0.89
0.90

0.09
0.85
0.88

0.04
0.79
0.83

Panel C: Shift-share IV with aggregate sector-level growth (leave-one-out)
0
0.00
0.36
0.17
0.18
0.30
0.40
0.31
0.32
0.32
5
−0.07
1.06
0.82
0.80
0.87
1.24
0.93
0.95
0.07
10 −0.16
2.03
1.62
1.59
1.66
2.37
1.78
1.80
0.06

−
−
−

−
−
−

0.29
0.08
0.07

0.09
0.06
0.06

0.04
0.05
0.05

0.08
0.05
0.05

Panel B: Shift-share IV with aggregate sector-level growth
0
0.00
0.23
0.11
0.12
0.20
0.22
−
5
1.66
0.50
0.39
0.40
0.45
0.51
−
10
3.30
0.93
0.77
0.77
0.84
0.95
−

(9)

(13)

(14)

0.03
0.03
0.03

Notes: This table reports the median and effective standard error estimates of the IV estimates of α in eq. (E.29) across the placebo samples (columns (1) and (2)), the
median effective standard error estimates (columns (3) to (8)), and the percentage of placebo samples for which we reject the null hypothesis H0 : β = 0 using a 5%
significance level test (columns (9) to (14)). For each value of ρ, we generate 30,000 simulated samples with sector-region shocks Xism = Xsm + ψism , where Xsm ∼ N (0, 5)
m
and ψism ∼ N (0, 10). We then construct Yi2 = ∑Ss=1 wis Xism and Yi1 = ρ ∑s wis ψism + ∑s wis Am
s , where As ∼ N (0, 20). Robust is the Eicker-Huber-White standard error;
Cluster is the standard error that clusters CZs in the same state; AKM is the standard error in Remark 5; AKM0 is the confidence interval in Remark 6. AKM (leaveone-out) and AKM0 (leave-one-out) are the versions of AKM and AKM0 in Section 5.3. For each inference procedure, the median effective standard error is equal to the
median length of the corresponding 95% confidence interval divided by 2 × 1.96.

Table E.7: Estimation of inverse labor supply elasticity: robustness with different control sets
(1)

(2)

(3)

(4)

Panel A: Bartik IV, Not leave-one-out estimator
β̂
0.75
Robust
[0.48, 1.03]
Cluster
[0.44, 1.07]
AKM
[0.59, 0.92]
AKM0
[0.56, 0.95]

0.8
[0.64, 0.97]
[0.60, 1.01]
[0.62, 0.98]
[0.59, 1.02]

0.83
[0.56, 1.1]
[0.55, 1.11]
[0.60, 1.06]
[0.61, 1.21]

0.8
[0.64, 0.96]
[0.59, 1.02]
[0.62, 0.98]
[0.59, 1.01]

Panel B: Bartik IV, Leave-one-out estimator
β̂
0.76
Robust
[0.48, 1.03]
Cluster
[0.43, 1.08]
AKM
[0.59, 0.92]
AKM0
[0.57, 0.96]
AKM (leave-one-out)
[0.59, 0.92]
AKM0 (leave-one-out)
[0.56, 0.97]

0.82
[0.65, 0.98]
[0.60, 1.03]
[0.62, 1.01]
[0.60, 1.07]
[0.61, 1.02]
[0.59, 1.09]

0.83
[0.56, 1.10]
[0.55, 1.11]
[0.58, 1.08]
[0.59, 1.28]
[0.58, 1.08]
[0.59, 1.29]

0.81
[0.65, 0.98]
[0.59, 1.04]
[0.63, 1.00]
[0.60, 1.04]
[0.62, 1.01]
[0.59, 1.06]

Yes
Yes
No

Yes
No
Yes

Yes
Yes
Yes

Controls:
Period dummies
Controls in Autor et al. (2013)
Controls in Amior and Manning (2018)

Yes
No
No

Notes: N = 1, 444 (722 CZs × 2 time periods). The dependent variable is the log-change in mean weekly earnings in CZ i, and
the regressor is the log-change in the employment rate in CZ i. Observations are weighted by the 1980 CZ share of national
population. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is the standard
error that clusters of CZs in the same state; AKM is the standard error in eq. (40) with 3-digit SIC clusters; AKM0 is the confidence
interval with 3-digit SIC clusters described in Section 5.1; AKM (leave-one-out) is the standard error in section 5.3 with 3-digit
SIC clusters; AKM0 (leave-one-out) is the confidence interval with 3-digit SIC clusters described in section 5.3. Baseline controls
in Autor et al. (2013) are the controls in column 6 of Table 3 in ADH. Amenity controls in Amior and Manning (2018): binary
indicator for presence of coastline, three temperature indicators, log population density in 1900, log distance to the closest CZ.

that the leave-one-out versions of the AKM and AKM0 inference procedures (see Section 5.3) yield
slightly larger median effective standard errors than the baseline versions of the AKM and AKM0 procedures (see Section 4.3). In this particular application, the magnitude of the adjustment is modest:
the implied rejection rates for the null hypothesis H0 : α = 0 differ by less than 2 percentage points.
E.2.5 Additional results
Table E.7 reports estimates of the inverse labor supply elasticity with alternative sets of controls.
Column (2) replicates the estimates of Panels A and B in column (3) of Table 6. Table E.7 shows
that these results are robust to controlling (a) only for period dummies (column (1)); (b) for period
dummies and the proxies for region-specific labor supply shocks included in Amior and Manning
(2018) (column (3)); (c) for period dummies, the controls included in Autor, Dorn and Hanson (2013)
and the proxies for region-specific labor supply shocks in Amior and Manning (2018) (column (4)).

76

Appendix F

Effect of immigration on U.S. local labor markets

To complement the empirical applications discussed in Section 7, we present here the results of
estimating of the impact of immigration on labor market outcomes in the US. To this end, we estimate
the model
Yit = β∆ImmShareit + Zit0 δ + eit ,

(F.1)

where, for observation or cell i, Yit is the change in a labor market outcome for native workers between
years t and t − 10, ∆ImmShareit is the change in the share of immigrants in total employment between
years t and t − 10, and Zit is a control vector that includes fixed effects.

Following Dustmann, Schönberg and Stuhler (2016), one may classify different approaches to the

estimation of β in eq. (F.1) on the basis of the definition of the cell i: in the skill-cell approach, i corresponds to an education-experience cell defined at the national level (e.g. Borjas, 2003); in the spatial
approach, i corresponds to a region (e.g. Altonji and Card, 1991); in the mixed approach, i corresponds to
the intersection of a region and an occupation, or a region and an education group (e.g. Card, 2001).
In the spatial and mixed approaches, since Altonji and Card (1991) and Card (2001), it has become
common to instrument for the change in the immigrant share ∆ImmShareit using a shift-share IV:
Xit =

G

∑ ImmShareigt

g =1

0

∆Imm gt
,
Imm gt0

(F.2)

where g indexes countries (or groups of countries) of origin of immigrants, and t0 is some pre-sample
or beginning-of-the-sample time period. The variable ImmShareigt0 plays the role of the share wis in
eq. (1) and denotes the share of immigrants from origin g in total immigrant employment in cell i
in year t0 ; the ratio ∆Imm gt /Imm gt0 plays the role of the shifter Xs in eq. (1), with ∆Imm gt denoting
the change in the total number of immigrants coming from origin g between years t and t − 10, and
Imm gt0 denoting the total number of immigrants from region g at the national level in year t0 .

When estimating the parameter of interest β in eq. (F.1), the researcher must make a choice on
the sample period or time frame of the analysis, and on the G countries (or areas) of origin used to
construct the shift-share IV. In Appendix F.1, we discuss two different sample periods previously
used in the literature, and present a list of areas of origin of immigrants for which information is
available in each of the two sample periods. In Appendix F.2, we present placebo evidence that
illustrates the finite-sample properties of the different inference procedures when applied to the two
sample periods discussed in Appendix F.1 and when using different sets of countries of origin of
immigrants to construct the shift-share IV in eq. (F.2). The main conclusion that arises from these
placebo simulations is that restricting the set of countries of origin used in the construction of the
shift-share IV to those with a relatively small value of ImmShareigt0 generally improves the finitesample coverage of all different inference procedures. Consequently, in Appendix F.3, we present
estimates of β in eq. (F.1) that use information on a restricted set of countries when building the
shift-share IV in eq. (F.2). For the sake of comparison, in Appendix F.4, we present estimates that use
information on all countries for which information on immigration flows into the US is available for
the relevant sample period.
77

In Appendices F.3 and F.4, we present estimates of specifications that follow either the spatial
approach or the mixed approach. In all specifications, information on all variables entering eqs. (F.1)
and (F.2) comes from the Census Integrated Public Use Micro Samples for 1980–2000 and the American Community Survey for 2008–2012. In all regressions, the vector of controls Zit includes period
dummies and, when implementing the mixed approach, we also add occupation- or education-groupspecific dummies to the vector Zi . All tables referenced in this section are included at the end.

F.1

Sample periods and list of countries of origin of immigrants

The results we present use one of two time frames. The first one uses information on immigrant
shares (i.e. the variable ImmShareigt0 in eq. (F.2)) measured in 1980, and information on the outcome variables, endogenous treatment, and shifters of interest (i.e. the variables Yit , ∆ImmShareit and
∆Imm gt in eqs. (F.1) and (F.2)) for the periods 1980–1990, 1990–2000, and 2000–2010. Table F.1 lists all
countries or areas of origin that we consider for which information on the number of immigrants in
the U.S. is available for all periods in this time frame (i.e. 1980, 1990, 2000, and 2010).
The second time frames uses information on immigrant shares measured in 1960, and information
on the outcome variables, endogenous treatment, and shifters of interest for the period 1970–1980.
Table F.2 lists all countries or areas of origin that we consider for which information on the number
of immigrants in the U.S. is available for all periods in this time frame (i.e. 1960, 1970 and 1980).
In both Tables F.1 and F.2, we have marked in italics those countries or areas of origin that account for a relatively large share (larger than 3%) of the overall immigrant U.S. population in the
corresponding base year (this base year is 1980 for Table F.1 and 1960 for Table F.2).

F.2

Placebo simulations

In Tables F.3 and F.4, we present the results of placebo exercises that illustrate the properties of
different inference procedures for the parameter on the shift-share covariate in eq. (F.2) in regressions
of labor market outcomes for native workers on this shift-share covariate. The only difference between
the analysis in Table F.3 and the analysis in Table F.4 is in the set of areas of origin of immigrants used
to construct the shift-share covariate in eq. (F.2). While the former uses information only on those
countries of origin whose total share of immigrants in the corresponding baseline year t0 (either 1960
or 1980, depending on the specification) is below 3% (i.e. it uses information only on those countries
of origin g that satisfy ∑iN=1 ImmShareigt0 / ∑iN=1 ∑G
g0 =1 ImmShareig0 t0 ≤ 0.03), the latter uses information
on all areas of origin of immigrants listed in the tables described in Appendix F.1.

We present results for four outcome variables: the change in employment (∆ log Ei ) and average
wages (∆ log wi ) across all native workers, and the change in average wages for high-skill and lowskill workers. For each of the four outcome variables, we consider several regressions in which we
vary both the definition of a cell or unit of observation, and the sample period. The first four rows of
each panel in Tables F.3 and F.4 implement a purely spatial approach, defining each unit of observation
as a commuting zone (CZ) or as a metropolitan statistical area (MSA). The last four rows follow a
mixed approach, defining each unit as the intersection of a CZ and either one of the fifty occupations
defined in Burstein et al. (2018) (CZ-50 Occ.), one of seven aggregate occupations defined similarly to
78

Card (2001) (CZ-7 Occ.), or one of two education groups (CZ-Educ.). In terms of sample periods, we
explore two alternatives. We either define the weights in 1980 and measure the outcome variable as
the 1980–1990, 1990–2000, and 2000–2010 changes in log employment or log wages or, alternatively,
we measure the weights in 1960 and measure the outcome variable as the 1970–1980 change in the
variable of interest.
Tables F.3 and F.4 yield three key takeaways. First, robust standard errors are generally biased
downward, leading frequently to an overrejection problem.
Second, when we construct the shift-share covariate in eq. (F.2) relying only on countries of origin
with relatively small shares of U.S. immigrant population in the baseline year, state-clustered standard
errors yield adequate rejection rates when the unit of observation is defined as the intersection of a CZ
and fifty detailed occupation groups, shares are measured in 1980, and the outcome is defined as the
subsequent three decadal changes. In all other cases, inference procedures based on state-clustered
standard errors tend to overreject.
Third, the AKM and AKM0 inference procedures perform much better when the shift-share covariate in eq. (F.2) is constructed using only countries of origin with relatively small shares of U.S.
immigrant population in the baseline year, so that Assumptions 2(ii) and 2(iii) more plausibly hold.
Furthermore, these inference procedures also tend to perform better in specifications that apply a
mixed approach than in those that apply a purely spatial approach. One possible explanation for this
pattern is that our asymptotics require that the number of observations N → ∞; thus, the behavior

of the AKM and AKM0 inference procedures is generally better in samples with a larger number of
observations, and the mixed approach, which intersects each region with several occupations or education groups, yields larger sample sizes. Importantly, while the AKM inference procedure may still
lead to confidence intervals that are too short in several specifications, the AKM0 inference procedure
generally yields accurate rejection rates. However, confidence intervals based on the AKM0 inference
procedure may be very conservative for certain specifications.

F.3

Results with a restricted set of origin countries

All results presented in this section exploit information only on those countries of origin whose
total share of immigrants in the corresponding baseline year t0 (either 1960 or 1980, depending
on the specification) is below 3%. More precisely, these results presented here are computed using an IV such as that in eq. (F.2) constructed excluding those countries of origin g for which
∑iN=1 ImmShareigt0 / ∑iN=1 ∑G
g0 =1 ImmShareig0 t0 > 0.03. We exclude large origin countries so that Assumptions 2(ii) and 2(iii) more plausibly hold. The simulations in Appendix F.2 also suggest that
excluding large origin countries should lead to better finite-sample performance of the inference
procedures that we propose.6
Table F.5 presents results for three different implementations of the mixed approach. In all three
cases, the data comes from a three-period panel with t = {1990, 2000, 2010} and t0 = 1980. The
implementations differ in the definition of a cell. In columns (1) to (4) of Table F.5, a cell corresponds

6 Our theory currently does not provide guidance on the particular threshold that one should choose. While we find that
the 3% threshold works well in the placebo exercises in this particular application, we leave the question of what threshold
one should in general pick to ensure that Assumptions 2(ii) and 2(iii) plausibly hold to future research.

79

to the intersection of a CZ and one of the 50 occupations defined in Appendix F of Burstein et al.
(2018). In columns (5) and (6), we define a cell as the intersection of a CZ and one of two education
groups: high school-equivalent or college-equivalent educated workers (see Card, 2009). In columns
(7) to (10), a cell corresponds to the intersection of a CZ and one of seven aggregate occupations (see
Card, 2001).7
Although Table F.5 adopts occupational definitions that build on those in Burstein et al. (2018) and
Card (2001), our specifications do not exactly match their definition of shares and shifters. Thus, our
estimates should not be viewed as a test of the robustness of the results presented in these studies.
Furthermore, no matter which definition of cell we use, when interpreting our estimates, one should
bear in mind that, as discussed in Jaeger, Ruist and Stuhler (2018a), these may conflate the short- and
the long-run responses to immigration shocks.
The magnitude and statistical significance of the estimates of β in eq. (F.1) is generally consistent
across the specifications studied in Table F.5. In terms of the impact of immigration on native employment, we find that a one percentage point increase in the share of immigrants in total employment
reduces the number of native workers employed by 1.19–1.49%, with all estimates of β being statistically different from zero at the 5% level for all four inference procedures that we consider. In terms
of the impact of immigration on natives’ average weekly wages, we find that the estimated impact of
an increase in the immigrant share is not statistically different from zero at the 5% significance level
according to the AKM and AKM0 CIs; this is true for all three cell definitions and no matter whether
we compute average wages for all workers, only for high-skill workers or only for low-skill workers.
Robust and Cluster CIs also indicate that the effect of immigration on natives’ average weekly wages
is not statistically different from zero at the 5% significance level when each cell corresponds to the
intersection of a CZ and an education group, but these standard inference procedures sometimes
predict that immigration has a positive effect on the wages of high-skill workers when occupations
are used to define the unit of analysis (see columns (3) and (9) in Table F.5).
While all inference procedures broadly agree in the statistical significance (at the 5% significance
level) of the impact of immigration on natives’ labor market outcomes, there is considerable heterogeneity across specifications in the length of the AKM and AKM0 confidence intervals relative to those
based on Robust and Cluster standard errors. In columns (1) to (4), which use detailed occupations
to define cells, AKM and AKM0 CIs tend to be very similar (in some cases, even slightly smaller) to
those based on state-clustered standard errors, although they are generally much larger than those
based on robust standard errors. In contrast, for the other two cell definitions, the IV AKM and
AKM0 CIs are on average, 200% and 356% wider than those based on state-clustered standard errors,
and the reduced-form AKM and AKM0 CIs are on average 228% and 358% wider than those based
on state-clustered standard errors. Similarly, the CIs for the first-stage coefficient, reported in Panel
C, AKM and AKM0 CIs are more than twice as wide as Robust and Cluster CIs.8
7 We group the 50 disaggregated occupations used in Burstein et al. (2018) into seven aggregate occupations: laborers,
farm workers and low-skilled service workers; operatives and craft workers; clerical workers; sales workers; managers;
professional and technical workers; and others.
8 The results in Table F.5 are consistent with the placebo simulation results in Table F.3, which show that state-clustered
standard errors lead to rejection rates that are very close to the nominal level when a cell is defined as the intersection of
CZs and 50 occupations, but lead to overrejection for the other two cell definitions.

80

To understand why standard inference procedures may lead to overrejection of the null hypothesis
of no effect in certain cases, recall from the discussion in Section 4.1 that robust and state-clustered
standard errors may be biased downward even if there is no shock in the structural residual that
varies exactly at the same level as the shifters of interest; a downward bias will arise so long as there
is a shift-share component in the residual with shares that have a correlation structure similar to that
of the shares used to construct the shift-share instrument. We present simulations that illustrate this
point in Appendix D.6.
Tables F.6 and F.7 present results for different versions of the spatial approach, using CZs and MSAs
as unit of observation, respectively. We present both estimates that measure the immigrant shares
ImmShareigt0 in 1980 and use data on shifters and outcomes for the periods 1980–1990, 1990–2000,
and 2000–2010, and estimates that measure the immigrant shares in 1960 and use data on outcomes
only for the period 1970–1980. While the first sample definition mimics that in Table F.5, the second
one is suggested in Jaeger, Ruist and Stuhler (2018b) as being more robust to potential bias in the
estimates of β that arise from the combination of serial correlation in the shifters ∆Imm gt and the
potentially slow adjustment of labor market outcomes to these immigration shocks.
The placebo simulation results for the different specifications considered in Tables F.6 and F.7 (see
Table F.3) reveal that, due to the relatively small number of observations (i.e. small number of MSAs
and CZs; small value of N) and, in the case of the specification that relies on immigrants shares
measured in 1960, the relatively small number of countries of origin of immigrants (i.e. small value of
G), only the AKM0 inference procedure consistently yields rejection rates that are close to the nominal
level of 5%. However, the AKM0 procedure yields CIs with an implied median effective standard error
that is much larger than the true standard deviation of the estimator. It is thus conservative. Thus,
the placebo results suggest that, for most of the specifications considered in Tables F.6 and F.7, the
AKM0 CIs may be conservative and the Robust, Cluster and AKM CIs may be too small. It is thus
not surprising that, for the different specifications considered in Tables F.6 and F.7, the AKM0 CIs are
much larger than than those implied by the other three inference procedures.9
Finally, Tables F.8 to F.10 report p-values for the null hypothesis of no effect for all specifications
considered in Tables F.5 to F.7, respectively.

F.4

Results with all origin countries

Tables F.11 to F.16 present results analogous to those in Tables F.5 to F.10, respectively. While the
latter set of tables, as described in Appendix F.3, use a shift-share instrument that excludes countries
of origin that account for more than 3% of the overall immigrant population in the baseline year, the
former uses all areas of origin of immigrants listed in Tables F.1 and F.2.
As the results of placebo simulations presented in Table F.4 show, using all countries of origin
to construct the shift-share instrumental variable of interest results in the Robust, Cluster and AKM
standard errors underestimating the sampling variability of the estimator of interest. Table F.4 also
shows that not excluding any country of origin from the construction of the instrument in eq. (F.2)
9 This is particularly noticeable for the IV results in Panel A; however, to interpret these CIs, one should bear in mind
that, as the first-stage results in Panel C show, the shift-share IV is weak in these specifications. In the presence of weak
IVs, only the AKM0 confidence interval remains valid in general (see discussion in Section 4.3).

81

Table F.1: Origin countries (1980 weights)
Afghanistan
Africa
Albania
Andorra and Gibraltar
Austria
Belgium
Brunei
Cambodia
Canada
Central America
China
Cuba and West Indies
Cyprus
Eastern Europe
England

France
Greece
Gulf States
India
Indonesia
Iran
Iraq
Ireland
Israel/Palestine
Italy
Japan
Jordan
Korea
Laos
Lebanon

Liechtenstein and Lux.
Malaysia
Maldives
Malta
Mexico
Nepal
Netherlands
Oceania
Other
Other Europe
Other USSR and Russia
Philippines
Portugal
Rest of Asia
Saudi Arabia

Scandinavia
Scotland
Singapore
South America
Spain
Switzerland
Syria
Thailand
Turkey
Vietnam
Wales
Yemen

Notes: In italics, countries that are dropped from the sample when considering only countries whose share is below 3%;
i.e. those countries in italics are countries of origin g such that (∑iN=1 ImmShareig,1980 / ∑iN=1 ∑G
g0 =1 ImmShareig0 ,1980 ) >
0.03.

Table F.2: Origin countries (1960 weights)

Africa
Albania

France
Greece

Liechtenstein and Lux.

India
Austria
Belgium

Canada
Central America
China
Cuba and West Indies

Mexico
Ireland
Israel/Palestine
Italy
Japan
Korea

Eastern Europe
England

Netherlands
Oceania
Other
Other Europe
Other USSR and Russia
Philippines
Portugal
Rest of Asia

Scandinavia
Scotland
South America
Spain
Switzerland
Syria
Turkey
Wales

Lebanon

Notes: In italics, countries that are dropped from the sample when considering only countries whose share is below 3%;
i.e. those countries in italics are countries of origin g such that (∑iN=1 ImmShareig1960 / ∑iN=1 ∑G
g0 =1 ImmShareig0 1960 ) >
0.03.

results in the AKM0 inference procedure being too conservative: the 95% confidence interval often
has an infinite length and the rejection rates are generally much smaller than the 5% nominal rate.
Given the relatively poor performance of all inference procedures in the placebo simulations, one
should use caution when extracting conclusions from the estimates presented in Tables F.11 to F.16.

82

Table F.3: Reduced-form placebo with origin countries below 3% of total immigrant share
Median eff. s.e.
∆ log Ei
Unit obs.

Weights

All
(1)

Rejection rate for H0 : β = 0 at 5%

∆ log wi
All
(2)

High-Skill
(3)

Panel A: Standard deviation of placebo estimate
CZ
1980
1.14
0.46
0.30
CZ
1960
0.96
0.81
0.80
MSA
1980
1.94
0.49
0.74
MSA
1960
1.99
0.25
0.33
CZ-50 Occ.
1980
0.17
0.06
0.07
CZ-7 Occ.
1980
1.59
0.40
0.47
CZ-Educ.
1980
2.88
0.54
—
Panel B: Robust standard error
CZ
1980
0.49
0.21
0.20
CZ
1960
0.77
0.31
0.32
MSA
1980
1.82
0.33
0.35
MSA
1960
1.47
0.24
0.27
CZ-50 Occ.
1980
0.11
0.05
0.06
CZ-7 Occ.
1980
0.47
0.16
0.19
CZ-Educ.
1980
0.65
0.15
—
Panel C: State-clustered standard error
CZ
1980
0.70
0.26
0.27
CZ
1960
1.03
0.46
0.48
MSA
1980
2.11
0.29
0.32
MSA
1960
1.62
0.20
0.23
CZ-50 Occ.
1980
0.14
0.07
0.06
CZ-7 Occ.
1980
0.64
0.23
0.26
CZ-Educ.
1980
0.98
0.23
—
Panel D: AKM standard error
CZ
1980
0.91
0.40
0.24
CZ
1960
0.73
0.67
0.62
MSA
1980
1.60
0.39
0.62
MSA
1960
1.39
0.20
0.26
CZ-50 Occ.
1980
0.15
0.06
0.06
CZ-7 Occ.
1980
1.49
0.35
0.40
CZ-Educ.
1980
2.40
0.49
—
Panel E: AKM0 standard error
CZ
1980
∞
∞
∞
CZ
1960
3.04
3.13
2.67
MSA
1980
30.16
7.92
17.82
MSA
1960
∞
∞
∞
CZ-50 Occ.
1980
0.25
0.09
0.10
CZ-7 Occ.
1980
2.89
0.66
0.76
CZ-Educ.
1980
8.10
1.75
—

∆ log Ei
Low-Skill
(4)

∆ log wi

All
(5)

All
(6)

High-Skill
(7)

Low-Skill
(8)

0.25
0.39
0.37
0.30
0.06
0.18
—

37.82%
9.24%
8.12%
20.12%
20.22%
63.04%
67.22%

43.17%
47.70%
20.42%
2.73%
12.46%
44.33%
66.12%

12.45%
37.09%
43.80%
3.62%
8.57%
41.78%
—

73.21%
68.84%
42.74%
48.74%
4.51%
45.89%
—

0.34
0.60
0.43
0.35
0.06
0.25
—

23.76%
2.01%
3.42%
17.72%
9.21%
49.70%
50.31%

30.73%
26.87%
24.52%
7.59%
5.24%
27.94%
50.35%

5.44%
12.68%
49.14%
12.52%
5.01%
27.90%
—

62.41%
51.41%
36.30%
41.45%
1.64%
29.90%
—

0.95
1.37
0.73
0.55
0.05
0.37
—

12.01%
11.27%
25.50%
22.88%
11.63%
19.94%
17.46%

23.27%
15.35%
15.31%
11.71%
10.77%
14.79%
25.09%

5.40%
9.30%
22.26%
7.66%
8.16%
12.98%
—

30.31%
20.06%
17.92%
23.57%
10.02%
20.63%
—

∞
6.31
12.70
∞
0.08
0.72
—

2.74%
3.10%
1.93%
2.85%
4.43%
4.67%
4.65%

1.63%
3.16%
1.25%
2.84%
4.13%
3.72%
3.17%

3.07%
5.04%
0.80%
2.30%
3.63%
4.08%
—

1.00%
2.26%
1.41%
0.52%
4.35%
4.08%
—

1.04
1.51
0.83
0.71
0.06
0.42
—

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers.
Whenever we use 1980 weights, we use observations for the time periods 1980–1990, 1990–2000, 2000–2010. Whenever we use
1960 weights, we use observations for the time period 1970–1980. We use information on 722 CZs when combined with both 1960
and 1980 weights, on 257 MSAs when combined with 1980 weights, and 217 MSAs when combined with 1960 weights. Models
are weighted by the start-of-period share of national population. Robust is the Eicker-Huber-White standard error; Cluster is
the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the confidence
interval in Remark 6. The median effective standard error is equal to the median length of the corresponding 95% confidence
interval divided by 2 × 1.96. Results are based on 30,000 placebo samples.

83

Table F.4: Reduced-form placebo with all origin countries
Median eff. s.e.
∆ log Ei
Unit obs.

Weights

All
(1)

Rejection rate for H0 : β = 0 at 5%

∆ log wi
All
(2)

High-Skill
(3)

∆ log Ei
Low-Skill
(4)

Panel A: Standard deviation of placebo estimate
CZ
1980
0.21
0.18
0.15
CZ
1960
0.27
0.20
0.18
MSA
1980
0.40
0.06
0.06
MSA
1960
0.51
0.12
0.10
CZ-50 Occ.
1980
0.11
0.04
0.02
CZ-7 Occ.
1980
0.51
0.15
0.2
CZ-Educ.
1980
0.60
0.15
—
Panel B: Robust standard error
CZ
1980
0.12
0.05
0.04
CZ
1960
0.13
0.05
0.05
MSA
1980
0.20
0.03
0.03
MSA
1960
0.34
0.08
0.08
CZ-50 Occ.
1980
0.04
0.02
0.02
CZ-7 Occ.
1980
0.15
0.05
0.04
CZ-Educ.
1980
0.13
0.04
—
Panel C: State-clustered standard error
CZ
1980
0.09
0.07
0.05
CZ
1960
0.16
0.09
0.07
MSA
1980
0.28
0.04
0.03
MSA
1960
0.39
0.09
0.09
CZ-50 Occ.
1980
0.06
0.02
0.02
CZ-7 Occ.
1980
0.22
0.06
0.06
CZ-Educ.
1980
0.18
0.08
—
Panel D: AKM standard error
CZ
1980
0.09
0.06
0.04
CZ
1960
0.14
0.11
0.08
MSA
1980
0.20
0.03
0.04
MSA
1960
0.33
0.08
0.07
CZ-50 Occ.
1980
0.07
0.03
0.02
CZ-7 Occ.
1980
0.21
0.06
0.07
CZ-Educ.
1980
0.23
0.07
—
Panel E: AKM0 standard error
CZ
1980
∞
∞
∞
CZ
1960
∞
∞
∞
MSA
1980
∞
∞
∞
MSA
1960
∞
∞
∞
CZ-50 Occ.
1980
0.42
0.15
0.1
CZ-7 Occ.
1980
∞
∞
∞
CZ-Educ.
1980
∞
∞
—

∆ log wi

All
(5)

All
(6)

High-Skill
(7)

Low-Skill
(8)

0.06
0.06
0.04
0.09
0.02
0.07
—

3.57%
15.86%
25.90%
9.21%
62.52%
75.86%
82.08%

73.01%
55.42%
18.07%
9.52%
48.73%
75.24%
49.75%

81.63%
57.59%
9.97%
2.18%
9.07%
86.16%
—

38.91%
60.02%
53.39%
41.43%
38.04%
80.99%
—

0.10
0.12
0.07
0.13
0.02
0.06
—

3.46%
8.50%
10.98%
2.80%
48.40%
30.90%
73.77%

46.56%
20.66%
5.77%
7.02%
34.88%
60.28%
9.82%

68.91%
43.84%
7.30%
1.29%
5.15%
74.47%
—

13.85%
29.18%
21.38%
33.24%
30.04%
75.69%
—

0.12
0.19
0.07
0.20
0.03
0.08
—

4.44%
17.27%
40.31%
23.68%
32.38%
54.43%
53.00%

56.32%
21.85%
30.36%
11.11%
32.88%
59.39%
39.53%

66.26%
37.77%
3.86%
1.43%
25.60%
61.74%
—

10.19%
13.12%
31.97%
13.19%
28.50%
62.08%
—

∞
∞
∞
∞
0.14
∞
—

2.52%
2.52%
0.54%
1.06%
1.73%
1.33%
1.16%

0.27%
0.32%
0.97%
0.12%
2.49%
0.73%
1.20%

0.33%
2.03%
2.47%
1.58%
3.17%
0.83%
—

0.44%
0.30%
0.08%
0.06%
2.72%
0.56%
—

0.25
0.32
0.13
0.26
0.04
0.22
—

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers.
Whenever we use 1980 weights, we use observations for the time periods 1980–1990, 1990–2000, 2000–2010. Whenever we use
1960 weights, we use observations for the time period 1970–1980. We use information on 722 CZs when combined with both 1960
and 1980 weights, on 257 MSAs when combined with 1980 weights, and 217 MSAs when combined with 1960 weights. Models
are weighted by the start-of-period share of national population. Robust is the Eicker-Huber-White standard error; Cluster is
the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the confidence
interval in Remark 6. The median effective standard error is equal to the median length of the corresponding 95% confidence
interval divided by 2 × 1.96. Results are based on 30,000 placebo samples.

84

Table F.5: Effect of immigration: analysis by CZ-Occupations and CZ-Education groups (excluding large origin countries)
Outcome:

∆ log Ei

∆ log Ei

∆ log wi

∆ log Ei

Workers:

All

All

High-Skill

∆ log wi
Low-Skill

All

All

All

All

High-Skill

Low-Skill

(1)

(2)

(3)

(4)

(5)

(6)

(7)

(8)

(9)

(10)

CZ-50 Occ. (1980 weights)
Panel A: 2SLS
β̂
−1.19
0.05
0.26
Robust
[−1.55, −0.83] [−0.09, 0.20] [0.11, 0.41]
Cluster
[−1.89, −0.49] [−0.35, 0.46] [−0.14, 0.67]
AKM
[−1.55, −0.83] [−0.36, 0.47] [−0.17, 0.69]
AKM0
[−1.66, −0.72] [−0.53, 0.54] [−0.32, 0.81]

85

Panel B: Reduced-Form
β̂
−0.89
0.04
0.2
Robust
[−1.17, −0.61] [−0.07, 0.15] [0.06, 0.33]
Cluster
[−1.37, −0.41] [−0.27, 0.35] [−0.16, 0.55]
AKM
[−1.35, −0.43] [−0.28, 0.36] [−0.18, 0.57]
AKM0
[−1.55, −0.39] [−0.27, 0.55] [−0.16, 0.79]

Panel C: First-Stage
β̂
Robust
Cluster
AKM
AKM0

0.75
[0.56, 0.93]
[0.62, 0.88]
[0.36, 1.13]
[0.38, 1.37]

CZ-Educ. (1980 weights)

∆ log wi

CZ-7 Occ. (1980 weights)

−0.14
[−0.32, 0.03]
[−0.69, 0.40]
[−0.64, 0.35]
[−0.92, 0.39]

−1.49
[−2.09, −0.90]
[−2.14, −0.85]
[−2.31, −0.68]
[−3.00, −0.14]

0.18
[−0.20, 0.56]
[−0.04, 0.39]
[−0.53, 0.88]
[−0.90, 1.60]

−1.39
[−1.89, −0.90]
[−1.87, −0.92]
[−2.02, −0.76]
[−2.35, −0.54]

0.08
[−0.17, 0.33]
[−0.11, 0.27]
[−0.51, 0.67]
[−0.75, 0.94]

0.24
[0.00, 0.47]
[0.10, 0.38]
[−0.31, 0.79]
[−0.51, 1.07]

−0.14
[−0.43, 0.15]
[−0.27, −0.01]
[−0.81, 0.53]
[−1.12, 0.80]

−0.11
[−0.23, 0.02]
[−0.47, 0.25]
[−0.44, 0.23]
[−0.44, 0.42]

−1.29
[−1.86, −0.73]
[−1.69, −0.90]
[−1.99, −0.60]
[−2.25, −0.11]

0.15
[−0.19, 0.50]
[−0.02, 0.33]
[−0.48, 0.79]
[−0.53, 1.56]

−1.05
[−1.38, −0.73]
[−1.29, −0.82]
[−1.54, −0.57]
[−1.62, −0.36]

0.06
[−0.13, 0.25]
[−0.08, 0.21]
[−0.39, 0.52]
[−0.42, 0.78]

0.18
[−0.01, 0.37]
[0.07, 0.29]
[−0.26, 0.62]
[−0.29, 0.86]

−0.11
[−0.32, 0.11]
[−0.20, −0.01]
[−0.59, 0.38]
[−0.62, 0.67]

0.87
[0.55, 1.18]
[0.66, 1.08]
[0.44, 1.30]
[0.34, 1.70]

0.76
[0.56, 0.95]
[0.60, 0.91]
[0.42, 1.09]
[0.38, 1.24]

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers. The specifications CZ-50 Occupations, CZ-2 Education
Groups, and CZ-7 Occupations differ in the definition of the unit of observation. In all three specifications, we use 1980 weights and three time periods, 1980–1990, 1990–2000, and 2000–2010.
Thus, N = 108, 300 (722 CZs × 50 occupations × 3 time periods) for the CZ-50 Occupations specification; N = 4, 332 (722 CZs × 2 education groups × 3 time periods) for the CZ-2 Education
Groups specification; and N = 15, 162 (722 CZs × 7 occupations × 3 time periods) for the CZ-7 Occupations specification. Models are weighted by start-of-period occupation-region (or
education group-region) share of national population. All regressions include occupation (or education group) and period dummies. 95% confidence intervals in square brackets. Robust
is the Eicker-Huber-White standard error; Cluster is the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the confidence interval
in Remark 6. We exclude from the analysis those countries of origin whose immigrant share in 1980 is larger than 3%; i.e. ∑i ImmShareigt0 / ∑i ∑ g0 ImmShareig0 t0 > 0.03. See Table F.1 for a
list of the origin countries included in the analysis.

Table F.6: Effect of immigration: analysis by CZ (excluding large origin countries)
Outcome:

∆ log Ei

Workers:

All

∆ log wi

(1)

∆ log Ei

All

High-Skill

Low-Skill

All

(2)

(3)

(4)

(5)

Commuting Zone (1980 weights)

∆ log wi
All

High-Skill

Low-Skill

(6)

(7)

(8)

Commuting Zone (1960 weights)

Panel A: 2SLS Regression
β̂
−0.89
0.42
0.56
−0.10
−1.29
−0.71
Robust
[−1.48, −0.30] [−0.06, 0.90]
[0.16, 0.95]
[−0.68, 0.47] [−3.69, 1.10] [−1.10, −0.33]
Cluster
[−1.33, −0.45] [0.15, 0.69]
[0.39, 0.72]
[−0.31, 0.11] [−3.96, 1.37] [−1.17, −0.26]
AKM
[−1.85, 0.08] [−0.44, 1.28] [−0.12, 1.24] [−1.17, 0.97] [−3.83, 1.24] [−1.31, −0.12]
[−∞, −285.90] [−∞, −230.52] [−∞, −226.52] [−∞, −158.12]
AKM0
[−∞, ∞]
[−∞, ∞]
∪ [−4.12, ∞] ∪ [−2.73, ∞] ∪ [−1.46, ∞] ∪ [−7.24, ∞]

86

Panel B: Reduced-Form Regression
β̂
−0.75
0.35
Robust
[−1.16, −0.33] [−0.10, 0.81]
Cluster
[−1.02, −0.47] [0.12, 0.59]
AKM
[−1.47, −0.02] [−0.44, 1.15]
AKM0
[−1.71, 6.41] [−0.73, 8.03]
Panel C: 2SLS First-Stage
β̂
Robust
Cluster
AKM
AKM0

0.47
[0.07, 0.86]
[0.31, 0.62]
[−0.21, 1.14]
[−0.44, 6.99]

0.84
[0.51, 1.18]
[0.66, 1.03]
[0.37, 1.31]
[0.00, 4.32]

−0.08
[−0.55, 0.38]
[−0.26, 0.09]
[−0.96, 0.79]
[−1.29, 8.26]

−1.31
[−3.39, 0.78]
[−3.57, 0.96]
[−3.55, 0.94]
[−∞, ∞]

−0.72
[−1.06, −0.38]
[−1.10, −0.35]
[−1.21, −0.23]
[−3.23, −1.51]

−0.34
[−1.01, 0.33]
[−1.12, 0.44]
[−1.16, 0.48]
[−∞, ∞]

−0.34
[−0.94, 0.25]
[−1.02, 0.33]
[−1.09, 0.40]
[−3.37, −1.87]

−1.14
[−1.66, −0.61]
[−1.71, −0.56]
[−1.89, −0.38]
[−∞, ∞]

−1.15
[−1.61, −0.68]
[−1.56, −0.73]
[−1.73, −0.57]
[−4.01, −2.12]

1.01
[0.46, 1.56]
[0.65, 1.37]
[0.70, 1.32]
[−∞, ∞]

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers. In the specification CZ (1980 weights), we
use information on 722 CZs, 1980 weights and three time periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 2, 166 (722 CZs × 3 time periods). In the specification CZ (1960
weights), we use information on 722 CZs, 1960 weights and one time period, 1970–1980; thus, N = 722 (722 CZs × 1 time period). Models are weighted by start-of-period CZ
share of national population. All regressions include period dummies. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster
is the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the confidence interval in Remark 6. We exclude from the
analysis those countries of origin whose immigrant share in year t0 is larger than 3%; i.e. ∑iN=1 ImmShareigt0 / ∑iN=1 ∑G
g0 =1 ImmShareig0 t0 > 0.03. See Tables F.1 and F.2 for a list
of the origin countries included in the analysis.

Table F.7: Effect of immigration: analysis by MSA (excluding large origin countries)
Outcome:

∆ log Ei

Workers:

All
(1)

∆ log wi

∆ log Ei

All

High-Skill

Low-Skill

All

(2)

(3)

(4)

(5)

MSA (1980 weights)

87

Panel C: 2SLS First-Stage
β̂
Robust
Cluster
AKM
AKM0

0.78
[0.29, 1.28]
[0.51, 1.05]
[0.10, 1.47]
[−0.61, 5.35]

High-Skill

Low-Skill

(6)

(7)

(8)

MSA (1960 weights)

Panel A: 2SLS Regression
β̂
−1.87
0.50
0.63
−0.10
−1.55
Robust
[−3.17, −0.58] [−0.06, 1.06] [0.17, 1.09] [−0.93, 0.73] [−3.68, 0.57]
Cluster
[−2.97, −0.78] [0.23, 0.77] [0.48, 0.77] [−0.47, 0.27] [−3.94, 0.84]
AKM
[−3.77, 0.03] [−0.44, 1.44] [−0.15, 1.40] [−1.49, 1.29] [−5.61, 2.51]
AKM0
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
Panel B: Reduced-Form Regression
β̂
−1.47
0.39
0.49
Robust
[−2.06, −0.87] [−0.17, 0.95] [0.00, 0.98]
Cluster
[−1.94, −0.99] [0.09, 0.69] [0.27, 0.71]
AKM
[−2.43, −0.50] [−0.50, 1.28] [−0.28, 1.26]
AKM0
[−2.70, 8.87] [−0.79, 9.41] [−0.53, 8.41]

∆ log wi
All

−0.32
−0.17
−0.57
[−0.72, 0.08] [−0.83, 0.49] [−1.08, −0.06]
[−0.74, 0.09] [−0.88, 0.53] [−1.06, −0.08]
[−0.90, 0.25] [−1.07, 0.73] [−1.26, 0.12]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]

−0.08
−1.48
−0.31
−0.16
−0.54
[−0.70, 0.54] [−3.29, 0.34] [−0.61, −0.01] [−0.75, 0.42] [−0.90, −0.19]
[−0.35, 0.19] [−3.45, 0.49] [−0.63, 0.01] [−0.79, 0.46] [−0.86, −0.22]
[−1.13, 0.98] [−4.79, 1.83] [−0.73, 0.11] [−0.96, 0.63] [−0.98, −0.11]
[−1.51, 10.46] [−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
0.95
[0.46, 1.45]
[0.64, 1.27]
[0.49, 1.42]
[−∞, ∞]

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers. In the specification
MSA (1980 weights), we use information on 257 MSAs, 1980 weights and three time periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 651 (257 MSAs
× 3 time periods). In the specification MSA (1960 weights), we use information on 217 MSAs, 1960 weights and one time period, 1970–1980; thus, N = 217
(217 CZs × 1 time period). Models are weighted by start-of-period MSA share of national population. All regressions include period dummies. 95%
confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is the standard error that clusters of CZs in the same
state; AKM is the standard error in Remark 5; and AKM0 is the confidence interval in Remark 6. We exclude from the analysis those countries of origin
whose immigrant share in year t0 is larger than 3%; i.e. ∑iN=1 ImmShareigt0 / ∑iN=1 ∑G
g0 =1 ImmShareig0 t0 > 0.03. See Tables F.1 and F.2 for a list of the origin
countries included in the analysis.

Table F.8: Immigration: p-values by CZ-Occ. and CZ-Educ. (excluding large origin countries)
∆ log Ei

∆ log wi

All

All High-Skill Low-Skill

All

All

All

All High-Skill Low-Skill

(1)

(2)

(5)

(6)

(7)

(8)

(3)

∆ log Ei ∆ log wi ∆ log Ei
(4)

CZ-50 Occupations

CZ- Educ.

∆ log wi
(9)

(10)

CZ-7 Occupations

Panel A:
Robust
Cluster
AKM
AKM0

2SLS Regression
0.000 0.459
0.001
0.001 0.790
0.205
0.000 0.793
0.235
0.006 0.796
0.273

0.116
0.611
0.576
0.566

0.000
0.000
0.000
0.043

0.357
0.102
0.620
0.621

0.000
0.000
0.000
0.018

0.519
0.412
0.788
0.788

0.046
0.001
0.395
0.410

0.348
0.042
0.684
0.687

Panel B:
Robust
Cluster
AKM
AKM0

Reduced-Form Regression
0.000 0.473
0.004
0.091
0.000 0.795
0.275
0.565
0.000 0.801
0.304
0.538
0.006 0.796
0.273
0.566

0.000
0.000
0.000
0.043

0.379
0.089
0.635
0.621

0.000
0.000
0.000
0.018

0.528
0.409
0.792
0.788

0.057
0.001
0.422
0.410

0.330
0.036
0.674
0.687

Panel C: First-Stage
Robust
Cluster
AKM
AKM0

0.000
0.000
0.000
0.002

0.000
0.000
0.000
0.017

0.000
0.000
0.000
0.006

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers.
The specifications CZ-50 Occupations, CZ-Educ., and CZ-7 Occupations differ in the definition of the unit of observation. In all three
specifications, we use 1980 weights and three time periods, 1980–1990, 1990–2000, 2000–2010. Thus, N = 108, 300 (722 CZs ×
50 occupations × 3 time periods) for the CZ-50 Occupations specification; N = 4, 332 (722 CZs × 2 education groups × 3 time
periods) for the CZ-Educ. specification; and N = 15, 162 (722 CZs × 7 occupations × 3 time periods) for the CZ-7 Occupations
specification. Models are weighted by start-of-period occupation-region (or education group-region) share of national population.
All regressions include occupation (or education group) and period dummies. 95% confidence intervals in square brackets. Robust
is the Eicker-Huber-White standard error; Cluster is the standard error that clusters of CZs in the same state; AKM is the standard
error in Remark 5; and AKM0 is the confidence interval in Remark 6. We exclude from the analysis those countries of origin whose
immigrant share in year 1980 is larger than 3%; i.e. ∑iN=1 ImmShareigt0 / ∑iN=1 ∑G
g0 =1 ImmShareig0 t0 > 0.03. See Table F.1 for a list of the
origin countries included in the analysis.

88

Table F.9: Effect of immigration: p-values by CZ (excluding large origin countries)
Outcome: ∆ log Ei
Workers:

∆ log wi

All

All

(1)

(2)

∆ log Ei

High-Skill Low-Skill
(3)

(4)

Commuting Zone (1980 weights)
Panel A: 2SLS Regression
Robust
0.003 0.083
Cluster
0.000 0.002
AKM
0.071 0.335
AKM0
0.216 0.360

0.005
0.000
0.109
0.174

Panel B: Reduced-Form Regression
Robust
0.000 0.129
0.020
Cluster
0.000 0.003
0.000
AKM
0.044 0.384
0.174
AKM0
0.216 0.360
0.174
Panel C: First-Stage
Robust
Cluster
AKM
AKM0

∆ log wi

All

All

(5)

(6)

High-Skill Low-Skill
(7)

(8)

Commuting Zone (1960 weights)

0.731
0.338
0.853
0.855

0.291
0.342
0.318
0.393

0.000
0.002
0.018
0.179

0.317
0.390
0.416
0.472

0.000
0.000
0.003
0.142

0.722
0.330
0.850
0.855

0.220
0.258
0.254
0.393

0.000
0.000
0.004
0.179

0.254
0.316
0.366
0.472

0.000
0.000
0.000
0.142

0.000
0.000
0.001
0.050

0.000
0.000
0.000
0.062

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of
native workers. In the specification CZ (1980 weights), we use information on 722 CZs, 1980 weights and three time
periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 2, 166 (722 CZs × 3 time periods). In the specification CZ (1960
weights), we use information on 722 CZs, 1960 weights and one time period, 1970–1980; thus, N = 722 (722 CZs × 1
time period). Models are weighted by start-of-period CZ share of national population. All regressions include period
dummies. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is
the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the
confidence interval in Remark 6. We exclude from the analysis those countries of origin whose immigrant share in
year t0 is larger than 3%; i.e. ∑iN=1 ImmShareigt0 / ∑iN=1 ∑G
g0 =1 ImmShareig0 t0 > 0.03. See Tables F.1 and F.2 for a list of
the origin countries included in the analysis.

89

Table F.10: Effect of immigration: p-values by MSA (excluding large origin countries)
Outcome: ∆ log Ei
Workers:

∆ log wi

All

All

(1)

(2)

∆ log Ei

High-Skill Low-Skill
(3)

(4)

All

All

(5)

(6)

MSA (1980 weights)
Panel A: 2SLS Regression
Robust
0.005 0.080
Cluster
0.001 0.000
AKM
0.053 0.300
AKM0
0.146 0.361

0.008
0.000
0.112
0.203

Panel B: Reduced-Form Regression
Robust
0.000 0.173
0.048
Cluster
0.000 0.012
0.000
AKM
0.003 0.388
0.213
AKM0
0.146 0.361
0.203
Panel C: First-Stage
Robust
Cluster
AKM
AKM0

∆ log wi
High-Skill Low-Skill
(7)

(8)

MSA (1960 weights)
0.812
0.594
0.887
0.887

0.152
0.203
0.453
0.532

0.115
0.128
0.272
0.376

0.610
0.631
0.708
0.732

0.028
0.022
0.106
0.284

0.803
0.564
0.884
0.887

0.110
0.141
0.381
0.532

0.043
0.059
0.150
0.376

0.585
0.607
0.687
0.732

0.003
0.001
0.015
0.284

0.002
0.000
0.025
0.096

0.000
0.000
0.000
0.126

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages
of native workers. In the specification MSA (1980 weights), we use information on 257 MSAs, 1980 weights
and three time periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 651 (257 MSAs × 3 time periods). In
the specification MSA (1960 weights), we use information on 217 MSAs, 1960 weights and one time period,
1970–1980; thus, N = 217 (217 CZs × 1 time period). Models are weighted by start-of-period MSA share
of national population. All regressions include period dummies. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is the standard error that clusters of CZs in the
same state; AKM is the standard error in Remark 5; and AKM0 is the confidence interval in Remark 6. We
exclude from the analysis those countries of origin whose immigrant share in year t0 is larger than 3%; i.e.
∑iN=1 ImmShareigt0 / ∑iN=1 ∑G
g0 =1 ImmShareig0 t0 > 0.03. See Tables F.1 and F.2 for a list of the origin countries
included in the analysis.

90

Table F.11: Effect of immigration: analysis by CZ-Occupations and CZ-Education groups (including all origin countries)
Outcome:

∆ log Ei

∆ log Ei

∆ log wi

∆ log Ei

Workers:

All

All

High-Skill

∆ log wi
Low-Skill

All

All

All

All

High-Skill

Low-Skill

(1)

(2)

(3)

(4)

(5)

(6)

(7)

(8)

(9)

(10)

CZ-50 Occupations

CZ- 2 Education Groups

∆ log wi

CZ-7 Occupations

Panel A: 2SLS Regression
β̂
Robust
Cluster
AKM
AKM0

−0.73
[−1.04, −0.42]
[−1.15, −0.31]
[−1.22, −0.24]
[−1.61, 0.24]

−0.07
0.15
−0.24
−0.53
−0.01
−0.79
[−0.22, 0.09] [0.01, 0.29] [−0.42, −0.06] [−1.03, −0.02] [−0.45, 0.44] [−1.25, −0.33]
[−0.49, 0.36] [−0.23, 0.52] [−0.80, 0.32] [−1.03, −0.02] [−0.24, 0.23] [−1.34, −0.25]
[−0.42, 0.29] [−0.18, 0.47] [−0.66, 0.18] [−1.85, 0.79] [−0.81, 0.80] [−1.67, 0.09]
[−0.52, 0.94] [−0.24, 1.11] [−0.97, 0.68]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]

−0.08
[−0.39, 0.22]
[−0.33, 0.16]
[−0.74, 0.57]
[−∞, ∞]

0.08
[−0.17, 0.33]
[−0.09, 0.25]
[−0.52, 0.67]
[−∞, ∞]

−0.27
[−0.64, 0.09]
[−0.47, −0.08]
[−0.99, 0.44]
[−∞, ∞]

Panel B: Reduced-Form Regression

91

β̂
Robust
Cluster
AKM
AKM0

−0.19
[−0.27, −0.11]
[−0.32, −0.06]
[−0.38, 0.01]
[−1.01, 0.03]

−0.02
0.04
−0.06
[−0.05, 0.02] [0.00, 0.08] [−0.10, −0.02]
[−0.12, 0.09] [−0.08, 0.15] [−0.17, 0.05]
[−0.10, 0.07] [−0.06, 0.13] [−0.15, 0.02]
[−0.08, 0.51] [−0.04, 0.60] [−0.14, 0.42]

Panel C: First-Stage
β̂
Robust
Cluster
AKM
AKM0

0.26
[0.19, 0.32]
[0.17, 0.35]
[0.12, 0.39]
[0.11, 0.84]

−0.19
[−0.41, 0.04]
[−0.38, 0.01]
[−0.74, 0.37]
[−∞, ∞]

0.00
−0.25
−0.03
0.02
[−0.16, 0.15] [−0.41, −0.10] [−0.12, 0.06] [−0.06, 0.11]
[−0.08, 0.08] [−0.42, −0.09] [−0.10, 0.04] [−0.04, 0.09]
[−0.29, 0.28] [−0.62, 0.11] [−0.23, 0.17] [−0.17, 0.22]
[−∞, ∞]
[−∞, ∞]
[−1.28, −0.26] [−1.18, −0.20]

0.35
[0.17, 0.53]
[0.24, 0.46]
[0.10, 0.60]
[−∞, ∞]

−0.09
[−0.18, 0.01]
[−0.13, −0.05]
[−0.29, 0.11]
[−1.13, −0.37]

0.32
[0.20, 0.44]
[0.21, 0.43]
[0.12, 0.52]
[−∞, ∞]

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers. The specifications CZ-50 Occupations, CZ-2 Education
Groups, and CZ-7 Occupations differ in the definition of the unit of observation. In all three specifications, we use 1980 weights and three time periods, 1980–1990, 1990–2000, 2000–2010.
Thus, N = 108, 300 (722 CZs × 50 occupations × 3 time periods) for the CZ-50 Occupations specification; N = 4, 332 (722 CZs × 2 education groups × 3 time periods) for the CZ-2 Education
Groups specification; and N = 15, 162 (722 CZs × 7 occupations × 3 time periods) for the CZ-7 Occupations specification. Models are weighted by start-of-period occupation-region (or
education group-region) share of national population. All regressions include occupation (or education group) and period dummies. 95% confidence intervals in square brackets. Robust
is the Eicker-Huber-White standard error; Cluster is the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the confidence interval
in Remark 6. We include all countries of origin in the analysis. See Table F.1 for a list of the origin countries included in the analysis.

Table F.12: Effect of immigration: analysis by CZ (including all origin countries)
Outcome:

∆ log Ei

Workers:

All

∆ log wi

(1)

∆ log Ei

All

High-Skill

Low-Skill

All

(2)

(3)

(4)

(5)

Commuting Zone (1980 weights)

∆ log wi
All

High-Skill

Low-Skill

(6)

(7)

(8)

Commuting Zone (1960 weights)

92

Panel A: 2SLS Regression
β̂
−0.49
0.13
0.27
−0.2
0.05
−0.25
0.09
Robust
[−1.12, 0.14] [−0.37, 0.63] [−0.09, 0.64] [−0.85, 0.44] [−0.96, 1.07] [−0.52, 0.02] [−0.16, 0.35]
Cluster
[−0.98, 0.01] [−0.15, 0.41] [0.08, 0.47] [−0.49, 0.08] [−0.93, 1.03] [−0.59, 0.09] [−0.16, 0.34]
AKM
[−1.74, 0.77] [−0.88, 1.14] [−0.53, 1.08] [−1.42, 1.01] [−2.39, 2.50] [−1.14, 0.64] [−0.76, 0.95]
AKM0
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]

−0.52
[−0.86, −0.18]
[−0.92, −0.11]
[−1.64, 0.61]
[−∞, ∞]

Panel B: Reduced-Form Regression
β̂
−0.19
0.05
0.11
−0.08
0.04
−0.17
0.06
Robust
[−0.39, 0.02] [−0.16, 0.26] [−0.07, 0.28] [−0.30, 0.14] [−0.66, 0.73] [−0.40, 0.05] [−0.12, 0.24]
Cluster
[−0.37, 0.00] [−0.07, 0.17] [0.01, 0.20] [−0.17, 0.01] [−0.63, 0.71] [−0.48, 0.14] [−0.11, 0.24]
AKM
[−0.71, 0.33] [−0.36, 0.46] [−0.24, 0.45] [−0.52, 0.37] [−1.64, 1.72] [−0.82, 0.47] [−0.51, 0.64]
AKM0
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]

−0.36
[−0.67, −0.04]
[−0.79, 0.08]
[−1.20, 0.49]
[−∞, ∞]

Panel C: 2SLS First-Stage
β̂
Robust
Cluster
AKM
AKM0

0.38
[0.20, 0.57]
[0.27, 0.49]
[0.10, 0.67]
[−∞, ∞]

0.69
[0.41, 0.97]
[0.35, 1.03]
[0.53, 0.85]
[−∞, ∞]

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers. In the specification CZ (1980 weights), we
use information on 722 CZs, 1980 weights and three time periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 2, 166 (722 CZs × 3 time periods). In the specification CZ (1960
weights), we use information on 722 CZs, 1960 weights and one time period, 1970–1980; thus, N = 722 (722 CZs × 1 time period). Models are weighted by start-of-period
CZ share of national population. All regressions include period dummies. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error;
Cluster is the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the confidence interval in Remark 6. We include all
countries of origin in the analysis. See Tables F.1 and F.2 for a list of the origin countries included in the analysis.

Table F.13: Effect of immigration: analysis by MSA (including all origin countries)
Outcome:

∆ log Ei

∆ log wi

Workers:

All

All

High-Skill

Low-Skill

All

All

High-Skill

Low-Skill

(1)

(2)

(3)

(4)

(5)

(6)

(7)

(8)

MSA (1980 weights)

∆ log Ei

∆ log wi

MSA (1960 weights)

Panel A: 2SLS Regression
β̂
−1.41
0.16
0.28
−0.21
−0.18
−0.14
0.18
−0.35
Robust
[−2.62, −0.21] [−0.38, 0.71] [−0.11, 0.68] [−1.06, 0.63] [−1.11, 0.75] [−0.30, 0.02] [−0.05, 0.42] [−0.56, −0.14]
Cluster
[−2.55, −0.28] [−0.14, 0.46] [0.06, 0.51] [−0.62, 0.20] [−1.21, 0.86] [−0.31, 0.04] [−0.08, 0.44] [−0.52, −0.17]
AKM
[−3.24, 0.41] [−0.91, 1.23] [−0.61, 1.18] [−1.64, 1.21] [−5.04, 4.69] [−0.92, 0.64] [−0.90, 1.26] [−1.26, 0.56]
AKM0
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
93

Panel B: Reduced-Form Regression
β̂
−0.41
0.05
0.08
−0.06
−0.12
−0.10
0.13
−0.24
Robust
[−0.61, −0.20] [−0.13, 0.23] [−0.07, 0.24] [−0.27, 0.15] [−0.78, 0.54] [−0.22, 0.03] [−0.05, 0.31] [−0.43, −0.05]
Cluster
[−0.62, −0.19] [−0.06, 0.15] [0.00, 0.17] [−0.16, 0.03] [−0.83, 0.59] [−0.23, 0.04] [−0.08, 0.33] [−0.42, −0.06]
AKM
[−0.91, 0.10] [−0.28, 0.37] [−0.21, 0.37] [−0.45, 0.33] [−3.47, 3.23] [−0.64, 0.45] [−0.60, 0.85] [−0.89, 0.41]
AKM0
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
[−∞, ∞]
Panel C: First-Stage
β̂
Robust
Cluster
AKM
AKM0

0.29
[0.10, 0.48]
[0.16, 0.41]
[0.03, 0.54]
[−∞, ∞]

0.69
[0.35, 1.02]
[0.34, 1.03]
[0.44, 0.93]
[−∞, ∞]

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers. In the specification MSA (1980 weights),
we use information on 257 MSAs, 1980 weights and three time periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 651 (257 MSAs × 3 time periods). In the specification
MSA (1960 weights), we use information on 217 MSAs, 1960 weights and one time period, 1970–1980; thus, N = 217 (217 CZs × 1 time period). Models are weighted by
start-of-period MSA share of national population. All regressions include period dummies. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White
standard error; Cluster is the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the confidence interval in Remark 6.
We include all countries of origin in the analysis. See Tables F.1 and F.2 for a list of the origin countries included in the analysis.

Table F.14: Immigration: p-values by CZ-Occ. and CZ-Educ. (including all origin countries)
∆ log Ei

∆ log wi

All

All High-Skill Low-Skill

All

All

All

All High-Skill Low-Skill

(1)

(2)

(5)

(6)

(7)

(8)

(3)

∆ log Ei ∆ log wi ∆ log Ei
(4)

CZ-50 Occupations

CZ- Educ.

∆ log wi
(9)

(10)

CZ-7 Occupations

Panel A:
Robust
Cluster
AKM
AKM0

2SLS Regression
0.000 0.402
0.042
0.001 0.764
0.445
0.004 0.721
0.380
0.074 0.734
0.359

0.011
0.403
0.267
0.330

0.040
0.040
0.434
0.532

0.978
0.958
0.988
0.988

0.001
0.004
0.077
0.274

0.586
0.496
0.801
0.808

0.543
0.363
0.798
0.793

0.139
0.005
0.454
0.504

Panel B:
Robust
Cluster
AKM
AKM0

Reduced-Form Regression
0.000 0.372
0.072
0.002
0.005 0.752
0.515
0.282
0.059 0.704
0.442
0.161
0.074 0.734
0.359
0.330

0.106
0.068
0.513
0.532

0.978
0.957
0.988
0.988

0.001
0.002
0.170
0.274

0.560
0.447
0.793
0.808

0.567
0.422
0.805
0.793

0.074
0.000
0.395
0.504

Panel C: First-Stage
Robust
Cluster
AKM
AKM0

0.000
0.000
0.000
0.021

0.000
0.000
0.005
0.134

0.000
0.000
0.001
0.067

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of native workers.
The specifications CZ-50 Occupations, CZ-Educ., and CZ-7 Occupations differ in the definition of the unit of observation. In all three
specifications, we use 1980 weights and three time periods, 1980–1990, 1990–2000, 2000–2010. Thus, N = 108, 300 (722 CZs × 50
occupations × 3 time periods) for the CZ-50 Occupations specification; N = 4, 332 (722 CZs × 2 education groups × 3 time periods)
for the CZ-Educ. specification; and N = 15, 162 (722 CZs × 7 occupations × 3 time periods) for the CZ-7 Occupations specification.
Models are weighted by start-of-period occupation-region (or education group-region) share of national population. All regressions
include occupation (or education group) and period dummies. 95% confidence intervals in square brackets. Robust is the EickerHuber-White standard error; Cluster is the standard error that clusters of CZs in the same state; AKM is the standard error in
Remark 5; and AKM0 is the confidence interval in Remark 6. We all origin countries in the analysis. See Table F.1 for a list of the
origin countries included in the analysis.

94

Table F.15: Effect of immigration: p-values by CZ (including all origin countries)
Outcome: ∆ log Ei
Workers:

∆ log wi

All

All

(1)

(2)

∆ log Ei

High-Skill Low-Skill
(3)

(4)

Commuting Zone (1980 weights)
Panel A: 2SLS Regression
Robust
0.130 0.607
Cluster
0.055 0.353
AKM
0.449 0.799
AKM0
0.578 0.797

0.142
0.005
0.504
0.522

Panel B: Reduced-Form Regression
Robust
0.075 0.640
0.252
Cluster
0.047 0.404
0.032
AKM
0.481 0.808
0.553
AKM0
0.578 0.797
0.522
Panel C: 2SLS First-Stage
Robust
Cluster
AKM
AKM0

∆ log wi

All

All

(5)

(6)

High-Skill Low-Skill
(7)

(8)

Commuting Zone (1960 weights)

0.536
0.154
0.741
0.759

0.917
0.914
0.965
0.965

0.072
0.152
0.581
0.619

0.478
0.464
0.830
0.830

0.003
0.013
0.367
0.463

0.485
0.091
0.730
0.759

0.916
0.913
0.965
0.965

0.136
0.274
0.600
0.619

0.483
0.473
0.827
0.830

0.025
0.108
0.408
0.463

0.000
0.000
0.008
0.179

0.000
0.000
0.000
0.156

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of
native workers. In the specification CZ (1980 weights), we use information on 722 CZs, 1980 weights and three time
periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 2, 166 (722 CZs × 3 time periods). In the specification CZ (1960
weights), we use information on 722 CZs, 1960 weights and one time period, 1970–1980; thus, N = 722 (722 CZs × 1
time period). Models are weighted by start-of-period CZ share of national population. All regressions include period
dummies. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is
the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the
confidence interval in Remark 6. We include all origin countries in the analysis. See Tables F.1 and F.2 for a list of the
origin countries included in the analysis.

95

Table F.16: Effect of immigration: p-values by MSA (including all origin countries)
Outcome: ∆ log Ei
Workers:

∆ log wi

All

All

(1)

(2)

∆ log Ei

High-Skill Low-Skill
(3)

(4)

Commuting Zone (1980 weights)
Panel A: 2SLS Regression
Robust
0.021 0.562
Cluster
0.015 0.294
AKM
0.130 0.768
AKM0
0.343 0.771

0.159
0.014
0.534
0.554

Panel B: Reduced-Form Regression
Robust
0.000 0.616
0.302
Cluster
0.000 0.375
0.061
AKM
0.115 0.782
0.584
AKM0
0.343 0.771
0.554
Panel C: First-Stage
Robust
Cluster
AKM
AKM0

∆ log wi

All

All

(5)

(6)

High-Skill Low-Skill
(7)

(8)

Commuting Zone (1960 weights)

0.621
0.306
0.769
0.778

0.709
0.737
0.943
0.944

0.096
0.118
0.727
0.753

0.131
0.168
0.739
0.730

0.001
0.000
0.450
0.562

0.571
0.203
0.757
0.778

0.717
0.737
0.943
0.944

0.127
0.168
0.731
0.753

0.172
0.237
0.735
0.730

0.012
0.010
0.467
0.562

0.003
0.000
0.029
0.165

0.000
0.000
0.000
0.200

Notes: ∆ log Ei denotes log change in native employment; ∆ log wi denotes log change in average weekly wages of
native workers. In the specification CZ (1980 weights), we use information on 722 CZs, 1980 weights and three time
periods, 1980–1990, 1990–2000, 2000–2010; thus, N = 2, 166 (722 CZs × 3 time periods). In the specification CZ (1960
weights), we use information on 722 CZs, 1960 weights and one time period, 1970–1980; thus, N = 722 (722 CZs × 1
time period). Models are weighted by start-of-period CZ share of national population. All regressions include period
dummies. 95% confidence intervals in square brackets. Robust is the Eicker-Huber-White standard error; Cluster is
the standard error that clusters of CZs in the same state; AKM is the standard error in Remark 5; and AKM0 is the
confidence interval in Remark 6. We include all origin countries in the analysis. See Tables F.1 and F.2 for a list of the
origin countries included in the analysis.

96

References
Adão, Rodrigo, “Worker Heterogeneity, Wage Inequality, and International Trade: Theory and Evidence from Brazil,” 2016. Unpublished manuscript, University of Chicago.
Allen, Treb and Costas Arkolakis, “Trade and the Topography of the Spatial Economy,” Quarterly
Journal of Economics, 2016, 129 (3), 1085–1140.
,

, and Yuta Takahashi, “Universal Gravity,” Journal of Political Economy, 2018, forthcoming.

Altonji, Joseph G and David Card, “The Effects of Immigration on the Labor Market Outcomes of
Less-skilled Natives,” in John M. Abowd and Richard B. Freeman, eds., Immigration, Trade, and the
Labor Market, Chicago: University of Chicago Press, 1991, pp. 201–234.
Amior, Michael and Alan Manning, “The Persistence of Local Joblessness,” American Economic Review, 2018, 108 (7), 1942–1970.
Anderson, James E., “A Theoretical Foundation for the Gravity Equation,” The American Economic
Review, 1979, 69 (1), 106–116.
and Eric van Wincoop, “Gravity with Gravitas: A Solution to the Border Puzzle,” The American
Economic Review, 2003, 93 (1), 170–192.
Arkolakis, Costas, Arnaud Costinot, and Andrés Rodríguez-Clare, “New Trade Models, Same Old
Gains?,” American Economic Review, 2012, 102 (1), 94–130.
Armington, Paul S., “A Theory of Demand for Products Distinguished by Place of Production,” Staff
Papers (International Monetary Fund), 1969, 16 (1), 159–178.
Autor, David H., David Dorn, and Gordon H. Hanson, “The China Syndrome: Local Labor Market
Effects of Import Competition in the United States,” American Economic Review, 2013, 103 (6), 2121–
2168.
Bai, Jushan, “Panel Data Model with Interactive Fixed Effects,” Econometrica, 2009, 77 (4), 1229–1279.
Bartik, Timothy J., Who Benefits from State and Local Economic Development Policies?, Kalamazoo, MI:
W.E. Upjohn Institute for Employment Research, 1991.
Borjas, George J., “The Labor Demand Curve is Downward Sloping: Reexamining the Impact of Immigration on the Labor Market,” Quarterly Journal of Economics, November 2003, 118 (4), 1335–1374.
Burstein, Ariel, Eduardo Morales, and Jonathan Vogel, “Changes in Between-Group Inequality:
Computers, Occupations, and International Trade,” American Economic Journal: Macroeconomics,
2019, 11 (2), 348–400.
, Gordon Hanson, Lin Tian, and Jonathan Vogel, “Tradability and the Labor-Market Impact of
Immigration: Theory and Evidence from the U.S.,” 2018. Unpublished manuscript, University of
California Los Angeles.
97

Card, David, “Immigrant Inflows, Native Outflows, and the Local Labor Market Impacts of Higher
Immigration,” Journal of Labor Economics, 2001, 19 (1), 22–64.
, “Immigration and Inequality,” American Economic Review: Papers & Proceedings, 2009, 99 (2), 1–21.
Chao, John C., Norman R. Swanson, Jerry A. Hausman, Whitney K. Newey, and Tiemen Woutersen,
“Asymptotic Distribution of JIVE in a Heteroskedastic IV Regression with Many Instruments,”
Econometric Theory, 2012, 12 (1), 42–86.
Dustmann, Christian, Uta Schönberg, and Jan Stuhler, “The Impact of Immigration: Why Do Studies Reach Such Different Results?,” Journal of Economic Perspectives, 2016, 30 (4), 31–56.
Fajgelbaum, Pablo, Eduardo Morales, Juan Carlos Suárez Serrato, and Owen Zidar, “State Taxes
and Spatial Misallocation,” Review of Economic Studies, 2019, 86 (1), 333–376.
Galle, Simon, Andrés Rodríguez-Clare, and Moises Yi, “Slicing the Pie: Quantifying the Aggregate and Distributional Effects of Trade,” October 2018. Unpublished manuscript, University of
California Berkeley.
Gomez, Matthieu, “REGIFE: Stata module to estimate linear models with interactive fixed effects,”
2017. Statistical Software Components, Boston College, Department of Economics.
Imbens, Guido W. and Donald B. Rubin, Causal Inference for Statistics, Social, and Biomedical Sciences:
an Introduction, New York, NY: Cambridge University Press, 2015.
Jaeger, David A, Joakim Ruist, and Jan Stuhler, “Shift-share instruments and the impact of immigration,” Technical Report 24285, National Bureau of Economic Research February 2018.
Jaeger, David A., Joakim Ruist, and Jan Stuhler, “Shift-Share Instruments and the Impact of Immigration,” February 2018. Unpublished manuscript, CUNY University.
Jones, Ronald W., “A Three-Factor Model in Theory, Trade and History,” in Jagdish Bhagwati, Ronald
Jones, Robert Mundell, and Jaroslav Vanek, eds., Trade, Balance of Payments and Growth, Amsterdam:
North-Holland, 1971.
Kovak, Brian K, “Regional effects of trade reform: What is the correct measure of liberalization?,”
American Economic Review, 2013, 103 (5), 1960–76.
Redding, Stephen J., “Goods Trade, Factor Mobility and Welfare,” Journal of International Economics,
2016, 101, 148–167.
and Esteban Rossi-Hansberg, “Quantitative Spatial Economics,” Annual Review of Economics, 2017,
9, 21–58.

98

