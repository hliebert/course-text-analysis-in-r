The Review of Economic Studies, Ltd.

Semiparametric Difference-in-Differences Estimators
Author(s): Alberto Abadie
Reviewed work(s):
Source: The Review of Economic Studies, Vol. 72, No. 1 (Jan., 2005), pp. 1-19
Published by: Oxford University Press
Stable URL: http://www.jstor.org/stable/3700681 .
Accessed: 11/10/2012 09:09
Your use of the JSTOR archive indicates your acceptance of the Terms & Conditions of Use, available at .
http://www.jstor.org/page/info/about/policies/terms.jsp

.
JSTOR is a not-for-profit service that helps scholars, researchers, and students discover, use, and build upon a wide range of
content in a trusted digital archive. We use information technology and tools to increase productivity and facilitate new forms
of scholarship. For more information about JSTOR, please contact support@jstor.org.

.

Oxford University Press and The Review of Economic Studies, Ltd. are collaborating with JSTOR to digitize,
preserve and extend access to The Review of Economic Studies.

http://www.jstor.org

ReviewofEconomicStudies(2005) 72, 1-19
Q 2005 TheReviewofEconomicStudiesLimited

0034-6527/05/00010000001$02.00

Semiparametric
Difference-in-Differences
Estimators
ALBERTO ABADIE

HarvardUniversity
and NBER
FirstversionreceivedJune2001; finalversionaccepted October2003 (Eds.)
The difference-in-differences
is one ofthemostpopulartoolsforappliedresearch
(DID) estimator
in economicsto evaluatetheeffectsof publicinterventions
on some
of interest
and othertreatments
relevant
outcomevariables.However,
itis wellknownthattheDID estimator
is basedonstrong
identifying
In particular,
theconventional
DID estimator
assumptions.
requiresthat,in theabsenceofthetreatment,
theaverageoutcomesforthetreated
andcontrol
groupswouldhavefollowed
parallelpathsovertime.This
ifpre-treatment
to be associatedwiththe
characteristics
thatarethought
assumption
maybe implausible
oftheoutcomevariableareunbalanced
Thatwouldbe the
andtheuntreated.
betweenthetreated
dynamics
shocksonpastoutcomes
is influenced
case,forexample,ifselectionfortreatment
byindividual-transitory
create
in observedcharacteristics
(Ashenfelter's
dip).Thisarticleconsidersthecase in whichdifferences
outcomedynamicsbetweentreatedand controls.It is shownthat,in sucha case, a simple
non-parallel
In addition,
forthetreated.
can be used to estimatetheaverageeffect
ofthetreatment
two-stepstrategy
theestimation
framework
todescribehowtheaverage
proposedinthisarticleallowstheuse ofcovariates
effect
ofthetreatment
varieswithchangesin observedcharacteristics.

A goodwaytodoeconometrics
andusestatistical
is tolookforgoodnatural
experiments
forus.
methods
thatcantidyup theconfounding
thatnature
hasnotcontrolled
factors
Econometric
(DanielMcFadden,
Tools)
1. INTRODUCTION
The use ofnaturalexperiments
to evaluatetreatment
intheabsenceoftrulyexperimental
effects
datahas gainedwide acceptancein empiricalresearchin economicsand othersocial sciences.
ofpre-treatment
andpost-treatment
outcomesforthoseindividuals
Simplecomparisons
exposed
to a treatment
arelikelytobe contaminated
trends
intheoutcomevariableorbythe
bytemporal
effectof events,otherthanthetreatment,
thatoccurredbetweenbothperiods.However,when
a
fraction
of
the
is
an untreated
only
comparisongroup
population exposedto thetreatment,
can be usedto identify
that
is
notdue to treatment
variation
in
the
outcome
exposure.
temporal
The difference-in-differences
is based on thissimpleidea. Card and Krueger
(DID) estimator
effectsof a raisein theminimum
(1994) assess theemployment
wage in New Jerseyusinga
would
in
thatNewJersey
to
the
variation
state,
neighbouring Pennsylvania, identify
employment
have experienced
of
in theabsenceof a raisein theminimum
Other
applications DID
wage.
includestudiesof theeffectsof immigration
on nativewages and employment
(Card, 1990),
theeffects
of temporary
an
of
after
on
time
out
work
benefits
injury(Meyer,Viscusi
disability
andDurbin,1995),and theeffectofanti-takeover
laws on firms'leverage(GarveyandHanka,
1999).
It is well knownthatthe conventional
DID estimator
is based on strongassumptions.
In particular,
the
the conventional
DID estimator
requiresthatin absenceof the treatment,
1

2

REVIEW OF ECONOMIC STUDIES

averageoutcomesfortreatedand controlswouldhave followedparallelpathsovertime.This
ifpre-treatment
to be associated
thatarethought
characteristics
assumption
maybe implausible
withthedynamics
oftheoutcomevariableareunbalancedbetweenthetreated
andtheuntreated
group.
This studyconsidersthecase in whichdifferences
createnonin observedcharacteristics
outcome
in
a case,a
for
the
It
is
such
treated
and
shown
untreated
that,
parallel
dynamics
groups.
can
be
used
effect
of
the
treatment
for
the
to
estimate
treated.
the
simpletwo-step
strategy
average
In addition,theestimation
use
of
framework
in
allows
the
covariates
to
this
article
proposed
describehowtheaverageeffect
ofthetreatment
varieswithchangesin observedcharacteristics.
fewarticles
literature
on semiparametric
andnon-parametric
methods,
Despitetheprolific
havebeendevotedto studying
restrictions.
Some exceptions
andrelaxingtheDID identification
are Besley and Case (1994), Meyer(1995), Heckman,Ichimuraand Todd (1997), Imbens,
Liebmanand Eissa (1997), Heckman,Ichimura,
Smithand Todd (1998), Angristand Krueger
Blundell
and
Costa
Dias, MeghirandvanReenen(2001) and
(1999),
MaCurdy(1999),Blundell,
and
Imbens
(2002).
Athey
The identification
withHeckmanet al. (1997,
procedureused in thisarticleoriginated
the
in threeways.First,
estimation
earlier
literature
differs
from
the
However,
1998).
procedure
it does notrequirerepeatedobservations
forthesameindividuals.
The proposedestimators
are
feasibleunderthedata requirements
whenappliedto repeated
fortraditional
DID estimators
cross-sections.
Second,it allows the estimationof parsimonious
parametric
approximations
to the averageeffectof the treatment
on the treatedconditionalon selectedcovariatesof
interest.
theframework
can accommodate
treatment
variables(thatis,different
multilevel
Finally,
treatment
intensities).
The restof thearticleis organizedas follows.Section2 describestheconventional
DID
modeland discussessomeof itslimitations.
results
Section3 presentsthemainidentification
of the article,followedby some extensions.The estimation
along withasymptotic
strategy
distribution
in the
is
in
are presented
Section
4.
Proofs
Section
5
concludes.
theory provided
Appendix.
2. THE DID ESTIMATOR
The basicDID framework
can be describedas follows.Let Y(i, t) be theoutcomeofinterest
for
individuali at timet. The population
is observedin a pre-treatment
periodt = 0, andin a posttreatment
ofthepopulation
is exposedto
periodt = 1. Betweenthesetwoperiods,somefraction
thetreatment.
We denoteD(i, t) = 1 ifindividuali has beenexposedto thetreatment
previous
to periodt, D(i, t) = 0 otherwise.
We call thoseindividuals
withD(i, 1) = 1 treated,
andthose
withD(i, 1) = 0 controls(or untreated).
areonlyexposedto treatment
after
Since individuals
thefirst
period,D(i, 0) = 0 forall i.
Theconventional
DID estimator
model.Itis useful
is oftenderivedusinga linearparametric
to considerthisformulation
oftheDID modelfirst,
to fixideas,beforestudying
non-parametric
in Section3. The following
identification
formulation
oftheDID modelis basedon thatgivenin
Ashenfelter
and Card(1985). Supposethattheoutcomevariableis generated
by a components
ofvarianceprocess
Y(i, t) = 8(t) + a. D(i, t) + r(i) + v(i, t),
(1)
where63(t)is a time-specific
a represents
theimpactof thetreatment,
component,
r(i) is an
andv(i, t) is an individual-transitory
shockthathas meanzeroat
individual-specific
component,
each period,t = 0, 1, andis possiblycorrelated
in time.OnlyY(i, t) and D(i, t) are observed.
Theeffect
ofthetreatment,
A sufficient
without
restrictions.
condition
further
a, is notidentified

ABADIE

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

3

foridentification
is thatselectionfortreatment
does not dependon theindividual-transitory
that
is
shocks,
P(D(i, 1) = 1 I v(i, t)) = P(D(i, 1) = 1)
fort = 0, 1. Addingandsubtracting
E[rq(i) I D(i, 1)] in equation(1), we obtain

(2)

(3)
Y(i, t) = 8(t) + a - D(i, t) + E[r(i) I D(i, 1)] + e(i, t),
wheree(i, t) = r(i) - E[j(i) I D(i, 1)] + v(i, t). Noticethat8(t) = 8(0) + (6(1) - 8(0))t,
and E[r(i) ID(i, 1)] = E[q(i) D(i, 1) = 0] + (E[r(i) D(i, 1)D(i,
1) =
I
0])D(i, 1). Let /t = E[r(i) I D(i, 1) = 0] + 8(0), r = E[rq(i) I D(i, 1) = 1] - E[r(i)
D(i, 1) = 0] and6 = 8(1) - 6(0). We obtain
(4)
Y(i, t) = pt+r *D(i, 1) + 8 -t + a - D(i, t) +. (i, t).
The restriction
in equation(2) fort = 0, 1 impliesE[(1, D(i, 1), t, D(i, t)) . e(i, t)] = 0,
so all theparameters
in equation(4), includingthetreatment
impacta, are estimableby least
betweenselectionfortreatment,
squares.Noticethatthemodelallowsanykindof dependence
modelis called "difference-inThis
D(i, 1) = 1, and theindividual-specific
component,
ir(i).
differences"
becauseundertheidentifying
in equation(2) we have
condition
a = {E[Y(i, 1) I D(i, 1) = 1] - E[Y(i, 1) I D(i, 1) = 0]}
- {E[Y(i, 0) I D(i, 1) = 1] - E[Y(i, 0) I D(i, 1) = 0]},

(5)

andtheleastsquaresestimator
ofa is thesamplecounterpart
ofequation(5).
Thisformulation
oftheproblemis usefulwhenrepeatedcrosssectionsof (Y(i, t),D(i, 1))
for t = 0, 1 are available. If a sample withrepeatedpre-treatment
and post-treatment
observations
of theoutcomevariable,Y(i, 1) and Y(i, 0), is available,thena is estimableby
leastsquaresregression
of Y(i, 1) - Y(i, 0) on D(i, 1):
a = E[Y(i, 1) - Y(i, 0) I D(i, 1) = 1] - E[Y(i, 1) - Y(i, 0) I D(i, 1) = 0].
Notethatequation(2) fort = 0, 1 impliesthatv(i, 1) - v(i, 0) is meanindependent
of
would
theaverageoutcomeforthetreated
D(i, 1), andtherefore
that,inabsenceofthetreatment,
haveexperienced
thesamevariation
Thisrestriction,
as theaverageoutcomefortheuntreated.
iftreatedandcontrolsareunbalancedin covariates
impliedbythemodel,maybe too stringent
thatarethought
tobe associatedwiththedynamics
oftheoutcomevariable.
Forexample,ithas beendocumented
a
in training
thatparticipants
experience
programmes
declinein earnings
(1978)). Thisfact
priorto thetraining
dip,Ashenfelter
period(Ashenfelter's
shocksinpre-training
suggeststhatselectionfortraining
maybe affected
byindividual-transitory
thisconjecture,
Ashenfelter
and Card (1985) proposethefollowing
earnings.To accommodate
modelfortheselectionprocess:
D(i, 1)=0

1 if Y(i, 1 - K) + u(i) < Y
otherwise,

(6)

Y is a constant,
whereK is a positiveinteger,
of any
and u(i) is a randomvariableindependent
variancecomponent.
Underthisformulation
forthe selectionprocess,thoseindividualswith
low earningK periodsbeforetraining
in thetraining
are morelikelyto participate
programme.
The identification
conditionin equation(2) does not hold in generalforthisexample.The
reasonis thattheindividual-specific
in time.
v(i, t), are allowedto be correlated
components,
However,if theselectionprocesscan be represented
by equation(6), thenP(D(i, 1) = 1 I
Y(i, 1 - K), v(i, t)) = P(D(i, 1) = 1 I Y(i, 1 - K)). The DID modelholdsconditionalon

4

REVIEW OF ECONOMIC STUDIES

is givenby
Y(i, 1 - K), so theimpactofthetreatment
{E[Y(i, 1) I X(i), D(i, 1) = 1] - E[Y(i, 1) 1 X(i), D(i, 1) = 011]}
(7)
-{E[Y(i, 0) I X(i), D(i, 1) = 1] - E[Y(i, 0) I X(i), D(i, 1) = 0]}
whereX(i) = Y(i, 1 - K).1 More generally,
in this articleX(i) is a vectorof observed
at t = 0. A conditional
such as demographicattributes,
characteristics,
predetermined
whenthe variablesin X (i) are
is appealingin the DID framework
identification
restriction
betweentreated
differ
believedto be relatedto theoutcomedynamicsand theirdistributions
andcontrols.
them
The traditional
way to accommodatecovariatesin theDID modelis to introduce
in
linearly equation(4):
(8)
Y(i, t) = it + X(i)'wr(t)+ t - D(i, 1) + 6 - t + a - D(i, t) + e(i, t),
on X (i) changewitht,
whereX (i) is assumeduncorrelated
withe(i, t). Becausethecoefficients
in
thisformulation
of theDID modelallows theuse of covariatesto represent
heterogeneity
to
we
obtain
outcomedynamics.
with
the
last
respect t,
Differencing
equation
=
Y(i, 1) Y(i, 0) 6 + X(i)'7r + a D(i, 1) + (e(i, 1) - e(i, 0)),
is usefulwhena samplewithrepeated
where7r = 7r(1) - r(0). This alternative
formulation
covariatesin this
observations
is available.However,as noticedby Meyer(1995), introducing
fordifferent
effects
has different
linearfashionmaynotbe appropriate
ifthetreatment
groups
a in equation
in thepopulation.
can be studiedby specifying
in treatment
effects
Heterogeneity
of X(i) (i.e. by includinginteractions
betweenX(i) and D(i, t) in equation
(8) as a function
as in equation(7), so thatany
covariates
should
be
treated
(8)). Ideally,
non-parametrically,
is avoided.However,when
created
form
functional
potentialinconsistency
misspecification
by
over
is large,somekindofintegration
thenumberof covariatesrequiredto attainidentification
X (i) is requiredin orderto obtaininterpretable
results.
in
ofcovariates
to controlfortheeffect
The nextsectionproposesa flexiblenewprocedure
As in theconventional
restrictions.
theDID modelwhichis based on conditional
identification
DID model,theroleofthecovariates
in thisnewapproachis twofold.
First,byusingcovariates
between
differences
we extendidentification
tothoseinstances
inwhichobservedcompositional
the
effect
In
variable.
in
the
outcome
treated
andcontrolscause non-parallel
addition,
dynamics
used
to
describe
be
can
so
covariates
of thetreatment
is allowedto differ
individuals,
among
featureof the
theeffectof thetreatment
fordifferent
groupsof thepopulation.A distinctive
for
methodsproposedin thisarticleis that,whilecovariatesare treatednon-parametrically
the
to
theestimators
identification,
average
approximations
parametric
provideparsimonious
ofinterest.2
effect
ofthetreatment
on thetreated
on selectedcovariates
conditional
A relatedway to accommodatecovariatesin a DID estimatorhas been exploredby
effecton
of theaveragetreatment
Heckmanet al. (1997, 1998) who proposea DID estimator
is constructed
Theirestimator
restrictions.
thetreated
basedalso on conditional
identification
by
in pre-treatment
outcomesforthetreatedto weighted
differences
and post-treatment
matching
The
in pre-treatment
outcomesforthe untreated.
and post-treatment
averagesof differences
on thecovariates
differences
are matchedon theprobability
of treatment
exposureconditional
1. In fact,forAshenfelter's
dip modelin equation(6), thesecondtermin equation(7) is zero and estimation
couldbe basedsolelyon conditional
outcomes.
averagesofpost-treatment
it allowstheuse ofparametric
2. In otherwords,whileidentification
does nothingeon parametric
restrictions,
This approachfollowsthespiritof White
functions
to describehowtheeffectof thetreatment
varieswithcovariates.
to
modelsas convenient
(1981) and Roehrig(1988) amongotherswho proposetreating
approximations
parametric
unknown
functions
ofinterest,
so identification
can be studiednon-parametrically.

ABADIE

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

5

(thepropensity
score) and the weightsare determined
usinglocal linear
non-parametrically
the
on
score
This
scheme
a
direct
propensity
regression.3 article,however,
weighting
proposes
thatcan be usedto estimate
without
on thetreated
theeffect
ofthetreatment
estimating
weights
in a previousstep.
non-parametrically
of treatment
Estimators
of theprobability
of treatment
effectsthatweighton functions
are based on theHorvitz-Thompson
and
statistic
(Horvitz
Thompson,1952). Non-parametric
of theHorvitz-Thompson
statistichave been studiedin Imbens,Hiranoand
generalizations
Ridder(2003). IchimuraandLinton(2002) havedevelopedhigher-order
expansions
asymptotic
haveproposed
forthisclass of estimators
to guidebandwidth
selection.Robinsandco-authors
treatments
relatedestimators
in thecontextof parametric
modelsfortime-varying
(see, e.g.
all
otherfactors,
aside
that
Brumback
assumed
and
In
studies
it
is
these
Robins,2001).
Hermin,
is
fromthetreatment,
thataffecttheoutcomevariableare eitherobserved,or theirdistribution
thesamefortreated
which
confound
anduntreated.
all
factors
simplecomparisons
Consequently,
of the outcomedistribution
betweentreatedand untreatedare observed.In contrast,the
of bothobservedand
identification
conditionsused in thisarticleallow forthe distribution
unobserved
factorsto differ
as longas theeffectof unobserved
betweentreatedanduntreated,
thesame
ifit experiences
factorson theoutcomedoes notvarywithtime(or,moregenerally,
on
for
and
treated
variation, average,
untreated).
3. NON-PARAMETRICIDENTIFICATION
In theprevioussection,
orthe"treatment
we referred
toa as the"impactofthetreatment"
effect",
buttheexactmeaningofthesetermswas leftundefined.
interms
willbe defined
As inRubin(1974) andHeckman(1990),theeffect
ofthetreatment
ofpotential
outcomes.Yo(i, t) represents
theoutcomethatindividuali wouldattainat timet in
absenceof thetreatment.
theoutcomethatindividuali
In thesamefashion,Y1(i, t) represents
on theoutcomefor
wouldattainattimet ifexposedtothetreatment.
The effect
ofthetreatment
i attimet is thennaturally
individual
defined
as Y1(i, t) - Yo(i, t).
individuali and time
The fundamental
identification
problemis thatforanyparticular
outcomesYo(i, t) and Y1(i, t); so we cannotcompute
periodt,we do notobservebothpotential
theindividual
treatment
effectY1 (i, t) - Yo(i, t). We onlyobservetherealizedoutcome,Y(i, t)
thatcanbe expressedas Y(i, t) = Yo(i, t) -(1 - D(i, t)) + yl(i, t) -D(i, t). Since,in thesimple
scenarioconsidered
afterperiodt = 0, we can denote
is onlyadministered
here,thetreatment
=
D(i) = D(i, 1), thenwe havethatY(i, 0)
Yo(i, 0) and Y(i, 1) = Yo(i, 1) - (1 - D(i)) +
D(i).
Yl(i, 1).oftenfocus
researchers
Giventheimpossibility
of computing
treatment
individual
effects,
on
the treated
treatment
on estimating
some averageeffect,like the averageeffectof the
=
the
desired
level
when
E[Y1 (i, 1) Yo(i, 1) I D(i)
1] (see,e.g.Heckman,1990).Sometimes,
of
the
version
of aggregation
conditional
is lower,researchers
average
tryto learnaboutsome
effect
on thetreatedE[y1(i, 1) - Yo(i, 1) 1X (i), D(i) = 1].
I will
Fortherestofthearticle,
theindividual
i willbe droppedtoreducenotation.
argument
takethenextassumption
toholdthroughout
thisarticle.
Assumption3.1. E[Yo(1) - YO(0) I X, D = 1] = E[Yo(1) - Y0o(0)I X, D = 0].
inDID models.Itstatesthat,conditional
3.1 is thecrucialidentifying
restriction
Assumption
on thecovariates,
theaverageoutcomesfortreatedand controlswouldhavefollowedparallel
score.
onthepropensity
DID andmatching
3. Blundell
etal. (2001)propose
which
combines
a related
estimator

6

REVIEW OF ECONOMIC STUDIES

NoticethatwhenE[Y(0O) I X, D = 1] = E[Y(0O) I X,
pathsin absenceof thetreatment.4
D = 0], Assumption
3.1 collapsesto a "selectionon observables"restriction
(E[Yo(1) I X,
D = 1] = E[Yo(1) I X, D = 0]) whichcan be used in cross-sectional
studiesto identify
the
effectof thetreatment
in
also
to
this
article
on thetreated.5
results
this
the
Therefore,
apply
situation.
Thisis thecase forAshenfelter's
particular
dipexample,discussedin Section2. I will
comebacktothispointin Section3.2.
Existenceoftheexpectations
UnderAssumption
is assumedthroughout.
of
3.1, theeffect
thetreatment
on thetreated
conditional
on X canbe expressedas (Heckmanetal., 1997):6
E[Y1(1) - Yo(l) I X, D = 1] = {E[Y(l) I X, D = 1] - E[Y(l) I X, D = 0]}
- {E[Y(O) I X, D = 1] - E[Y(O) I X, D = 0]}.

(9)

Even when Assumption3.1 holds unconditionally,
if it also holds conditionalon some
identification
covariates
of
interest
we
predetermined
(e.g. gender), maystilluse theconditional
resultto evaluatetheeffectofthetreatment
of
the
fordifferent
population(e.g. women
groups
vs. men).
In principle,
theidentification
resultin equation(9) can be used to estimateE[Y1(1) =
D
ofeachone ofthefourexpectations
estimates
1] byproducing
non-parametric
Y0(1) I X,
on theR.H.S. of equation(9). In practice,thenumberof observations
requiredto attainan
increases
for
this
of
estimator
acceptableprecision
veryrapidlywiththe
type non-parametric
dimensionof X. This problem,oftencalled thecurseof dimensionality,
us from
mayprevent
in
D
estimators
for
instances.
=
1] manypractical
E[Y1 (1) Y0(1) I X,
usingnon-parametric
In addition,
a simplenon-parametric
based
estimator
of E[yI (1) - Y0(1) I X, D = 1],directly
on equation(9), maybe difficult
if thedimensionof X is largerthantwo,so we
to interpret
cannotsummarize
overthedistribution
theresultin a graph.In thosecases,someintegration
of
X forthetreatedis requiredin orderto producesummary
Even then,theestimation
statistics.
forthetreateddirectly
based
An estimator
effects
of averagetreatment
processis cumbersome.
on equation(9) requiresestimating
ifa
two
fourconditional
(or
non-parametrically
expectations
is available)andthen
samplewithrepeatedoutcomes,Y(0) and Y(1), forthesameindividuals
theestimates
tothedesiredlevelofaggregation.
integrating
Thisarticleproposessimpleweighting
oftheaverageeffect
schemesto produceestimators
on thetreatedE[Y1 (1) - Y0(1) I D = 1] andparsimonious
to its
approximations
parametric
conditional
versionE[Y1(1) - Y0(1) I Xk,D = 1],whereXkis a function
of X (forexample,
4. Using experimental
data, Heckmanet al. (1997, 1998) have shownthe plausibilityof this identifying
in thecontextoftheevaluation
ofa subsidizedtraining
assumption
programme.
5. In thatcase, Assumption
3.1 impliesE[y1(1) - YO(l) I X, D = 1] = E[Y(1) I X, D = 1] - E[Y(1)
on thetreated.
dataare notrequiredto identify
theaverageeffectof thetreatment
If,in
X, D = 0], and pre-treatment
addition,
E[Y1(1) I X, D = 1] = E[Y1(1) I X, D = 0], thenE[Y1(1)- Y0(l) I X] = E[Y(l) I X, D = 1] - E[Y(l) I
ofoutcomesbetween
X, D = 0]. Selectionon observables
simplecomparisons
impliesthatall factorswhichconfound
treatedand controlsare observed.This is a too stringent
of unobserved
ifthedistribution
variableswhich
assumption
affect
theoutcomeis believedto differ
betweentreatedandcontrols.
See, e.g. Rubin(1977) andHeckmanetal. (1997).
6. A researcher
couldbe interested
in estimating
E[Y1(1) I X, D = 1] and E[YO(1) I X, D = 1] separately.
Since Y1(1) is observedforthe treated,bothconditionalexpectations
In fact,giventhatY1(1) is
are identified.
observedforthe treated,identification
resultson E[Y1 (1) - y0(1) I X, D = 1] are equivalentto identification
resultson E[YO(1) I X, D = 1]. Here,I concentrate
on thedifference
E[Y1(1) - y0(1) I X, D = 1] becauseit
has beentheobjectofinterest
in thedifference-in-differences
literature
(see, e.g. Heckmanet al. (1997, 1998)). Notice
also thatAssumption
3.1 by itselfdoes notidentify
effectsconditionalonlyon thecovariates
theaveragetreatment
(E[Y1(1) - Y0(1) I X]), unlessconditionalaverageeffectscoincidefortreatedand untreated
E[Y1 (1) - y0(1) I
3.1 identifies
X, D = 1] = E[Y1(1) - Y0(l) I X, D = 0]. The reasonis thatAssumption
E[YO(l) I X, D = 1],
and therefore,
theeffectofthetreatment
3.1 leaves E[Y1 (1) I X, D = 0] totally
on thetreated.However,Assumption
so theeffect
ofthetreatment
on theuntreated
is also unrestricted.
unrestricted;

ABADIE

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

7

a subsetof the variablesin X). The weightingschemeis directlybased on the propensity
whichneeds to be estimatedin a first
score,P(D = 1 I X), whichis the onlyfunction
burdenand allows
As
a
the
first
method
reduces
the
result, proposed
step.
stepestimation
theresearcher
relativeto
to use fouror twotimesmoreobservations
forfirststepestimation,
directestimation
of equation(9). In practice,thisfeaturemay be an important
advantageif
number
of
the
observations
is
in
When
estimation
carried
out
the
first
non-parametric
step.
is too smallfornon-parametric
in the firststep,theproposedmethodallows the
estimation
on the
researcher
to circumvent
restrictions
thecurseof dimensionality
by placingparametric
=
rather
than
D
which
leaves
on
score,
1] unrestricted,
Yo(1) I Xk,
propensity
E[YI(1)
each one oftheconditional
restrictions
on
meansofequation(9), whichmayimposeunwanted
E[Y1(1) - Yo(1) I Xk, D = 1].

The estimation
of parametric
to E[Y1 (1) - YO(1) I Xk,D = 1] has
approximations
somebenefits.
resultsat thelevel of
it
a
method
to
First, provides simple
produceestimation
desired
are
summarized
the
In
the
results
aggregation
by
by
analyst. addition,
parsimoniously
theestimates
oftheparameters
to E[Y1 (1) - Yo(1) I Xk,D = 1].
thatdefinetheapproximation
willbe low ifthequalityof
However,thequalityoftheinformation
providedbyourestimators
the approximationto E[Y'(1)

- YO(1) 1 Xk, D = 1] is poor.

Since the object of studyis the effectof the treatment
on the treated,the minimal
is exposed
for
the
fraction
ofthepopulation
to
be
is
some
well
defined
that
requirement
problem
tothetreatment.
In addition,
fortheeffect
ofsome
sinceidentification
is attained
aftercontrolling
covariatesX, itwillbe required
thereis somefraction
thatforeachgivenvalueofthecovariates
ofthepopulation
thatremainsuntreated
andcanbe usedas controls.
Assumption 3.2.

P(D = 1) > 0 and withprobabilityone P(D = 1 I X) < 1.

Note thatAssumption
scoreforthetreatedis a
3.2 impliesthatthesupportof thepropensity
subsetof thesupportof thepropensity
This is a well-known
condition
scorefortheuntreated.
foridentification
of theaverageimpacton thetreatedunderselectionon covariates(see, e.g.
Heckmanetal., 1997).
3.1. Randomsamplewithrepeatedoutcomes
In thissection,I introduce
the
theidentification
strategy
proposedin thisarticleby considering
situation
in whichwe can observebothpre-treatment
outcomesfora random
andpost-treatment
to data on
sampleof thepopulationof interest.
Examplesof applicationsof DID estimators
outcomes
et
are
Card
and
al.
Heckman
(1997, 1998), Garveyand
repeated
Krueger(1994),
Hanka (1999) and Blundellet al. (2001). Underthissamplingscheme,foreach individualin
oursamplewe observe(Y (1), Y(0), D, X). Laterin thearticle,theidentification
procedureis
extendedtorepeatedcrosssections.
Lemma 3.1. IfAssumption
3.1 holds,andfor valuesof X such that0 < P(D = 1 I

X) < 1, we have E[Y1(1) - Y0(1)i X, D = 1] = E[po . (Y(1) - Y(0))

X], where

D - P(D = 1 I X)

P(D=

1 I X) . (1 - P(D=

1 I X))

Fornotational
letpo = -1 if P(D = 1 I X) = 0 (thischoiceis inconsequential
convenience,
sincetheobjectsofinterest
willbe integrals
overthedistribution
oftheX conditional
on D = 1).
The averageeffect
ofthetreatment
forthetreated
is givenby

8

REVIEW OF ECONOMIC STUDIES

fE[YI(1)- Yo(1) IX, D 1]dP(X I D = 1)
=
D = 1)
fE[po.-(Y(1) - Y(O)) I X]dP(XI
I
= 1

E[Y'(1) - Yo(1) I D = 1]=

=E

=

P(D
-po-(Y(1) - Y(O))

X)

E[Y(1)- Y(O) D- P(D=I

X)1(10)

P(D = 1)

P(D = 1)

1- P(D = 1I X)(10)

differences
in
In words,underAssumptions
3.1 and3.2, a simpleweightedaverageoftemporal
forthetreated.The weights
theoutcomevariablerecoverstheaverageeffectof thetreatment
score.On an intuitive
level,thisschemeworksby weighting-down
dependon thepropensity
forthosevaluesof thecovariateswhichare
thedistribution
of Y(1) - Y(0) fortheuntreated
low P(D = 1 I X)/P(D = 0 I X)),
with
the
untreated
(thatis,
over-represented
among
and weighting-up
Y(1) - Y (0) forthosevaluesof thecovariatesunder-represented
amongthe
=
=
same
distribution
of
the
In
this
0
untreated
is
with
I
1
X)).
way
(that
I X)/P(D
highP(D
thecovariates
is imposedfortreated
anduntreated.7
Equation(10) suggestsa simpletwo-stepmethodto estimatethe averageeffectof the
3.1 and 3.2: (i) estimatethe propensity
treatment
on the treatedunderAssumptions
score,
=
the
fitted
values
into
the
I
for
the
fitted
values
and
1 X),
P(D
sample;(ii) plug
compute
of E[y1(1) - Yo(1) I D = 1].
thesampleanalogueofequation(10) to obtainan estimate
is lowerthantheentiretreated
In manypracticalinstances,
thedesiredlevelofaggregation
thetreatedfordifferent
affects
treatment
how
the
and
the
wants
to
population
study
analyst
ofE[Y1 (1) - Yo(1) I
estimator
a
of
As
the
above,
non-parametric
groups
population. explained
of
X
is
dimension
if
the
tointerpret,
X, D = 1] maybe difficult
large.Sucha problem
especially
- Y0(1) I X, D = 1].
to
is circumvented
onparametric
herebyfocusing
E[Y1
(1)
approximations
on somevectorofrandom
in whichwe needto condition
Moregenerally,
considerthesituation
in E[Y1(1) - Y0(l) I Xk,D = 1],
variablesX to attainidentification,
butwe are interested
is relevantwhenthenumberof
of X.8 This situation
whereXk is somedeterministic
function
is large,so theanalystmaybe willingto allow
covariatesneededin orderto attainidentification
results.
fora higherlevelofaggregation
in thesecondstepin orderto obtainparsimonious
functions
Considera class of approximating
g = {g(Xk;0) : 0 E 0 C
squareRk},
=
from
D
a
least
with
to
Then,
P(Xk
I
1).
approximation
squares
integrable
respect
g to
E[Y1(1) - Yo(1) I Xk,D = 1] is givenbyg(Xk; 00) where
=
(11)
0o= argminoeE[{E[yl(1) - Yo(1) I Xk,D 1] - g(Xk; 0)}2 I D 1].
Forexample,if g = {X'0 : 0 E E C IRk},then00 definesa linearleastsquaresapproximation

=

to Er[Y'(1) - YO(1) I Xk,D = 1]. It is assumedthat00 existsuniquely.
3.1 and 3.2 hold,then
Proposition3.1. IfAssumptions

Oo= argminoeoE[P(D = 1 I X) - {Po - (Y(1) - Y(0)) - g(Xk; 0)12].
scoreto accountforimbalancesin the
7. Similarly,
Heckmanet al. (1997) use matchingon thepropensity
scoreworksbecauseitimposes
distribution
ofthecovariates
anduntreated.
betweentreated
Matchingon thepropensity
thesamedistribution
ofthecovariatesforthetwogroups(see RosenbaumandRubin,1983).
for
X maycontainindicators
8. Forexample,Xk maycontaina subsetofthevariablesin X. In otherinstances,
all different
valuesofa discretevariableincludedin Xk.

ABADIE

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

9

As before,itis easyto construct
basedon thesampleanalogueoftheresult
a two-step
estimator
in thelastproposition.
Aftersomealgebra,theresultin equation(10) can be obtainedapplying
3.1 tothecase wheng(Xk,0) is constant.
Proposition
3.2. Someextensions
andparticularcases
This sectioncontainsextensions
treatments.
It also
to repeatedcrosssections,and multilevel
discussesthecase ofselectionon observables.
3.2.1. Repeated cross sections. Often,a randomsamplewithrepeatedoutcomesis not
available.In such a case, repeatedcross-section
and post-treatment)
data-sets(pre-treatment
be
used
to
construct
DID
of
sectionsforDID
use
cross
estimators.
the
However,
may
repeated
issues
some
of
status
the
data
treatment
First,
presents
(in
period)
post-treatment
availability.
mustbe knownfortheindividuals
is satisfied,
in thepre-treatment
for
sample.Thisrequirement
if
treatment
observed
from
individual
characteristic
can
be
determined
some
example,
exposure
10In addition,
in bothperiods.9,
covariatesmustbe observedinthepost-treatment
sample.Since
covariates
areoftenpre-treatment
a
second
this
variables,
mayprove problemwhen
requirement
covariatesaretime-varying
covariatedataavailable.Examplesof
andtherearenotretrospective
ofDID estimators
withcovariates
torepeatedcrosssectionsareCard(1990, 1992),
applications
et
al.
Eissa
and
Liebman
(1995),
Meyer
(2001),Corak(2001) and
(1996),AcemogluandAngrist
Finkelstein
I
in
show
how
methods
to
the
Here,
(2002).
proposed thisarticleto repeated
apply
crosssections.The datarequirements
difference-in-differences
are thesame as fortraditional
estimators
whichuse cross-sectional
dataandcovariates.
Assumethatrandomsamplesare availableforthepre-treatment
and thepost-treatment
For
we observe
each
individual
in
and
the
periods.
pooledsample(post-treatment pre-treatment),
Z = (Y, D, T, X) whereT is a timeindicator
thattakesvalueone iftheobservation
belongsto
thepost-treatment
sample.
on T = 0, thedata are i.i.d.fromthedistribution
of(Y(0),
Assumption3.3. Conditional
on T = 1,thedata are i.i.d.fromthedistribution
D, X); conditional
of(Y (1), D, X).
Thissamplingschemeproducesthefollowing
mixture
distribution:
PM(Y = y, D = d, X = x, T = t) =

-t - P(Y(1) = y, D = d, X = x)
.
+ (1 - X) . (1 - t) . P(Y(O) = y, D = d, X = x),

e (0, 1) reflectsthe proportion
where E
of the observations
sampledin the post-treatment
Let
denote
to
with
period."
expectations respect PM(-).
EM[']
Lemma 3.2. IfAssumptions
3.1 and 3.3 hold,andforvaluesofX suchthat0 < P(D =
1 IX) < 1,we haveE[Y1(1) - Yo(1) IX, D = 1] = EM[qPo Y I X], where
T -X
D - P(D = I X)
1 1X) .P(D = O) X)
=
.0 (1 - 1) P(D
9. Notethatidentification
the
is excludedfromX. Otherwise,
requiresin turnthatsuchindividualcharacteristic
inAssumption
condition
iftheexcludedvariable
3.2 wouldbe violated.Thisexclusionrestriction
is problematic
support
influences
thedynamics
oftheoutcomevariable,so Assumption
3.1 is notplausible.
10. Therequirement
in othercases,forexamplewhenthepre-treatment
mayalso be satisfied
samplecanbe linked
to administrative
datarecordson treatment
participation.
11. Forsimplicity,
I do notconsidermorecomplicated
in whichthedatamaybe generated
situations
bystratified
sampling(on X or D). In such a case, theresultsin thissectionapplyfora suitablyreweighted
sample(see, e.g.
2002).
Wooldridge,

REVIEW OF ECONOMIC STUDIES

10

a reasoningsimilarto thatoftheprevioussectionwe havethattheaverage
Then,following
is identified
treatment
effect
on thetreated
by

EM[P(D
P(D

=

1

= 1)YX)

E[Y'(1) - Y0(1)ID = 1].

(12)

The following
3.1.
is analogoustoProposition
proposition
Proposition3.2. If Assumptions3.1, 3.2, and 3.3 hold, thenfor 0o definedin
equation(11) we have
(13)
00 = argmin0,EEM[P(D = 1 I X) - {10 - Y - g(Xk; 0)12].
a constant
The resultin equation(12) can be obtainedbyconsidering
g(Xk,0) in equation(13).
3.2.2. Selectionon observables. In theprevioussection,itis shownhowto approximate
in theoutcome
effectsby firstweighting
conditionalaveragetreatment
temporaldifferences
on a set
differences
variableon the propensityscore, and thenprojectingthe weighted
as
functionals
the
of
of parametric
functions
of the covariates.The interpretation
resulting
difference-in-differences
the
from
comes
effects
toconditional
averagetreatment
approximations
conditionin Assumption
3.1. However,it shouldbe noticedthatthesame "firstweight,then
theresultsintheprevioussection
In particular,
canbe appliedin othercontexts.
project"strategy
to "selectionon observables":
carryovernaturally
(14)
E[Yo(l) I X, D = 1] = E[Yo(1) I X, D = 0].
The reason is that "selectionon observables"can be expressedas a particularcase of
Assumption3.1 (whenE[Yo(0) I X, D = 1] = E[Yo(0) I X, D = 0]). As a result,if
equation(14) holds,then
=
= 1 1X) . {Po Y - g(Xk; 0)12],
0o argmino,E[P(D
havebeenconsideredin
for00 definedin equation(11) and Y = Y(1).12,'13Similarestimators
theaveragetreatment
which
in
the
situation
consider
Imbens
et
al.
(2001).
(2003)
Wooldridge
of the covariates.Abadie (2003) applies similar
effectis estimatedfora givendistribution
effects.
variablemodelsfortreatment
ofinstrumental
methodsin thecontext
approximation
3.2.3. Multileveltreatments. So far,we have consideredonly the case of a binary
whichis theusualfocusofDID estimators.
However,thesameideas can be applied
treatment,
Let W represent
levels(ordoses)ofthetreatment.
whenindividuals
maybe exposedto different
=
For
the
0.
W
let
thelevelof thetreatment.
For untreated
treated,
individuals,
supposethat
Let
<
with
<
W takeson a finitenumberofpositivevalueswI
wj,
positiveprobability.14
-..
12. For thiscase, it is usefulto defineY = Y(1) because equation(14) maybe adoptedas an identification
restriction
inabsenceofmeasureson theoutcomevariableina pretreatment
period.However,as shownforAshenfelter's
periodin order
dip example,itmaybe necessaryto conditionon thevaluesoftheoutcomevariablein a pre-treatment
forequation(14) tohold.
effectsconditional
if theobjectsof interest
are averagetreatment
13. Alternatively,
onlyon thecovariates,00
can be redefined
as 00 = argminogE[{E[yl(1) - y0(1) I Xk] - g(Xk,0)12]. However,equation(14) does not
unrestricted.
on theuntreated
becauseit leaves E[Y1 (1) 1X, D = 0] completely
theeffectof thetreatment
identify
If we assumein additionthatE[Y1(1) I X, D = 1] = E[Y1(1) I X, D = 0], then00 is identified
by 00 =
arg
E[(p0 Y - g(Xk; 0))2].
For
levels are ordered(e.g. numberof weeks in a trainingprogramme).
14. Here, I assume
thattreatment
?
min0o
oftreatment
levels.
I consideronlya finitenumber
and sinceitis oftenthecase in applications,
expositional
simplicity
densitiesfor
treatments
to continuous
in thissectioncan be generalized
by substituting
However,theanalysispresented
W forprobabilities
overthosedensitiesforsums.
forW, andintegrals

ABADIE

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

11

is theindicator
function
forthesetA
W+ = {w1,..., wj}, thenD = lw+(W), where
lA(')
=
let
U
and
t
E
if
e
w
zero
For
E {0, 1}, Y"(t) be the
(thatis, lA(W) 1
A,
otherwise). w {0} W+
3.1 holdsforeach
that
outcome
for
w
treatment
level
and
t.
potential
Assumption
period Suppose
treatment
level:E[Yo(1) - Yo(0) I X, W = w] = E[Yo(1) - Yo(0) I X, W = 0], forw W+.
In words,thisassumption
theaverageoutcomesfor
requiresthat,in absenceof thetreatment,
all treatment
on thecovariates.As in
would
conditional
have
followed
groups
paralleltrends,
theusualDID case witha binarytreatment
allows
thelevelsofaverage
the
variable, assumption
treatment
outcomes
without
between
the
treatment
to
differ
potential
groups.
arbitrarily
Forw e W+, letpw = (I{)(W)/P(W = wI X))-(1{o)(W)/P(W = 0 I X)). (Notethat,
forpo definedin Lemma3.1, po = p1.) Then,following
thesamereasoningas forLemma3.1,
we obtainE[po(Y(1) - Y(0)) I X] = E[YW(1) - Yo(1) I X, W = w]. In addition,
forsome
=
class ofsquare-integrable
:
redefine
functions
01,
0e
Xk;
0)
{g(W,
approximating
g
=
(15)
0o argmin0,oE[(E[yW(1) Y0(1) I Xk, Wi - g(W, Xk; 9))2 D = 1].

I

The parameters
to a function
80 definea leastsquaresapproximation
describing
averageeffects
forthetreatedE[YW(1) - Y0(1) I Xk,W = w]. Then,theseparameters
areidentified
by
o=

P(W = wIj X)(po (Y(1) - Y(0)) g(wj, Xk; 0))2
argmin0oeE
T
andcan be provenusingthe
3.1 if W is binary,
Thisresultcollapsesto theresultin Proposition
sameargument
as forProposition
3.1.
4. ESTIMATION AND ASYMPTOTIC DISTRIBUTION
Forconcreteness,
I willconcentrate
to E[Y' (1) - Y0(1) I Xk,D =
hereonlinearapproximations
where
is
a
deterministic
of
In
function
X.
1]
Xk
addition,onlythe case of repeatedcross
sectionsis explicitly
considered
here.However,
theanalysisis also validforthecase ofrepeated
observations
ifY(1) - Y(0) is substituted
aretaken
for((T - )/X(1- X)) . Y, andexpectations
withrespecttothedistribution
of (Y (1), Y (0), D, X). Consider
o= arg
{0Y
X( - X
where7ro(X)= P(D = 1 I X), andminpSEM[ro0.
T- k
D - ro(X)

(Po
In Xki (Xi)Xki

}2]

XP=(1 - ) iro(X) (1 - rro(X))
Consideralso thefollowing
ofPo:
estimator
=

1

n

r

I1

where"2(Xi) is an estimator
of-ro(Xi),and
(Pi

Ti -

.(1 - X)

k

n

=XkiX(Xi) iYi,

n

i1

Di - r(Xi)

-

(Xi))
X
=
for
n /(no+ nl). Undertheconditions
with
ofthetheorems
statedbelow,f is welldefined
probability
approaching
one.

.

(Xi)-

(1

score
firststepestimation
ofthepropensity
4.1. Non-parametric
is used in a first
Here,I considerthecase in whichnon-parametric
(powerseries)regression
stepto estimatero. Let " = (1,
,r)' be a vectorof non-negative
integerswherer is
....

REVIEW OF ECONOMIC STUDIES

12

Let {t(k)}' 1 be a
the dimensionof X. Also let Xr =
x and I
.ij. a
j=
1j=I
For
distinct
vectors
with
all
positiveintegerK,
,
sequencecontaining
IT1non-decreasing.
= K(n) -- oo a
P, KK(X))' where PkK(X) = X?(k). Then, for K

let pK (X) = (plK(X) ...

is givenby
estimator
of 0ro
powerseriesnon-parametric
K(X)=

(16)

pK (X)'-

where 7 = (LE
thematrixA.
inverseofpK(Xi)pK(Xi))-(in=
generalized

pK(Xi)Di) and A- denotesany symmetric

of order s, and
Assumption 4.1. (i) K6/n = o(l), 7ro(X) is continuouslydifferentiable
nK-2s/r = O(1); (ii) the supportof X is a Cartesian product of compact intervalson which
X has densitythatis bounded away fromzero; (iii) xro(X) is bounded away fromzero and one;
(iv) Po is an interiorpoint of a compact set 0 C IRk; (v) EmMY2< 00, I Xk is bounded, and
E[Xk Xk I D = 1] is non-singular.

Let
=

6(X)

EM

Xk

T-hD-1

k - (1 -

)

(1 -

2 Y
7o)2

k

X
X.

If no, nl --+ oo, nl/(no + n1) = X e (0, 1) and Assumptions3.1, 3.3
where V =
and 4.1 hold, then nl/2(8P-_o)
Q = E[XkDXk],
d N(0, V),
Q-1EQ+
iro(X)).
8(X) . (D
EM [/n'], r Xk ro(X)(?pOY X'ko)
Theorem 4.1.

c=

-=

-1, where

oftheasymptotic
To construct
an estimator
variance,let V = Q-1E
-

1

n

Ln
S

6(Xi) =

X

n

(

1

XkiDiXki
,

i=1 Xki

n

Ti - X

-

(1l

n

i=1 ii

Di - 1

r) (1 - R(Xi))2

pK(Xi)
pK(Xi)
Zi=lpK(Xi)
and t/ij= Xki~f(Xi)(' Yi - Xkifj + 6(Xi) . (Di - '(Xi)).

theconsistency
of V.
Theorem 4.2.

I
Y

- ki

P (Xi)
pK(X),

The followingtheoremestablishes

If theassumptionsof Theorem4.1 hold and K7/n

-*

0, thenV -+ V.

4.2. Parametricfirststep estimationof thepropensityscore

inthefirst
estimator
step.Thisis particularly
Often,samplesaretoosmalltouse a non-parametric
data-sets.In suchcases, it maybe convenient
likelywhentheanalystdeals withlongitudinal
scoreby maximum
in thefirststepand estimatethepropensity
to use a parametric
restriction
likelihood.This sectionprovidesdistribution
theoryforthatcase. The resultsincludeprobit,
ofIo as specialcases.
first
logitandlinearprobability
stepestimation
Assumption 4.2. (i) Yo is an interiorpoint of a compact set I C Ir; (ii) the support
of X is a subset of a compact set S; E[XX'] is non-singular;(iii) thereis a (known)function
I
:R
[0, 1] such that iro(X) = xr(X'yo); (iv) let V = {x('y : x e S, y E 1};for v e V,
with
r(v) is bounded awayfromzero and one, strictlyincreasingand continuouslydifferentiable

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

ABADIE

13

derivative
boundedawayfromzero and infinity;
pointof a compactset
(v) &o is an interior
=
D
is
E C IRk;(vi) EMY2 < 00, IXk is bounded,and Er[Xk
1] non-singular
Xk I
likelihood:
Underthisassumption,
yocan be estimated
bymaximum

1

-n

log7(Xiy) + (1 - Di)log(1 - 7r(X'y)).
1argmax ~ L
g=_=argmaxyr-n
Zi=1
OnDi
but allows
Then, 5r(Xi) = 7r(X7). Boundednessof X is not a necessaryrestriction
the
of
4.2 to encompassmaximumlikelihoodestimation
logit,probitand linear
Assumption
subset
ofthevariablesin
is
some
in
most
cases
andsince
models.Forsimplicity,
Xk
probability
the
vector
X is saturated
and
are
discrete
If
covariates
X, Xkis also assumedtobe bounded. the
form
of Jris not
functional
the
then
withindicators
values
the
of all thepossible
of
covariates,
andtheestimation
of 'r(X) is completely
restrictive
non-parametric.
conditions(e.g.
Let * =
r(v)/lav and o = r(X'yo). Understandardregularity
is
is
that
linear,
n1/2(y-yo) n-1/2
(Zi)+
4.2(i)-(iv)),
Assumption
asymptotically
1Cfyo
i=l
Op(1),where

F

ryo(Z)E
Let

0

=

E
Vro(Z)
- no) XX'

11
X

ro(1- no)

- D
1
S(O(1
- 0)
(17ro)2

0(1

Mo EM Xk

(D - ro).

(17)

Y - Xkf)rOrox'.

(1

Theorem4.3. If no,ni-I
3.1, 3.3
00, nl/(no + nl) = X E (0, 1) and Assumptions
- Po)
and 4.2 hold,then
Q = E[XkDX],
N(0, V), whereV = Q-1Q-1,
,/-I(f
Y
=
=
=
+
4r
V o, Yo)
m(Z, o~,Yo) Myo0yo,m(Z,
E EM[r 4'],
XkJo].
Xk7OO0?
Let V = - 1
-1, where

Q=- n

n1

= -1

A
My
*Y(Zi)

=

I
i=l Xki Di Xiki?

n

1Xki

n
-i=
n
(1
n Li=1

-

1

E =i
n

n

Ii=l

Di -

I -I

(1 - X) (1 -Di '(Xi))2

(X*(X )2
rt(Xi)(1- '(Xi))

-1 Xi
XiX_

and = Xki(Xi)(Oi3 Yi +
XkiF) M4r-(Zi).
of V.Ili_

X

~
(X

)X,

((Xi)
7r(Xi)(1 - '(Xi))

(Di

- r'(Xi)),

theorem
establishes
Thefollowing
consistency

Theorem4.4. If theassumptions
of Theorem4.3 holdand r(v) is twicedifferentiable
then
inV,
withboundedsecondderivative
V - V.
5. CONCLUSIONS
estimators
difference-in-differences
a familyof semiparametric
In thisarticle,I haveintroduced
These estimators
restrictions.
maybe
effectsbased on conditionalidentification
of treatment
to
are
that
characteristics
of
observed
distribution
the
thought
when
particularly
appropriate
be relatedto the dynamicsof the outcomevariablediffersbetweentreatedand untreated.

14

REVIEW OF ECONOMIC STUDIES

herecanbe
themethods
Identification
doesnotentailparametric
restrictions.
However,
presented
versions
of
the
to
conditional
usedto estimate
average
parsimonious
parametric
approximations
effect
forthetreated.
treatment
APPENDIX. PROOFS
ProofofLemma3.1. For0 < P(D = 1 I X) < 1,we havethat
E[pog (Y(1) - Y(0))

I X] =

E[p 0. (Y(1) - Y(0)) I X, D = 1]. P(D = 1 1X)
+ E[po
0 (Y(1) - Y(O)) I X, D = 0] . P(D = 0 I X)
= E[Y(l) - Y(O) I X, D = 1] - E[Y(1)- Y(O) I X, D = 0].

Applying
equation(9) we obtaintheresult. II
3.1. Let G(O) = E[P(D = 1 I
-(Y(1)- Y (O))-g(Xk; 0)}2]. Addingandsubtracting
ProofofProposition
X){p0o
E[Y1(1) - Y0(1) I Xk,D = 1],we obtain
G(O) = E[P(D = 1 IX) . {po- (Y(1) - Y(0)) - E[Y1(1) - Y0(1) I Xk,D = 1]}2]
+ E[P(D = 1 I X) - {E[Y1(1)- Y0(1) I Xk,D = 1] - g(Xk; 8)}2]
+2E[P(D = 1 I X) (po - (Y(1) - Y(O)) - E[Y1(1) - Y0(1) I Xk,D = 1])
.

x (E[Y1(1) - y0(1) I Xk,D = 1] - g(Xk; 0))].

(A.1)

The first
termon theR.H.S. ofequation(A.1) does notdependon 0.
thesecondtermon theR.H.S. ofequation(A. 1) is equalto
expectations,
By thelaw ofiterated
E[D

{E[Y1(1) - Y0(1) I Xk,D = 1] - g(Xk; 8)}2]
= E[{E[Y1(1) - Y0(1) I Xk,D = 1] - g(Xk; Q)12 I D = 1]P(D = 1).

at 00.
3.2 andequation(11), thesecondtermon theR.H.S. ofequation(A. 1) is minimized
Therefore,
byAssumption
in thethirdtermon theR.H.S. ofequation(A. 1) is equal to
The expectation
= 1 I X) . (pO- (Y(1) - Y(0)) - E[Y1(1) - Y0(1) I Xk,D = 1]) 1Xk]
x (E[Y1(1) - Y0(1) I Xk,D = 1] - g(Xk; 0))].

E[E[P(D

thelaw ofiterated
andLemma3.1:
expectations
Applying
E[P(D = 1 I X) -po - (Y(1) - Y(0)) I Xk] = E[P(D = 1 I X)E[PO - (Y(1) - Y(0)) I X] I Xk]
= E[P(D = 1 I X)E[Y1(1) = 1] I Xk] = E[E[D(Y1(1) y0(1) I X, D
y0(1)) I X] I Xk]
= E[D(Y1(1) - Y0(1)) I Xk] = P(D = 1 I Xk) . E[Y1(1) - y0(1) I Xk,D = 1].
Therefore,
E[P(D = 1 I X) . (po (Y(1) - Y(0)) - E[Y1(1) - Y0(1) I Xk,D = 1]) I Xk]
= E[P(D = 1 I X) -pO- (Y(1) - Y(O)) I Xk] - P(D = 1 I Xk)E[Y1(1)- Y0(1) I Xk, D = 1] = 0.
holds.
thethirdtermon theR.H.S. ofequation(A. 1) is equaltozero,andtheresultoftheproposition
Consequently,
ProofofLemma3.2. Noticethat
EM[ po Y I X] = EM[EM[po - Y I X, T] I X] = EM[E[YO - Y I X, T] I X]
= E[po Y I X, T = 1] - E[p 0. Y I X, T = 0] = E[p0 Y(1) I X] - E[p0 Y(0) I X]
"
"
= {E[Y(1) I X, D = 1]- E[Y(1)
I X, D = 0]}- {E[Y(O) I X, D = 1]- E[Y(0) I X, D =0]},
andtheresultfollowsfromequation(9).

II

3.1.
3.2. The prooffollowsthesamestepsas theproofofProposition
ProofofProposition
4.1. Let I I|
ProofofTheorem

norm.By Assumption
denotethesupremum
4.1(i), (ii) andTheorem4 inNewey

(1997), it follows that I| - sr0|l = Op(K . [(K/n)1/2 + K-s/r]) = op(1). Let m(Z, f, r) = Xkxr(q(r)

?

Y - XJk).

ABADIE

15

SEMIPARAMETRIC DIFFERENCE-IN-DIFFERENCES

thatEM[m(Z, /, 7r0)]has a uniquezero at /3 =
4.1(v) guarantees
Assumption
(E[XkrOXj)-1EM[XkrOqoY].
addition,
supn

m(Zi, /3, ) - EM [m(Z, /, 7ro)]

-L=1

Ti

-x

Noticethat,
) - m(Zi, , r0) = Xki{('(Xi)
m(ZO, ),
Ti -X
Oi -

X(1 -

0o(Xi)

oi-T

, 0)
(A.2)

.

Di - ro(Xi)
rno(Xi)- (1 - 0ro(Xi))
i - ro0(Xi)90i) Yi - ('(Xi) - ro(Xi)) Xki}, and

Oi = ' (1 - X)
.

7(Xi)

m(Zi,
m(Zi , , )

,

+ up = m(Zi,/3 ro) - EM[m(Z, /,
n i=1
7ro)]
1

+ sup/

Let

<5

In

7) (1 -

D1 -1
Di - I(r(Xi)

70(Xi))

70(Xi))(1- ro(Xi))

one
4.1(iii) anduniform
of ', withprobability
approaching
By Assumption
convergence
andthereis a constant
C suchthat

'

is boundedawayfromone

,
) - m(Zi, 7ro)
Yi II+ IIXki11211/111
m(Zi,,
C .-r0
=1
=I{Xki
4.1 also impliesthatIIm(Z,/,
thefirsttermof theR.H.S. of equation(A.2) is op(1). Assumption
Therefore,
r0o)II
2.4
at each / 0E compact,Lemma
is dominated
is continuous
function.
Then,sincem(Z, /,
by an integrable
7r0)
in Neweyand McFadden(1994) impliesthatthesecondterm
of theR.H.S. of equation(A.2) is also op(1) and that
basedon moment
forestimators
Now,theusualconsistency
E[m(Z, /, rno)]is continuous.
equations(e.g. van
argument
supE

derVaart(1998,Theorem5.9)) provesthatf- p/0o.
one n-1
Since Ir - zoloo converges
in probability
to zero,withprobability
approaching
and
non-singular

E

1 Xki(Xi)Xki

n1/2(f P0)

i=1

SinceXk has secondmoments,
S Xkic(Xi)Xki
n K 1i=1

= E[XkDXk] +

=l

Xki7(Xi)Xfi

is

Xki'(Xi)(i Yi - Xki3O)

Op().

Now,letus provethat
1

r

Sm(Zi, ) =
0,

1

Xkif(Xi)(iYi

Consider
, 1rY= i,)

A(Z,,

m(Z/,

- Xki0)

r = Xk

.7
r)1=

1

=

-

-(-X)

It canbe easilyseenthatfor7r,7 boundedawayfromone we have
T -X
m(Z, ,,r) - m(Z, /, 7) - A(Z, 7r - 7, , -i) = Xk

(Zi) + Op(1).

1

Xp

(1
)(11 )2
-(1-7))
7r
( -D -1

-

-

-

.

r

C, we have
Therefore,
one,(1 - ')-1 is boundedbysomeconstant
since,withprobability
approaching
=

m(Zi ,
lon)

n/2C1

,1

o, o) - A(Z,7i,

- m(Zi,

n

Zn

1

0

,

0)

Di -1

Ti .

Yi

(1- 1)
0)2
=Op(1).
(1-e
.i=
-* 0, and therefore
This resultholds because Assumption4.1(i) implies thatn1/2K2.(K/n+K-2s/r)
n1/2I-_ 012 =
op(1). The assumptions EM IY I < co, IXk IIbounded and rnobounded away fromone take care of the sample average
term.Therefore
m(Zi,o/30, ) =

1Li=

1i=

I
1

m(Zi,Po, r0)

i

1A(Zi,

- no,o,

0) + op(1).

16

REVIEW OF ECONOMIC STUDIES

NotethatiIA(Z, r, o, ro)II < b(Z). In
))] -[(D - 1)/(1l7r withb(Z) = IIXk[(T- X)/(X.(1
Y - X oll
0.
nr0)2]?
-it
from
the
of
Theorem
6.1 in
<
<
follows
00.
and
we
have
that
Then,
II
proof
By EMY2
IIXk bounded,
EMb(Z)2
oo
Newey(1994) that
1

- no, o,

(
n {A(Zi,

/1i=1

- EM [A(Z, r nro, , 0))
ro0)

+ K-sir]) = op(1).
= Op(K-s/r)+ Op(K . [(K/n)1/2
NotethatEM[A(Z, r, o, nro)]= E[8(X)sr(X)]. If:
(a) ForeachK, thereexists4K suchthat
-+ OandnK-2s/rE[IIS(X)-?KpK (X)112] 0,
-E[IIS(X)--KpK(X)II2]

(b) K5/n -+ 0,
(c) K2 . K-2s/r

->

0,

6.6 in Newey(1994) holdsforA(Z, 7r, 00,nro).Condition(a) holdsby Assumption
4.1(i) and by
then,Assumption
of3(X). Conditions
4.1(i). Undersuchconditions,
Newey(1994)
(b) and(c) followfromAssumption
square-integrability
showsthat
n1
1
of ir.
So theresultofthetheorem
followsfromexistenceofsecondmoments

II

Notice
to Q, whichis non-singular.
inprobability
4.2. By thelaw oflargenumbers
Q converges
ProofofTheorem
that
- Xki 0(Xi)(PiYt
Xki~f(Xi)(QiYi - Xki')

Di - I

( Ti -X

- Xki o)

i('(Xi)
no(Xi)) XkiXki(Pi-Xki
fO)"
)((X
and llN- 0oIIareop(l), we
Now,sinceIlXki11is bounded,EMy2 < o, nr0is boundedawayfromzero,and I -nro0oo
obtain

( T-1(1-x0)+
(1
-n)

n i= I|Xki'(Xi)(

Yi - XkiP)- Xki7r0(Xi)(f
ti Yi -

)2 = op(1).

(A.3)

For irboundedawayfromone,we havethat
A(Z, #, r) - A(Z, i,
P,N

N,ro0)Xk=

X(1 - X)

2IX)

(1-ro)
(D +( - 7r0)2Dk 1)Y (nr
(1- ,r)2(l

o)

-

XkXk(

-

0)

.

thereexistssomefunction,
+
Therefore,
Io IN+
N,r) - A(Z, #,N0,ro)||I< b(Z)(Inr - nro
b(.), suchthatIIA(Z,
,, 0 guarantees
<
with
00. Thisresult,
with
that
K7/n
along
EMb(Z)
-+
o11l)l1loo
n

|1I8(Xi)(Di

-

r(Xi))

- 6

(Xi)(Di

- 7ro(Xi))
I2 = oP(1)

(see Newey,1994). Equations(A.3) and (A.4), alongwiththeTriangleandHilder's inequalities,
implyE V.
result,V
II

(A.4)

E. As a

'
linearwith
4.3. First,let us provethatunderAssumption
4.2(i)-(iv), is asymptotically
ProofofTheorem
therefore(y influencefunctiongiven by equation (17). By Assumption4.2(ii), E[XX'] is non-singular,
- Yo) > 0 for y
o. As a result, for y
yo, X'y
X'yo in a set of positive probability.
o)'E[XX'](y
Let
Since r(v) is strictly
increasingin v e V, we have thatn(X'y) #rn(X'y0) in a set of positiveprobability.
+ (1 - D)log(l - r(X'y)).
my = Dlog(r(X'y))
E[my - myoI X] = E[Dlog(r(X'y)/r(X'yo))

+ (1 - D)log((1 - n(X'y))/(1 - n(X'yg))) I X]
= n(X'yg) log(r(X'y)/nr(X'yg))+ (1 - n(X'y0)) log((1 - r(X'y))/(1 - x(X'yg)))
< 0.

(A.5)

The lastinequality
followsfromlog . < X - 1, forX > 0, whichis strictforX 1. Sincen(X'y) # r(X'y0) with
< 0 for
and E[my - my0o]
in equation(A.5) is strictwithpositiveprobability
thentheinequality
positiveprobability,
y #yo. Since r(v) is boundedawayfromzeroand one in V, thentheabsolutevalueofmy is boundedby a constant

ABADIE

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

17

foranyy E F. This lastfact,alongwithcompactness
of .r(.), and Lemma2.4 in Neweyand
of F and S, continuity
McFadden(1994) guarantees
thatE[my] is a continuous
of y andthat
function
supy.

p

my(Zi) - E[my(Z)]

P

0.

ni=1
Theseconditions
aresufficient
for -+ yo (see, e.g.NeweyandMcFadden(1994,Theorem2.1)).
4.2 alongwithLemma7.6 in van der
distribution
of /ni(7- yo). Assumption
Now,letus studytheasymptotic
1/2is differentiable
Vaart(1998) guarantees
in quadratic
that,forpy = 7r(X'y)D(1 - r(X'y))(l-D), themap y
p
meanwithderivative

1/= X

-

r(X'y)(1 - r(X'y))

(D - 7r(X'y)).

Therefore,
the map y
pl/2 is differentiable
in quadraticmean at yo withderivative
1y0.Take a convexopen
neighbourhood
4.2(ii) and (iv), Ilamy/ayllis boundedby a constanton
Ny0 of Y0 containedin F. By Assumption
foranyY1,Y2 e NYoandforsome
by Theorem9.19 in Rudin(1976), 1myl- my2l MlIyl - Y211
NY0.Therefore,
constantM. Finallynoticethat,by Assumption
4.2(ii)-(iv),
o] = E[{0r2/( r0(1 - Or0))}XX']is non-singular.
E[olYo
Theorem
5.39
in
van
der
Vaart
we
obtain
Therefore,
(1998),
by
n1/2(Yo) = n-1/2 ni=1 0Y(Zi) + OP(1).
Let m(Z, P, y) = Xk7r(X'y)[(p(Z,y)Y - Xk]. By Assumption
4.2(vi), EM[m(Z, /,Y0)] has a uniquezeroat
=
of thetheorem,
thefunction
m(Z, f, y) is continuous
oY]. Undertheassumptions
0o (E[Xk
at each (P, y)rOXk])-1EM[Xk7rO
e x r. Since nr(X'y) is boundedawayfromzero and one, and bothY and IlXkIIhave finitefirst
thenIlm(Z,P, y)ll is dominated
moment.Therefore,
moments,
by Lemma2.3 in Newey
by a variablewithfinitefirst
andMcFadden(1994)

1-n

m(Zi, , y) -

sup(p,y)exxr

and E[m(Z, f, y)] is continuous
at each (f, y) e
supE

=1

m(Zi,~,

)

-

=1

EM[m(Z',

, y)]

p
p

0,

(A.6)

e x F. By theTriangleinequality,

E[m(Z,P, yo)]

!n

<-- supP

=)1m(Zi,

-

E[m(Z,,

)]

+ supPEOIIE[m(Z, P, 7)] - E[m(Z, P, yo)]l1.

(A.7)

of E[m(Z, P, y)] and
Equation(A.6) impliesthatthefirsttermof theR.H.S. of equation(A.7) is op(l). Continuity
of givepointwiseconvergence
forthesecondtermoftheR.H.S. ofequation(A.7), uniform
consistency
convergence
holdsby 6 beingcompact.Theseconditions
guarantee
$" po0.
It can be shownthatI|m(Z,P1,
Y1) m(Z, P2, Y2)11< IlXkll2 11p,1 P211+ (C . IYI1 |XkII + IIXk112I11211)
Iir(X'yl) - Tr(X'y2)11,forsome C > 0 and P1,P2 E R. UsingTheorem9.19 in Rudin(1976), it is easy to show
thatfor 1, y2 in some open ball containingyo, and X e S, IIr(X'yl) - 7r(X'y2)1l< M111 - y211,
forsome
M > 0. This Lipschitzproperty,
alongwiththeexistenceof finitesecondmomentsforY and Xk, impliesthatthe
class of functions
{m(Z, P, y) : 11P- Poll < c, IIy - Yl11 < c} is Donskerforsome c > 0 (see, e.g. van der
Vaart(1998, p. 271)). In addition,EM IIm(Z,0, y) - m(Z, 0o,Y0)112-> 0 as (p, y) -+ (P0, YO).Existenceof finite
secondmomentsforIIXkIIalso impliesthataEM[m(Z, P, y)]/8p = -E[Xk7r(X'y)Xk] whichis non-singular
in a
of yo by continuity.
of EM[m(Z, Pb, y)] at y0. Applyingthedelta
NoticethatMYo is thederivative
neighbourhood
method:nl/2EM[m(Z,Po, )] = nl/2Myo
linear,applyTheorem
(7 --0) + Op(1). Now,since7 is asymptotically
5.31 in vanderVaart(1998) to get

7

n/2_P) =
= Q
-1 nl/2
1
nl/2("-p0))

n
i=1

m(Zi0,&YO) + MYo*Yo(Zi) + Op(1).

of 4' impliestheresultofthetheorem. II
Then,existenceofsecondmoments
4.4. Like in theproofofTheorem4.2, noticethat
ProofofTheorem
Xkif~(X

(iYi

(

=

- Xkif)

XkTi Xki

(

(1 - 3)

Yi - X ki O)

- Xki
0o(Xi)(o0i

Di

(1 - ~2(Xi))(1

-1

-

(

no(Xi))

(Xi)

- no(Xi))
Xki~ki

shownabovefor r(.), and EMY2 < oo, we obtain
By theLipschitzproperty
i=
n

||m(Zi,,

) - m(Zi,

o0,

)||112= op(1).

-

(

-

0)
"

(A.8)

18

REVIEW OF ECONOMIC STUDIES

of *i and Lemma4.3 in Neweyand McFadden(1994) implythat11M-- MyoII = op(1). Usingsimilar
Continuity
2
itcan be easilyseenthatboundedness
ofi impliesthatn-1 =En
arguments,
f1(Zi)- o = op(1). Applythe
to obtainthedesiredresult. II
TriangleandHolder'sinequalities
Hahn,GuidoImbens,Jos6Machado,seminarparticipants
Acknowledgements.I thankJoshuaAngrist,
Jinyong
at Harvard/MIT,
ITAM, the 2000 AmericanStatisticalAssociationMeetings,the 2003 Econometric
SocietyNorth
and
AmericanWinterMeetings,and the2003 Bank of PortugalConference
thereferees,
on LabourMarketReform,
twoeditors(OrazioAttanasioandBernardSalani6)forhelpfulcomments.
REFERENCES
of Treatment
Instrumental
VariableEstimation
ABADIE, A. (2003), "Semiparametric
ResponseModels",Journalof
Econometrics,
113,231-263.
The Case oftheAmericans
Protection?
ACEMOGLU, D. andANGRIST,J.D. (2001), "ConsequencesofEmployment
withDisabilitiesAct",JournalofPoliticalEconomy,109,915-957.
and
in Labor Economics",in O. Ashenfelter
ANGRIST, J. D. and KRUEGER, A. B. (1999), "EmpiricalStrategies
D. Card(eds.) HandbookofLaborEconomics,Vol. 3A (Amsterdam:
ElsevierScience) 1277-1366.
Reviewof Economicsand
theEffectof TrainingProgramson Earnings",
ASHENFELTER, 0. (1978), "Estimating
Statistics,
60, 47-57.
Structure
ofEarningsto EstimatetheEffectsof
ASHENFELTER, 0. and CARD, D. (1985), "UsingtheLongitudinal
ReviewofEconomicsand Statistics,
67, 648-660.
Training
Programs",
Models"
in NonlinearDifference-in-Differences
and Inference
ATHEY, S. and IMBENS, G. (2002), "Identification
(Mimeo,Stanford
University).
BESLEY, T. and CASE, A. (1994), "UnnaturalExperiments?
Estimatingthe Incidenceof EndogenousPolicies"
(Working
PaperNo. 4956,NationalBureauofEconomicResearch).
theEmployment
BLUNDELL, R., COSTA DIAS, M., MEGHIR, C. andVANREENEN, J.(2001), "Evaluating
Impact
of a Mandatory
JobSearchAssistanceProgram"
(Mimeo,UCL).
in O. Ashenfelter
BLUNDELL, R. andMACURDY, T. (1999), "LaborSupply:A ReviewofAlternative
Approaches",
andD. Card(eds.) HandbookofLaborEconomics,Vol.3A (Amsterdam:
ElsevierScience) 1559-1695.
Industrialand Labor Relations
CARD, D. (1990), "The Impactof theMarielBoatlifton theMiamiLabourMarket",
Review,44, 245-257.
and
A Case StudyofCalifornia,
CARD, D. (1992), "Do Minimum
1987-1989",Industrial
WagesReduceEmployment?
LaborRelationsReview,46, 38-54.
A Case StudyoftheFast-FoodIndustry
CARD, D. andKRUEGER,A. B. (1994), "Minimum
WagesandEmployment:
in NewJersey
andPennsylvania",
AmericanEconomicReview,84, 772-793.
Journalof
CORAK, M. (2001), "Deathand Divorce:The Long TermConsequencesofParentalLoss on Adolescents",
LaborEconomics,19,682-715.
Journal
EISSA, N. andLIEBMAN, J.B. (1996), "LaborSupplyResponseto theEarnedIncomeTax Credit",
Quarterly
ofEconomics,111,605-637.
HealthInsurance:
FINKELSTEIN, A. (2002), "The Effectof Tax Subsidiesto Employer-Provided
Supplementary
EvidencefromCanada",JournalofPublicEconomics,84, 305-339.
Statutes
andCorporate
Control:TheEffectofAntitakeover
GARVEY, G. T. andHANKA,G. (1999), "CapitalStructure
on FirmLeverage",
JournalofFinance,54, 519-546.
ofSelectionBias",AmericanEconomicReview,80, 313-318.
HECKMAN, J.J.(1990), "Varieties
SelectionBias using
HECKMAN, J. J., ICHIMURA, H., SMITH, J. and TODD, P. E. (1998), "Characterizing
66, 1017-1098.
Experimental
Data",'Econometrica,
HECKMAN, J. J., ICHIMURA, H. and TODD, P. E. (1997), "Matchingas an EconometricEvaluation
Estimator:
EvidencefromEvaluating
a JobTraining
ReviewofEconomicStudies,64, 605-654.
Programme'",
Models to EstimatetheJoint
HERNAN, M. A., BRUMBACK, B. and ROBINS, J. M. (2001), "MarginalStructural
Causal EffectofNonrandomized
JournaloftheAmericanStatistical
Association,
96, 440-448.
Treatments",
froma Finite
of Samplingwithout
HORVITZ, D. G. and THOMPSON, D. J.(1952), "A Generalization
Replacement
JournaloftheAmericanStatistical
47, 663-685.
Association,
Universe",
ICHIMURA, H. and LINTON, 0. (2002), "Asymptotic
ProgramEvaluation
Expansionsforsome Semiparametric
Estimators"
(Mimeo,LondonSchoolofEconomics).
in Differences"
of Difference
IMBENS, G., LIEBMAN, J. B. and EISSA, N. (1997), "The Econometrics
(Mimeo,
HarvardUniversity).
EffectsUsingthe
ofAverageTreatment
Estimation
IMBENS, G. W.,HIRANO, K. andRIDDER, G. (2003), "Efficient
Estimated
71 (4), 1161-1189.
Score",Econometrica,
Propensity
in Economics"'JournalofBusiness& EconomicStatistics,
13,
MEYER, B. D. (1995), "NaturalandQuasi-Experiments
151-161.
MEYER, B. D., VISCUSI, W. K. and DURBIN, D. L. (1995), "Worker'sCompensationand InjuryDuration:
Evidencefroma NaturalExperiment",
EconomicReview,85, 322-340.
American
VarianceofSemiparametric
Econometrica,
62, 1349-1382.
NEWEY, W. K. (1994), "TheAsymptotic
Estimators",
JournalofEconometrics,
RatesandAsymptotic
forSeriesEstimators",
NEWEY, W. K. (1997),"Convergence
Normality
79, 147-168.

ABADIE

SEMIPARAMETRICDIFFERENCE-IN-DIFFERENCES

19

and Hypothesis
in R. E Engleand
NEWEY, W. K. andMcFADDEN, D. (1994), "LargeSampleEstimation
Testing",
D. McFadden(eds.) HandbookofEconometrics,
ElsevierScience).
Vol.4 (Amsterdam:
and Parametric
in Nonparametric
forIdentification
56,
ROEHRIG, C. S. (1988), "Conditions
Models",Econometrica,
433-447.
StudiesforCausal
ScoreinObservational
ROSENBAUM,P. andRUBIN,D. (1983),"TheCentralRole ofthePropensity
Effects",
Biometrika,
70, 41-55.
in Randomizedand Nonrandomized
Causal EffectsofTreatments
Journal
RUBIN, D. B. (1974), "Estimating
Studies",
66, 688-701.
ofEducationalPsychology,
JournalofEducationalStatistics,
toTreatment
oftheBasis ofa Covariate",
RUBIN,D. B. (1977), "Assignment
2, 1-26.
RUDIN, W. (1976) PrinciplesofMathematical
Analysis(New York:McGraw-Hill).
VAN DER VAART,A. W. (1998) Asymptotic
Statistics
Press).
University
Cambridge
(Cambridge:
WHITE, H. (1981), "Consequencesand Detectionof MisspecifiedNonlinearRegressionModels",Journalof the
AmericanStatistical
Association,
76, 419-433.
WOOLDRIDGE, J. M. (2001), "EstimatingAveragePartialEffectsunder ConditionalMomentIndependence
Restrictions"
(Mimeo,MichiganStateUniversity).
WOOLDRIDGE, J.M. (2002) Econometric
AnalysisofCrossSectionand PanelData (Cambridge:MIT Press).

